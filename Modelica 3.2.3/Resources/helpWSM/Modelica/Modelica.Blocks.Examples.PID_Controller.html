
<html>
<head>
  <meta charset="UTF-8">
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">SystemModeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.Blocks.html">Blocks</a></li>
  <li><a href="Modelica.Blocks.Examples.html">Examples</a></li>
  <li><a href="Modelica.Blocks.Examples.PID_Controller.html">PID_Controller</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>PID_Controller</h1>
    <p>Demonstrates the usage of a Continuous.LimPID controller</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.Blocks.Examples.PID_Controller_60x60.png"></div>
  </td></tr></table>
</header>
<section id="diagram">
<h1>Diagram</h1>
<div class="hideable">
<a class="colorbox" href="resources/diagrams/Modelica.Blocks.Examples.PID_Controller_diagram_large.png"><img src="resources/diagrams/Modelica.Blocks.Examples.PID_Controller_diagram.png"><span class="magnify"></span></a>
</div>
</section>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<p>
This is a simple drive train controlled by a PID controller:
</p>

<ul>
<li> The two blocks "kinematic_PTP" and "integrator" are used to generate
     the reference speed (= constant acceleration phase, constant speed phase,
     constant deceleration phase until inertia is at rest). To check
     whether the system starts in steady state, the reference speed is
     zero until time = 0.5 s and then follows the sketched trajectory.</li>

<li> The block "PI" is an instance of "Blocks.Continuous.LimPID" which is
     a PID controller where several practical important aspects, such as
     anti-windup-compensation has been added. In this case, the control block
     is used as PI controller.</li>

<li> The output of the controller is a torque that drives a motor inertia
     "inertia1". Via a compliant spring/damper component, the load
     inertia "inertia2" is attached. A constant external torque of 10 Nm
     is acting on the load inertia.</li>
</ul>

<p>
The PI controller settings included "limitAtInit=false", in order that
the controller output limits of 12 Nm are removed from the initialization
problem.
</p>

<p>
The PI controller is initialized in steady state (initType=SteadyState)
and the drive shall also be initialized in steady state.
However, it is not possible to initialize "inertia1" in SteadyState, because
"der(inertia1.phi)=inertia1.w=0" is an input to the PI controller that
defines that the derivative of the integrator state is zero (= the same
condition that was already defined by option SteadyState of the PI controller).
Furthermore, one initial condition is missing, because the absolute position
of inertia1 or inertia2 is not defined. The solution shown in this examples is
to initialize the angle and the angular acceleration of "inertia1".
</p>

<p>
In the following figure, results of a typical simulation are shown:
</p>

<img src="resources/Modelica.Blocks.Examples.PID_Controller_info_001.png"
     alt="PID_controller.png"><br>

<img src="resources/Modelica.Blocks.Examples.PID_Controller_info_002.png"
     alt="PID_controller2.png">

<p>
In the upper figure the reference speed (= integrator.y) and
the actual speed (= inertia1.w) are shown. As can be seen,
the system initializes in steady state, since no transients
are present. The inertia follows the reference speed quite good
until the end of the constant speed phase. Then there is a deviation.
In the lower figure the reason can be seen: The output of the
controller (PI.y) is in its limits. The anti-windup compensation
works reasonably, since the input to the limiter (PI.limiter.u)
is forced back to its limit after a transient phase.
</p>
</div>
</section>
<section id="parameters" >
  <h1>Parameters <span class="count">(1)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>driveAngle</th>
      <td>
        <p><span>Value:</span> 1.570796326794897</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Angle.html">Angle</a> (rad)</p>
        <p><span>Description:</span> Reference distance to move</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="components" class="closed">
  <h1>Components <span class="count">(9)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Blocks.Continuous.LimPID_32x32.png"></td>
      <th>PI</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Blocks.Continuous.LimPID.html">LimPID</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Mechanics.Rotational.Components.Inertia_32x32.png"></td>
      <th>inertia1</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Mechanics.Rotational.Components.Inertia.html">Inertia</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Mechanics.Rotational.Sources.Torque_32x32.png"></td>
      <th>torque</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Mechanics.Rotational.Sources.Torque.html">Torque</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Mechanics.Rotational.Components.SpringDamper_32x32.png"></td>
      <th>spring</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Mechanics.Rotational.Components.SpringDamper.html">SpringDamper</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Mechanics.Rotational.Components.Inertia_32x32.png"></td>
      <th>inertia2</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Mechanics.Rotational.Components.Inertia.html">Inertia</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Blocks.Sources.KinematicPTP_32x32.png"></td>
      <th>kinematicPTP</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Blocks.Sources.KinematicPTP.html">KinematicPTP</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Blocks.Continuous.Integrator_32x32.png"></td>
      <th>integrator</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Blocks.Continuous.Integrator.html">Integrator</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Mechanics.Rotational.Sensors.SpeedSensor_32x32.png"></td>
      <th>speedSensor</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Mechanics.Rotational.Sensors.SpeedSensor.html">SpeedSensor</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Mechanics.Rotational.Sources.ConstantTorque_32x32.png"></td>
      <th>loadTorque</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Mechanics.Rotational.Sources.ConstantTorque.html">ConstantTorque</a></p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
</div>
</body>
</html>