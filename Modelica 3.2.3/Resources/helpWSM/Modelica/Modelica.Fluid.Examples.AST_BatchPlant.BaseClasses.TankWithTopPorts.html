
<html>
<head>
  <meta charset="UTF-8">
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">SystemModeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.Fluid.html">Fluid</a></li>
  <li><a href="Modelica.Fluid.Examples.html">Examples</a></li>
  <li><a href="Modelica.Fluid.Examples.AST_BatchPlant.html">AST_BatchPlant</a></li>
  <li><a href="Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.html">BaseClasses</a></li>
  <li><a href="Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts.html">TankWithTopPorts</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>TankWithTopPorts</h1>
    <p>Tank with inlet/outlet ports and with inlet ports at the top</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts_60x60.png"></div>
  </td></tr></table>
</header>
<section id="diagram">
<h1>Diagram</h1>
<div class="hideable">
<a class="colorbox" href="resources/diagrams/Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts_diagram_large.png"><img src="resources/diagrams/Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts_diagram.png"><span class="magnify"></span></a>
</div>
</section>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<p>
Model of a tank that is open to the environment at the fixed pressure
<code>p_ambient</code>.
The tank is filled with a single or multiple-substance liquid,
assumed to have uniform temperature and mass fractions.
</p>

<p>
At the top of the tank over the maximal fill level <strong>height</strong>
a vector of FluidPorts, called <strong>topPorts</strong>, is present.
The assumption is made that fluid flows always in to the tank via these
ports (and never back in to the connector).
</p>

<p>
The vector of connectors <strong>ports</strong> are fluid ports at the bottom
and side of the tank at a definable height. Fluid can flow either out
of or in to this port. The fluid level of the tank may be below
one of these ports. This case is approximated by introducing a
large pressure flow coefficient so that the mass flow rate
through this port is very small in this case.
</p>

<p>
If the tank starts to over flow (i.e., level > height), an
assertion is triggered.
</p>

<p>
When the diagram layer is open in the plot environment, the
level of the tank is dynamically visualized. Note, the speed
of the diagram animation in Dymola can be set via command
<strong>animationSpeed</strong>(), e.g., animationSpeed(speed = 10)
</p>
</div>
</section>
<section id="parameters" >
  <h1>Parameters <span class="count">(24)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>energyDynamics</th>
      <td>
        <p><span>Value:</span> system.energyDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of energy balance</p>
      </td>
    </tr>
    <tr>
      <th>massDynamics</th>
      <td>
        <p><span>Value:</span> system.massDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of mass balance</p>
      </td>
    </tr>
    <tr>
      <th>substanceDynamics</th>
      <td>
        <p><span>Value:</span> massDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of substance balance</p>
      </td>
    </tr>
    <tr>
      <th>traceDynamics</th>
      <td>
        <p><span>Value:</span> massDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of trace substance balance</p>
      </td>
    </tr>
    <tr>
      <th>p_start</th>
      <td>
        <p><span>Value:</span> p_ambient</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Start value of pressure</p>
      </td>
    </tr>
    <tr>
      <th>use_T_start</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, use T_start, otherwise h_start</p>
      </td>
    </tr>
    <tr>
      <th>T_start</th>
      <td>
        <p><span>Value:</span> if use_T_start then system.T_start else Medium.temperature_phX(p_start, h_start, X_start)</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.Temperature.html">Temperature</a> (K)</p>
        <p><span>Description:</span> Start value of temperature</p>
      </td>
    </tr>
    <tr>
      <th>h_start</th>
      <td>
        <p><span>Value:</span> if use_T_start then Medium.specificEnthalpy_pTX(p_start, T_start, X_start) else Medium.h_default</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.SpecificEnthalpy.html">SpecificEnthalpy</a> (J/kg)</p>
        <p><span>Description:</span> Start value of specific enthalpy</p>
      </td>
    </tr>
    <tr>
      <th>X_start</th>
      <td>
        <p><span>Value:</span> Medium.X_default</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.MassFraction.html">MassFraction[Medium.nX]</a> (kg/kg)</p>
        <p><span>Description:</span> Start value of mass fractions m_i/m</p>
      </td>
    </tr>
    <tr>
      <th>C_start</th>
      <td>
        <p><span>Value:</span> Medium.C_default</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.ExtraProperty.html">ExtraProperty[Medium.nC]</a></p>
        <p><span>Description:</span> Start value of trace substances</p>
      </td>
    </tr>
    <tr>
      <th>height</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Height.html">Height</a> (m)</p>
        <p><span>Description:</span> Maximum level of tank before it overflows</p>
      </td>
    </tr>
    <tr>
      <th>crossArea</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Area.html">Area</a> (m²)</p>
        <p><span>Description:</span> Area of tank</p>
      </td>
    </tr>
    <tr>
      <th>V0</th>
      <td>
        <p><span>Value:</span> 0</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Volume.html">Volume</a> (m³)</p>
        <p><span>Description:</span> Volume of the liquid when level = 0</p>
      </td>
    </tr>
    <tr>
      <th>p_ambient</th>
      <td>
        <p><span>Value:</span> system.p_ambient</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts.Medium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Tank surface pressure</p>
      </td>
    </tr>
    <tr>
      <th>T_ambient</th>
      <td>
        <p><span>Value:</span> system.T_ambient</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts.Medium.Temperature.html">Temperature</a> (K)</p>
        <p><span>Description:</span> Tank surface Temperature</p>
      </td>
    </tr>
    <tr>
      <th>level_start</th>
      <td>
        <p><span>Value:</span> 0.5 * height</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Height.html">Height</a> (m)</p>
        <p><span>Description:</span> Start value of tank level</p>
      </td>
    </tr>
    <tr>
      <th>nTopPorts</th>
      <td>
        <p><span>Value:</span> 0</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of inlet ports above height (>= 1)</p>
      </td>
    </tr>
    <tr>
      <th>nPorts</th>
      <td>
        <p><span>Value:</span> 0</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of inlet/outlet ports (on bottom and on the side)</p>
      </td>
    </tr>
    <tr>
      <th>portsData</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselPortsData.html">VesselPortsData[nPorts]</a></p>
        <p><span>Description:</span> Data of inlet/outlet ports at side and bottom of tank</p>
      </td>
    </tr>
    <tr>
      <th>use_HeatTransfer</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true to use the HeatTransfer model</p>
      </td>
    </tr>
    <tr>
      <th>hysteresisFactor</th>
      <td>
        <p><span>Value:</span> 0.1</p>
        <p><span>Type:</span> Real</p>
        <p><span>Description:</span> Hysteresis for empty pipe = diameter*hysteresisFactor</p>
      </td>
    </tr>
    <tr>
      <th>stiffCharacteristicForEmptyPort</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> =true, if steep pressure loss characteristic for empty pipe port</p>
      </td>
    </tr>
    <tr>
      <th>zetaLarge</th>
      <td>
        <p><span>Value:</span> 1e5</p>
        <p><span>Type:</span> Real</p>
        <p><span>Description:</span> Large pressure loss factor if mass flows out of empty pipe port</p>
      </td>
    </tr>
    <tr>
      <th>m_flow_small</th>
      <td>
        <p><span>Value:</span> system.m_flow_small</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.MassFlowRate.html">MassFlowRate</a> (kg/s)</p>
        <p><span>Description:</span> Regularization range at zero mass flow rate</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="input" >
  <h1>Inputs <span class="count">(1)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>fluidVolume</th>
      <td>
        <p><span>Default Value:</span> V</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Volume.html">Volume</a> (m³)</p>
        <p><span>Description:</span> Volume</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="connectors" class="closed">
  <h1>Connectors <span class="count">(3)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_a_16x16.png"></td>
      <th>topPorts</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_a.html">VesselFluidPorts_a[nTopPorts]</a></p>
        <p><span>Description:</span> Inlet ports over height at top of tank (fluid flows only from the port in to the tank)</p>
      </td>
    </tr>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b_16x16.png"></td>
      <th>ports</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b.html">VesselFluidPorts_b[nPorts]</a></p>
        <p><span>Description:</span> inlet/outlet ports at bottom or side of tank (fluid flows in to or out of port; a port might be above the fluid level)</p>
      </td>
    </tr>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a_16x16.png"></td>
      <th>heatPort</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a.html">HeatPort_a</a></p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="components" class="closed">
  <h1>Components <span class="count">(4)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.System_32x32.png"></td>
      <th>system</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.System.html">System</a></p>
        <p><span>Description:</span> System properties</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.BaseProperties_32x32.png"></td>
      <th>medium</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.BaseProperties.html">BaseProperties</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Vessels.BaseClasses.VesselPortsData_32x32.png"></td>
      <th>portsData</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselPortsData.html">VesselPortsData[nPorts]</a></p>
        <p><span>Description:</span> Data of inlet/outlet ports at side and bottom of tank</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts.HeatTransfer_32x32.png"></td>
      <th>heatTransfer</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts.HeatTransfer.html">HeatTransfer</a></p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="used-in-examples" class="closed">
  <h1>Used in Examples <span class="count">(7)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-2">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.html">BatchPlant_StandardWater</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant</span</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank.html">OneTank</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant.Test</span</p>
        <p>Tank with one time-varying top inlet mass flow rate and a bottom outlet into the ambient</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks.html">TwoTanks</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant.Test</span</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1.html">TankWithEmptyingPipe1</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant.Test</span</p>
        <p>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2.html">TankWithEmptyingPipe2</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant.Test</span</p>
        <p>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1.html">TanksWithEmptyingPipe1</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant.Test</span</p>
        <p>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2.html">TanksWithEmptyingPipe2</a></p>
        <p><span>Modelica.Fluid.Examples.AST_BatchPlant.Test</span</p>
        <p>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
</div>
</body>
</html>