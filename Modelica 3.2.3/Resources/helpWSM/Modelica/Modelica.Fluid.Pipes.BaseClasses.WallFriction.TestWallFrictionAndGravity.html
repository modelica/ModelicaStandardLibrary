
<html>
<head>
  <meta charset="UTF-8">
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">SystemModeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.Fluid.html">Fluid</a></li>
  <li><a href="Modelica.Fluid.Pipes.html">Pipes</a></li>
  <li><a href="Modelica.Fluid.Pipes.BaseClasses.html">BaseClasses</a></li>
  <li><a href="Modelica.Fluid.Pipes.BaseClasses.WallFriction.html">WallFriction</a></li>
  <li><a href="Modelica.Fluid.Pipes.BaseClasses.WallFriction.TestWallFrictionAndGravity.html">TestWallFrictionAndGravity</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>TestWallFrictionAndGravity</h1>
    <p>Pressure loss in pipe due to wall friction and gravity (only for test purposes; if needed use Pipes.StaticPipe instead)</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.Fluid.Pipes.BaseClasses.WallFriction.TestWallFrictionAndGravity_60x60.png"></div>
  </td></tr></table>
</header>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<p>
This model describes pressure losses due to <strong>wall friction</strong> in a pipe
and due to gravity.
It is assumed that no mass or energy is stored in the pipe.
Correlations of different complexity and validity can be
selected via the replaceable package <strong>WallFriction</strong> (see parameter menu below).
The details of the pipe wall friction model are described in the
<a href="Modelica.Fluid.UsersGuide.ComponentDefinition.WallFriction.html">UsersGuide</a>.
Basically, different variants of the equation
</p>

<pre>
   dp = &lambda;(Re,<font face="Symbol">D</font>)*(L/D)*&rho;*v*|v|/2
</pre>

<p>
are used, where the friction loss factor &lambda; is shown
in the next figure:
</p>

<p>
<img src="resources/Modelica.Fluid.Pipes.BaseClasses.WallFriction.TestWallFrictionAndGravity_info_001.png"
     alt="PipeFriction1.png">
</p>

<p>
By default, the correlations are computed with media data
at the actual time instant.
In order to reduce non-linear equation systems, parameter
<strong>use_nominal</strong> provides the option
to compute the correlations with constant media values
at the desired operating point. This might speed-up the
simulation and/or might give a more robust simulation.
</p>
</div>
</section>
<section id="parameters" >
  <h1>Parameters <span class="count">(17)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>allowFlowReversal</th>
      <td>
        <p><span>Value:</span> system.allowFlowReversal</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true to allow flow reversal, false restricts to design direction (port_a -> port_b)</p>
      </td>
    </tr>
    <tr>
      <th>dp_start</th>
      <td>
        <p><span>Value:</span> dp_fric_nominal + system.g * height_ab * rho_nominal</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Guess value of dp = port_a.p - port_b.p</p>
      </td>
    </tr>
    <tr>
      <th>m_flow_start</th>
      <td>
        <p><span>Value:</span> system.m_flow_start</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.MassFlowRate.html">MassFlowRate</a> (kg/s)</p>
        <p><span>Description:</span> Guess value of m_flow = port_a.m_flow</p>
      </td>
    </tr>
    <tr>
      <th>m_flow_small</th>
      <td>
        <p><span>Value:</span> if system.use_eps_Re then system.eps_m_flow * m_flow_nominal else system.m_flow_small</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.MassFlowRate.html">MassFlowRate</a> (kg/s)</p>
        <p><span>Description:</span> Small mass flow rate for regularization of zero flow</p>
      </td>
    </tr>
    <tr>
      <th>show_T</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, if temperatures at port_a and port_b are computed</p>
      </td>
    </tr>
    <tr>
      <th>show_V_flow</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, if volume flow rate at inflowing port is computed</p>
      </td>
    </tr>
    <tr>
      <th>length</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Length.html">Length</a> (m)</p>
        <p><span>Description:</span> Length of pipe</p>
      </td>
    </tr>
    <tr>
      <th>diameter</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Diameter.html">Diameter</a> (m)</p>
        <p><span>Description:</span> Inner (hydraulic) diameter of pipe</p>
      </td>
    </tr>
    <tr>
      <th>crossArea</th>
      <td>
        <p><span>Value:</span> Modelica.Constants.pi * diameter * diameter / 4</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Area.html">Area</a> (m²)</p>
        <p><span>Description:</span> Inner cross section area</p>
      </td>
    </tr>
    <tr>
      <th>height_ab</th>
      <td>
        <p><span>Value:</span> 0.0</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Length.html">Length</a> (m)</p>
        <p><span>Description:</span> Height(port_b) - Height(port_a)</p>
      </td>
    </tr>
    <tr>
      <th>roughness</th>
      <td>
        <p><span>Value:</span> 2.5e-5</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Roughness.html">Roughness</a> (m)</p>
        <p><span>Description:</span> Absolute roughness of pipe (default = smooth steel pipe)</p>
      </td>
    </tr>
    <tr>
      <th>m_flow_nominal</th>
      <td>
        <p><span>Value:</span> if system.use_eps_Re then system.m_flow_nominal else 1e2 * system.m_flow_small</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.MassFlowRate.html">MassFlowRate</a> (kg/s)</p>
        <p><span>Description:</span> Nominal mass flow rate</p>
      </td>
    </tr>
    <tr>
      <th>use_nominal</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, if mu_nominal and rho_nominal are used, otherwise computed from medium</p>
      </td>
    </tr>
    <tr>
      <th>mu_nominal</th>
      <td>
        <p><span>Value:</span> Medium.dynamicViscosity(Medium.setState_pTX(Medium.p_default, Medium.T_default, Medium.X_default))</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.DynamicViscosity.html">DynamicViscosity</a> (Pa·s)</p>
        <p><span>Description:</span> Nominal dynamic viscosity (e.g., mu_liquidWater = 1e-3, mu_air = 1.8e-5)</p>
      </td>
    </tr>
    <tr>
      <th>rho_nominal</th>
      <td>
        <p><span>Value:</span> Medium.density_pTX(Medium.p_default, Medium.T_default, Medium.X_default)</p>
        <p><span>Type:</span> <a href="Modelica.SIunits.Density.html">Density</a> (kg/m³)</p>
        <p><span>Description:</span> Nominal density (e.g., rho_liquidWater = 995, rho_air = 1.2)</p>
      </td>
    </tr>
    <tr>
      <th>show_Re</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, if Reynolds number is included for plotting</p>
      </td>
    </tr>
    <tr>
      <th>from_dp</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, use m_flow = f(dp), otherwise dp = f(m_flow)</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="connectors" class="closed">
  <h1>Connectors <span class="count">(2)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Fluid.Interfaces.FluidPort_a_16x16.png"></td>
      <th>port_a</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.FluidPort_a.html">FluidPort_a</a></p>
        <p><span>Description:</span> Fluid connector a (positive design flow direction is from port_a to port_b)</p>
      </td>
    </tr>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Fluid.Interfaces.FluidPort_b_16x16.png"></td>
      <th>port_b</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.FluidPort_b.html">FluidPort_b</a></p>
        <p><span>Description:</span> Fluid connector b (positive design flow direction is from port_a to port_b)</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="components" class="closed">
  <h1>Components <span class="count">(3)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.System_32x32.png"></td>
      <th>system</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.System.html">System</a></p>
        <p><span>Description:</span> System wide properties</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.ThermodynamicState_32x32.png"></td>
      <th>state_a</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.ThermodynamicState.html">ThermodynamicState</a></p>
        <p><span>Description:</span> state for medium inflowing through port_a</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.ThermodynamicState_32x32.png"></td>
      <th>state_b</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialTwoPortTransport.Medium.ThermodynamicState.html">ThermodynamicState</a></p>
        <p><span>Description:</span> state for medium inflowing through port_b</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
</div>
</body>
</html>