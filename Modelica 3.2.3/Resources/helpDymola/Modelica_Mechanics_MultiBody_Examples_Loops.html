<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Modelica.Mechanics.MultiBody.Examples.Loops</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Examples with kinematic loops&quot;">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; border: 1px solid #808080; vertical-align: top; }
th      { padding: 2px; border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Loops<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Modelica.Mechanics.MultiBody.Examples.Loops"></a><a href="Modelica_Mechanics_MultiBody_Examples.html#Modelica.Mechanics.MultiBody.Examples"
>Modelica.Mechanics.MultiBody.Examples</a>.Loops</h2>
<p>
<span class="ModelicaDescription">Examples with kinematic loops</span><br>
</p>
<h3>Information</h3>

<p>
This package contains different examples to show how
mechanical systems with kinematic loops can be modeled.
</p>
<h4>Content</h4>
<table border=1 cellspacing=0 cellpadding=2>
  <tr><th><strong><em>Model</em></strong></th><th><strong><em>Description</em></strong></th></tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1a"
>Engine1a</a><br>
             <a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b"
>Engine1b</a><br>
             <a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b_analytic"
>Engine1b_analytic</a></td>
      <td> Model of one cylinder engine (Engine1a: simple, without combustion; Engine1b: with combustion;
           Engine1b_analytic: same as Engine1b but analytic loop handling)<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/Engine.png">
      </td>
  </tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6"
>EngineV6</a><br>
<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6_analytic"
>EngineV6_analytic</a></td>
      <td> V6 engine with 6 cylinders, 6 planar loops and 1 degree-of-freedom.
           Second version with analytic handling of kinematic loops and CAD data
           animation.<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/EngineV6_small.png">
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/EngineV6_CAD_smaller.png">
      </td>
  </tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar1"
>Fourbar1</a></td>
      <td> One kinematic loop with four bars (with only revolute joints;
           5 non-linear equations)<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/Fourbar1_small.png">
      </td>
  </tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar2"
>Fourbar2</a></td>
      <td> One kinematic loop with four bars (with UniversalSpherical
           joint; 1 non-linear equation)<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/Fourbar2_small.png">
      </td>
  </tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar_analytic"
>Fourbar_analytic</a></td>
      <td> One kinematic loop with four bars (with JointSSP joint;
           analytic solution of non-linear algebraic loop)<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/Fourbar_analytic_small.png">
      </td>
  </tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.PlanarFourbar"
>PlanarFourbar</a></td>
      <td> Planar four bars  with one kinematic loop (with RevolutePlanarLoopConstraint joint)<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/PlanarFourbar_small.png">
      </td>
  </tr>
  <tr><td><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.PlanarLoops_analytic"
>PlanarLoops_analytic</a></td>
      <td> Mechanism with three planar kinematic loops and one
           degree-of-freedom with analytic loop handling
           (with JointRRR joints)<br>
      <img src="../Images/Mechanics/MultiBody/Examples/Loops/PlanarLoops_small.png">
      </td>
  </tr>
</table>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</span></p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1a" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1a"
>Engine1a</a>
</td>
<td>Model of one cylinder engine</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b"
>Engine1b</a>
</td>
<td>Model of one cylinder engine with gas force and preparation for assembly joint JointRRP</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b_analytic" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b_analytic"
>Engine1b_analytic</a>
</td>
<td>Model of one cylinder engine with gas force and analytic loop handling</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6"
>EngineV6</a>
</td>
<td>V6 engine with 6 cylinders, 6 planar loops and 1 degree-of-freedom</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6_analytic" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6_analytic"
>EngineV6_analytic</a>
</td>
<td>V6 engine with 6 cylinders, 6 planar loops, 1 degree-of-freedom and analytic handling of kinematic loops</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar1" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar1"
>Fourbar1</a>
</td>
<td>One kinematic loop with four bars (with only revolute joints; 5 non-linear equations)</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar2" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar2"
>Fourbar2</a>
</td>
<td>One kinematic loop with four bars (with UniversalSpherical joint; 1 non-linear equation)</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar_analytic" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar_analytic"
>Fourbar_analytic</a>
</td>
<td>One kinematic loop with four bars (with JointSSP joint; analytic solution of non-linear algebraic loop)</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.PlanarFourbar" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.PlanarFourbar"
>PlanarFourbar</a>
</td>
<td>Planar four bars mechanism with one kinematic loop (with RevolutePlanarLoopConstraint joint)</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB3246a735b83be7a8lyticS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.PlanarLoops_analytic" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.PlanarLoops_analytic"
>PlanarLoops_analytic</a>
</td>
<td>Mechanism with three planar kinematic loops and one degree-of-freedom with analytic loop handling (with JointRRR joints)</td>
</tr>
<tr>
<td><img src="Modelica.Mechanics.MultiB7a4f6558158e8b64itiesS.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Utilities" width="20" height="20" align="top">&nbsp;<a href="Modelica_Mechanics_MultiBody_Examples_Loops_Utilities.html#Modelica.Mechanics.MultiBody.Examples.Loops.Utilities"
>Utilities</a>
</td>
<td>Utility models for Examples.Loops</td>
</tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Engine1a<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1a" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1a"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.Engine1a</h2>
<p>
<span class="ModelicaDescription">Model of one cylinder engine</span>
</p>
<h3>Information</h3>

<p>
This is a model of the mechanical part of one cylinder of an engine.
The combustion is not modelled. The "inertia" component at the lower
left part is the output inertia of the engine driving the gearbox.
The angular velocity of the output inertia has a start value of 10 rad/s
in order to demonstrate the movement of the engine.
</p>
<p>
The engine is modeled solely by revolute and prismatic joints.
Since this results in a <strong>planar</strong> loop there is the well known
difficulty that the cut-forces perpendicular to the loop cannot be
uniquely computed, as well as the cut-torques within the plane.
This ambiguity is resolved by using the option <strong>planarCutJoint</strong>
in the <strong>Advanced</strong> menu of one revolute joint in every planar loop
(here: joint B1). This option sets the cut-force in direction of the
axis of rotation, as well as the cut-torques perpendicular to the axis
of rotation at this joint to zero and makes the problem mathematically
well-formed.
</p>
<p>
An animation of this example is shown in the figure below.
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/Engine.png" alt="model Examples.Loops.Engine">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Engine1b<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.Engine1b</h2>
<p>
<span class="ModelicaDescription">Model of one cylinder engine with gas force and preparation for assembly joint JointRRP</span>
</p>
<h3>Information</h3>

<p>
This is a model of the mechanical part of one cylinder of an engine.
It is similar to
<a href="../../Mechanics/MultiBody/Examples/Loops/Engine1a">Loops.Engine1a</a>.
The difference is that a simple
model for the gas force in the cylinder is added and that the
model is restructured in such a way, that the central part of
the planar kinematic loop can be easily replaced by the
assembly joint "Modelica.Mechanics.MultiBody.Joints.Assemblies.<strong>JointRRP</strong>".
This exchange of the kinematic loop is shown in
<a href="../../Mechanics/MultiBody/Examples/Loops/Engine1b_analytic">Loops.Engine1b_analytic</a>.
The advantage of using JointRRP is, that the
non-linear algebraic equation of this loop is solved analytically, and
not numerically as in this model (Engine1b).
</p>
<p>
An animation of this example is shown in the figure below.
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/Engine.png" alt="model Examples.Loops.Engine">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples), <a href="Modelica_Mechanics_MultiBody_Examples_Loops_Utilities.html#Modelica.Mechanics.MultiBody.Examples.Loops.Utilities.Engine1bBase"
>Utilities.Engine1bBase</a> (Model of one cylinder engine with gas force).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Engine1b_analytic<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b_analytic" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b_analytic"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.Engine1b_analytic</h2>
<p>
<span class="ModelicaDescription">Model of one cylinder engine with gas force and analytic loop handling</span>
</p>
<h3>Information</h3>

<p>
This is the same model as
<a href="../../Mechanics/MultiBody/Examples/Loops/Engine1b">Loops.Engine1b</a>.
The only difference is that the central part of
the planar kinematic loop has been replaced by the
assembly joint "Modelica.Mechanics.MultiBody.Joints.Assemblies.<strong>JointRRP</strong>".
The advantage of using JointRRP is, that the
non-linear algebraic equation of this loop is solved analytically, and
not numerically as in
<a href="../../Mechanics/MultiBody/Examples/Loops/Engine1b">Loops.Engine1b</a>.
</p>
<p>
An animation of this example is shown in the figure below.
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/Engine.png" alt="model Examples.Loops.Engine">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples), <a href="Modelica_Mechanics_MultiBody_Examples_Loops_Utilities.html#Modelica.Mechanics.MultiBody.Examples.Loops.Utilities.Engine1bBase"
>Utilities.Engine1bBase</a> (Model of one cylinder engine with gas force).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE EngineV6<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.EngineV6</h2>
<p>
<span class="ModelicaDescription">V6 engine with 6 cylinders, 6 planar loops and 1 degree-of-freedom</span>
</p>
<h3>Information</h3>

<p>
This is a V6 engine with 6 cylinders. It is hierarchically built
up by using instances of one cylinder. For more details on the
modeling of one cylinder, see example
<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.Engine1b"
>Engine1b</a>.
An animation of the engine is shown in the figure below.
</p>

<p>
<img src="../Images/Mechanics/MultiBody/Examples/Loops/EngineV6.png" alt="model Examples.Loops.EngineV6">
</p>

<p>
Simulate for 3 s with about 50000 output intervals, and plot the variables <strong>engineSpeed_rpm</strong>,
<strong>engineTorque</strong>, and <strong>filteredEngineTorque</strong>. Note, the result file has
a size of about 300 Mbyte in this case. The default setting of StopTime = 1.01 s (with the default setting of the tool for the number of output points), in order that (automatic) regression testing does not have to cope with a large result file.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>animation</td><td>= true, if animation shall be enabled</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE EngineV6_analytic<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6_analytic" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.EngineV6_analytic"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.EngineV6_analytic</h2>
<p>
<span class="ModelicaDescription">V6 engine with 6 cylinders, 6 planar loops, 1 degree-of-freedom and analytic handling of kinematic loops</span>
</p>
<h3>Information</h3>

<p>
This is a similar model as the example "EngineV6". However, the cylinders
have been built up with component Modelica.Mechanics.MultiBody.Joints.Assemblies.JointRRR that
solves the non-linear system of equations in an aggregation of 3 revolution
joints <strong>analytically</strong> and only one body is used that holds the total
mass of the crank shaft:
</p>

<p>
<img src="../Images/Mechanics/MultiBody/Examples/Loops/EngineV6_CAD_small.png">
</p>

<p>
This model is about 20 times faster as the EngineV6 example and <strong>no</strong> linear or
non-linear system of equations occur. In contrast, the "EngineV6" example
leads to 6 systems of nonlinear equations (every system has dimension = 5, with
Evaluate=false and dimension=1 with Evaluate=true) and a linear system of equations
of about 40. This shows the power of the analytic loop handling.
</p>


<p>
Simulate for 3 s with about 50000 output intervals, and plot the variables <strong>engineSpeed_rpm</strong>,
<strong>engineTorque</strong>, and <strong>filteredEngineTorque</strong>. Note, the result file has
a size of about 240 Mbyte in this case. The default setting of StopTime = 1.01 s (with the default setting of the tool for the number of output points), in order that (automatic) regression testing does not have to cope with a large result file.
</p>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>animation</td><td>= true, if animation shall be enabled</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Fourbar1<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar1" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar1"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.Fourbar1</h2>
<p>
<span class="ModelicaDescription">One kinematic loop with four bars (with only revolute joints; 5 non-linear equations)</span>
</p>
<h3>Information</h3>

<p>
This is a simple kinematic loop consisting of 6 revolute joints, 1 prismatic joint
and 4 bars that is often used as basic constructing unit in mechanisms.
This example demonstrates that usually no particular knowledge
of the user is needed to handle kinematic loops.
Just connect the joints and bodies together according
to the real system. In particular <strong>no</strong> cut-joints or a spanning tree has
to be determined. In this case, the initial condition of the angular velocity
of revolute joint j1 is set to 300 deg/s in order to drive this loop.
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/Fourbar1.png" alt="model Examples.Loops.Fourbar1">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Fourbar2<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar2" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar2"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.Fourbar2</h2>
<p>
<span class="ModelicaDescription">One kinematic loop with four bars (with UniversalSpherical joint; 1 non-linear equation)</span>
</p>
<h3>Information</h3>

<p>
This is a second version of the "four-bar" mechanism, see figure:
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/Fourbar2.png" alt="model Examples.Loops.Fourbar2">

<p>
In this case
the three revolute joints on the left top-side and the two revolute
joints on the right top side have been replaced by the joint <strong>UniversalSpherical</strong>
that is a rod connecting a spherical and a universal joint. This joint is defined
by <strong>1 constraint</strong> stating that the distance between the two spherical joints is
constant. Using this joint in a kinematic loop reduces the sizes of
non-linear algebraic equations. For this loop, only one non-linear
algebraic system of equations of order 1 remains.
</p>
<p>
At the UniversalSpherical joint an additional frame_ia fixed to the rod
is present where components can be attached to the connecting rod. In this
example just a coordinate system is attached to visualize frame_ia (coordinate
system on the right in blue color).
</p>
<p>
Another feature is that the length of the connecting rod can be
automatically calculated during <strong>initialization</strong>. In order to do this,
another initialization condition has to be given. In this example, the
initial value of the distance of the prismatic joint j2 has been fixed
(via the "Initialization" menu) and the rod length of joint
"UniversalSpherical" is computed during initialization since parameter
<strong>computeLength</strong> = <strong>true</strong> is set in the joint parameter
menu. The main advantage is that during initialization no non-linear
system of equation is solved and therefore initialization always works.
To be precise, the following trivial non-linear equation is actually solved
for rodLength:
</p>
<pre>
   rodLength*rodLength = f(angle of revolute joint, distance of prismatic joint)
</pre>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Fourbar_analytic<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar_analytic" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.Fourbar_analytic"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.Fourbar_analytic</h2>
<p>
<span class="ModelicaDescription">One kinematic loop with four bars (with JointSSP joint; analytic solution of non-linear algebraic loop)</span>
</p>
<h3>Information</h3>

<p>
This is a third version of the "four-bar" mechanism, see figure:
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/Fourbar_analytic.png" alt="model Examples.Loops.Fourbar_analytic">

<p>
In this case
the three revolute joints on the left top-side and the two revolute
joints on the right top side have been replaced by the assembly joint
<strong>Joints.Assemblies.JointSSP</strong>
which consists of two spherical joints and one prismatic joint.
Since JointSSP solves the non-linear constraint equation internally
analytically, no non-linear equation appears any more and a Modelica
translator can transform the system into state space
form without solving a system of equations. For more details, see
<a href="Modelica_Mechanics_MultiBody_UsersGuide_Tutorial_LoopStructures.html#Modelica.Mechanics.MultiBody.UsersGuide.Tutorial.LoopStructures.AnalyticLoopHandling"
>
MultiBody.UsersGuide.Tutorial.LoopStructures.AnalyticLoopHandling</a>.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PlanarFourbar<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB0be5d0ac24ffbbcaine1aI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.PlanarFourbar" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.PlanarFourbar"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.PlanarFourbar</h2>
<p>
<span class="ModelicaDescription">Planar four bars mechanism with one kinematic loop (with RevolutePlanarLoopConstraint joint)</span>
</p>
<h3>Information</h3>

<p>
A planar four link mechanism demonstrating possible usage of the
<a href="Modelica_Mechanics_MultiBody_Joints.html#Modelica.Mechanics.MultiBody.Joints.RevolutePlanarLoopConstraint"
>RevolutePlanarLoopConstraint</a>.
In this planar example, all the revolute joints rotate about axes perpendicular
to the x-y plane, i.e. they all are parallel to each other.
To enable a unique numerical solution in such a case,
one RevolutePlanarLoopConstraint has to be introduced
instead of the common revolute joint.
</p>

<p>
Another option is to use the assembly joint
<strong>Joints.Assemblies.JointRRR</strong> instead of a part
of the mechanism, as demonstrated in the example
<a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops.PlanarLoops_analytic"
>PlanarLoops_analytic</a>.
</p>

<blockquote>
<img src="../Images/Mechanics/MultiBody/Examples/Loops/PlanarFourbar.png" alt="model Examples.Loops.PlanarFourbar">
</blockquote>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PlanarLoops_analytic<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Mechanics.MultiB3246a735b83be7a8lyticI.png" alt="Modelica.Mechanics.MultiBody.Examples.Loops.PlanarLoops_analytic" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Mechanics.MultiBody.Examples.Loops.PlanarLoops_analytic"></a><a href="Modelica_Mechanics_MultiBody_Examples_Loops.html#Modelica.Mechanics.MultiBody.Examples.Loops"
>Modelica.Mechanics.MultiBody.Examples.Loops</a>.PlanarLoops_analytic</h2>
<p>
<span class="ModelicaDescription">Mechanism with three planar kinematic loops and one degree-of-freedom with analytic loop handling (with JointRRR joints)</span>
</p>
<h3>Information</h3>

<p>
It is demonstrated how the Modelica.Mechanics.MultiBody.Joints.Assemblies.JointRRR joint can be
used to solve the non-linear equations of coupled planar loops analytically.
In the mechanism below no non-linear equation occurs any more from the tool
view, since these equations are solved analytically in the JointRRR joints.
For more details, see
<a href="Modelica_Mechanics_MultiBody_UsersGuide_Tutorial_LoopStructures.html#Modelica.Mechanics.MultiBody.UsersGuide.Tutorial.LoopStructures.AnalyticLoopHandling"
>
MultiBody.UsersGuide.Tutorial.LoopStructures.AnalyticLoopHandling</a>.
</p>

<p>
In the following figure the parameter vectors of this example are visualized in the
animation view.
</p>

<img src="../Images/Mechanics/MultiBody/Examples/Loops/PlanarLoops2.png" alt="model Examples.Loops.PlanarLoops2">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>rh[3]</td><td>Position vector from &#39;lower left&#39; revolute to &#39;lower right&#39; revolute joint for all the 3 loops [m]</td></tr>
<tr><td>rv[3]</td><td>Position vector from &#39;lower left&#39; revolute to &#39;upper left&#39; revolute joint in the first loop [m]</td></tr>
<tr><td>r1b[3]</td><td>Position vector from &#39;lower right&#39; revolute to &#39;upper right&#39; revolute joint in the first loop [m]</td></tr>
<tr><td>r2b[3]</td><td>Position vector from &#39;lower right&#39; revolute to &#39;upper right&#39; revolute joint in the second loop [m]</td></tr>
<tr><td>r3b[3]</td><td>Position vector from &#39;lower right&#39; revolute to &#39;upper right&#39; revolute joint in the third loop [m]</td></tr>
</table>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Thu Dec 19 17:20:06 2019.
</address>
</body>
</html>
