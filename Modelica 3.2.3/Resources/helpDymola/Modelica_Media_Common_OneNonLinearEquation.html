<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Modelica.Media.Common.OneNonLinearEquation</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Determine solution of a non-linear algebraic equation in one unknown without derivatives in a reliable and efficient way&quot;">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; border: 1px solid #808080; vertical-align: top; }
th      { padding: 2px; border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE OneNonLinearEquation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Modelica.Media.Common.OneNonLinearEquation"></a><a href="Modelica_Media_Common.html#Modelica.Media.Common"
>Modelica.Media.Common</a>.OneNonLinearEquation</h2>
<p>
<span class="ModelicaDescription">Determine solution of a non-linear algebraic equation in one unknown without derivatives in a reliable and efficient way</span><br>
</p>
<h3>Information</h3>

<p>
This function should currently only be used in Modelica.Media,
since it might be replaced in the future by another strategy,
where the tool is responsible for the solution of the non-linear
equation.
</p>

<p>
This library determines the solution of one non-linear algebraic equation "y=f(x)"
in one unknown "x" in a reliable way. As input, the desired value y of the
non-linear function has to be given, as well as an interval x_min, x_max that
contains the solution, i.e., "f(x_min) - y" and "f(x_max) - y" must
have a different sign. If possible, a smaller interval is computed by
inverse quadratic interpolation (interpolating with a quadratic polynomial
through the last 3 points and computing the zero). If this fails,
bisection is used, which always reduces the interval by a factor of 2.
The inverse quadratic interpolation method has superlinear convergence.
This is roughly the same convergence rate as a globally convergent Newton
method, but without the need to compute derivatives of the non-linear
function. The solver function is a direct mapping of the Algol 60 procedure
"zero" to Modelica, from:
</p>

<dl>
<dt> Brent R.P.:</dt>
<dd> <strong>Algorithms for Minimization without derivatives</strong>.
     Prentice Hall, 1973, pp. 58-59.</dd>
</dl>

<p>
Due to current limitations of the
Modelica language (not possible to pass a function reference to a function),
the construction to use this solver on a user-defined function is a bit
complicated (this method is from Hans Olsson, Dassault Syst&egrave;mes AB). A user has to
provide a package in the following way:
</p>

<pre>
  <strong>package</strong> MyNonLinearSolver
    <strong>extends</strong> OneNonLinearEquation;

    <strong>redeclare record extends</strong> Data
      // Define data to be passed to user function
      ...
    <strong>end</strong> Data;

    <strong>redeclare function extends</strong> f_nonlinear
    <strong>algorithm</strong>
       // Compute the non-linear equation: y = f(x, Data)
    <strong>end</strong> f_nonlinear;

    // Dummy definition that has to be present for current Dymola
    <strong>redeclare function extends</strong> solve
    <strong>end</strong> solve;
  <strong>end</strong> MyNonLinearSolver;

  x_zero = MyNonLinearSolver.solve(y_zero, x_min, x_max, data=data);
</pre>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</a> (Icon for standard packages).</span></p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Modelica.Media.Common.One6f1b27059dc01742_DataS.png" alt="Modelica.Media.Common.OneNonLinearEquation.f_nonlinear_Data" width="20" height="20" align="top">&nbsp;<a href="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation.f_nonlinear_Data"
>f_nonlinear_Data</a>
</td>
<td>Data specific for function f_nonlinear</td>
</tr>
<tr>
<td><img src="Modelica.Media.Common.One7d4d60cc09cd91ccinearS.png" alt="Modelica.Media.Common.OneNonLinearEquation.f_nonlinear" width="20" height="20" align="top">&nbsp;<a href="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation.f_nonlinear"
>f_nonlinear</a>
</td>
<td>Nonlinear algebraic equation in one unknown: y = f_nonlinear(x,p,X)</td>
</tr>
<tr>
<td><img src="Modelica.Media.Common.One7d4d60cc09cd91ccinearS.png" alt="Modelica.Media.Common.OneNonLinearEquation.solve" width="20" height="20" align="top">&nbsp;<a href="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation.solve"
>solve</a>
</td>
<td>Solve f_nonlinear(x_zero)=y_zero; f_nonlinear(x_min) - y_zero and f_nonlinear(x_max)-y_zero must have different sign</td>
</tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE f_nonlinear_Data<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Media.Common.One6f1b27059dc01742_DataI.png" alt="Modelica.Media.Common.OneNonLinearEquation.f_nonlinear_Data" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Media.Common.OneNonLinearEquation.f_nonlinear_Data"></a><a href="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation"
>Modelica.Media.Common.OneNonLinearEquation</a>.f_nonlinear_Data</h2>
<p>
<span class="ModelicaDescription">Data specific for function f_nonlinear</span>
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</a> (Icon for records).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE f_nonlinear<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Media.Common.One7d4d60cc09cd91ccinearI.png" alt="Modelica.Media.Common.OneNonLinearEquation.f_nonlinear" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Media.Common.OneNonLinearEquation.f_nonlinear"></a><a href="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation"
>Modelica.Media.Common.OneNonLinearEquation</a>.f_nonlinear</h2>
<p>
<span class="ModelicaDescription">Nonlinear algebraic equation in one unknown: y = f_nonlinear(x,p,X)</span>
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</span></p>
<h3>Inputs</h3>
<table summary="Inputs" class="ModelicaTableInputs">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>x</td><td>Independent variable of function</td></tr>
<tr><td>p</td><td>Disregarded variables (here always used for pressure)</td></tr>
<tr><td>X[:]</td><td>Disregarded variables (her always used for composition)</td></tr>
<tr><td>f_nonlinear_data</td><td>Additional data for the function</td></tr>
</table>
<h3>Outputs</h3>
<table summary="Outputs" class="ModelicaTableOutputs">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>y</td><td>= f_nonlinear(x)</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE solve<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Media.Common.One7d4d60cc09cd91ccinearI.png" alt="Modelica.Media.Common.OneNonLinearEquation.solve" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Media.Common.OneNonLinearEquation.solve"></a><a href="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation"
>Modelica.Media.Common.OneNonLinearEquation</a>.solve</h2>
<p>
<span class="ModelicaDescription">Solve f_nonlinear(x_zero)=y_zero; f_nonlinear(x_min) - y_zero and f_nonlinear(x_max)-y_zero must have different sign</span>
</p>
<h3>Information</h3>
<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</span></p>
<h3>Inputs</h3>
<table summary="Inputs" class="ModelicaTableInputs">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>y_zero</td><td>Determine x_zero, such that f_nonlinear(x_zero) = y_zero</td></tr>
<tr><td>x_min</td><td>Minimum value of x</td></tr>
<tr><td>x_max</td><td>Maximum value of x</td></tr>
<tr><td>pressure</td><td>Disregarded variables (here always used for pressure)</td></tr>
<tr><td>X[:]</td><td>Disregarded variables (here always used for composition)</td></tr>
<tr><td>f_nonlinear_data</td><td>Additional data for function f_nonlinear</td></tr>
<tr><td>x_tol</td><td>Relative tolerance of the result</td></tr>
</table>
<h3>Outputs</h3>
<table summary="Outputs" class="ModelicaTableOutputs">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>x_zero</td><td>f_nonlinear(x_zero) = y_zero</td></tr>
</table>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Thu Dec 19 17:20:15 2019.
</address>
</body>
</html>
