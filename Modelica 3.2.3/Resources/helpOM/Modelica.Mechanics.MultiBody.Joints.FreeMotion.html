<?xml version="1.0"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="HTML Tidy for HTML5 for Linux version 5.2.0" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>Modelica.Mechanics.MultiBody.Joints.FreeMotion</title>
</head>
<body>
<h1><a href="Icons/753d016611eb08885f0d2c6065116030edbbe24a.svg"><img class="svgiconhead" src="Icons/753d016611eb08885f0d2c6065116030edbbe24a.svg"/></a>Â <a class="omc-h1-a" href="index.html">.</a><a class="omc-h1-a" href="Modelica.html">Modelica</a>.<a class="omc-h1-a" href="Modelica.Mechanics.html">Mechanics</a>.<a class="omc-h1-a" href="Modelica.Mechanics.MultiBody.html">MultiBody</a>.<a class="omc-h1-a" href="Modelica.Mechanics.MultiBody.Joints.html">Joints</a>.<span class="omc-h1">FreeMotion</span></h1>
<h2><a id="info" name="info">Information</a></h2>
<p>Joint which does not constrain the motion between frame_a and
frame_b. Such a joint is only meaningful if the
<strong>relative</strong> distance and orientation between frame_a
and frame_b, and their derivatives, shall be used as
<strong>states</strong>.</p>
<p>Note, that <strong>bodies</strong> such as Parts.Body,
Parts.BodyShape, have potential states describing the distance and
orientation, and their derivatives, between the <strong>world
frame</strong> and a <strong>body fixed frame</strong>. Therefore,
if these potential state variables are suited, a FreeMotion joint
is not needed.</p>
<p>The states of the FreeMotion object are:</p>
<ul>
<li>The <strong>relative position vector</strong> r_rel_a from the
origin of frame_a to the origin of frame_b, resolved in frame_a and
the <strong>relative velocity</strong> v_rel_a of the origin of
frame_b with respect to the origin of frame_a, resolved in frame_a
(= der(r_rel_a)).</li>
<li>If parameter <strong>useQuaternions</strong> in the "Advanced"
menu is <strong>true</strong> (this is the default), then <strong>4
quaternions</strong> are states. Additionally, the coordinates of
the relative angular velocity vector are 3 potential states.<br/>
If <strong>useQuaternions</strong> in the "Advanced" menu is
<strong>false</strong>, then <strong>3 angles</strong> and the
derivatives of these angles are potential states. The orientation
of frame_b is computed by rotating frame_a along the axes defined
in parameter vector "sequence_angleStates" (default = {1,2,3},
i.e., the Cardan angle sequence) around the angles used as states.
For example, the default is to rotate the x-axis of frame_a around
angles[1], the new y-axis around angles[2] and the new z-axis
around angles[3], arriving at frame_b.</li>
</ul>
<p>The quaternions have the slight disadvantage that there is a
non-linear constraint equation between the 4 quaternions.
Therefore, at least one non-linear equation has to be solved during
simulation. A tool might, however, analytically solve this simple
constraint equation. Using the 3 angles as states has the
disadvantage that there is a singular configuration in which a
division by zero will occur. If it is possible to determine in
advance for an application class that this singular configuration
is outside of the operating region, the 3 angles might be used as
states by setting <strong>useQuaternions</strong> =
<strong>false</strong>.</p>
<p>In text books about 3-dimensional mechanics often 3 angles and
the angular velocity are used as states. This is not the case here,
since 3 angles and their derivatives are used as states (if
useQuaternions = false). The reason is that for real-time
simulation the discretization formula of the integrator might be
"inlined" and solved together with the model equations. By
appropriate symbolic transformation the performance is drastically
increased if angles and their derivatives are used as states,
instead of angles and the angular velocity.</p>
<p>If parameter <strong>enforceStates</strong> is set to
<strong>true</strong> (= the default) in the "Advanced" menu, then
FreeMotion variables are forced to be used as states according to
the setting of parameters "useQuaternions" and
"sequence_angleStates".</p>
<p>In the following figure the animation of a FreeMotion joint is
shown. The light blue coordinate system is frame_a and the dark
blue coordinate system is frame_b of the joint. (here:
r_rel_a_start = {0.5, 0, 0.5}, angles_start = {45, 45,
45}<sup>o</sup>).</p>
<p><img src="../../../Modelica%203.2.3/Resources/Images/Mechanics/MultiBody/Joints/FreeMotion.png"/></p>
<hr/>
Generated at 2019-01-24T09:03:13Z by <a href="http://openmodelica.org">OpenModelica 1.14.0~dev-130-gefa44fb</a>
</body>
</html>
