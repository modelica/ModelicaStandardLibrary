<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Linux version 5.2.0" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="style.css" rel="stylesheet" type="text/css" />
<title>
Modelica.Media.UsersGuide.MediumUsage.OptionalProperties</title>
</head>
<body>
<h1><a href="Icons/eabc7a5a0dbfbc22298176ba9276e1c5aef3dfa9.svg"><img class="svgiconhead" src="Icons/eabc7a5a0dbfbc22298176ba9276e1c5aef3dfa9.svg" /></a>&nbsp;<a class="omc-h1-a" href="index.html">.</a><a class="omc-h1-a" href="Modelica.html">Modelica</a>.<a class="omc-h1-a" href="Modelica.Media.html">Media</a>.<a class="omc-h1-a" href="Modelica.Media.UsersGuide.html">UsersGuide</a>.<a class="omc-h1-a" href="Modelica.Media.UsersGuide.MediumUsage.html">MediumUsage</a>.<span class="omc-h1">OptionalProperties</span></h1>
<h2><a name="info" id="info">Information</a></h2>
<p>In some cases additional medium properties are needed. A
component that needs these optional properties has to call one of
the functions listed in the following table. They are defined as
partial functions within package <a href="Modelica.Media.Interfaces.PartialMedium.html">PartialMedium</a>,
and then (optionally) implemented in actual medium packages. If a
component calls such an optional function and the medium package
does not provide a new implementation for this function, an error
message is printed at translation time, since the function is
"partial", i.e., incomplete. The argument of all functions is the
<strong>state</strong> record, automatically defined by the
BaseProperties model or specifically computed using the
setState_XXX functions, which contains the minimum number of
thermodynamic variables needed to compute all the additional
properties. In the table it is assumed that there is a declaration
of the form:</p>
<pre>
   <strong>replaceable package</strong> Medium = Modelica.Media.Interfaces.PartialMedium;
   Medium.ThermodynamicState state;
</pre>
<table border="1" cellspacing="0" cellpadding="2">
<tr>
<td><strong>Function call</strong></td>
<td><strong>Unit</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td>Medium.dynamicViscosity(state)</td>
<td>Pa.s</td>
<td>dynamic viscosity</td>
</tr>
<tr>
<td>Medium.thermalConductivity(state)</td>
<td>W/(m.K)</td>
<td>thermal conductivity</td>
</tr>
<tr>
<td>Medium.prandtlNumber(state)</td>
<td>1</td>
<td>Prandtl number</td>
</tr>
<tr>
<td>Medium.specificEntropy(state)</td>
<td>J/(kg.K)</td>
<td>specific entropy</td>
</tr>
<tr>
<td>Medium.specificHeatCapacityCp(state)</td>
<td>J/(kg.K)</td>
<td>specific heat capacity at constant pressure</td>
</tr>
<tr>
<td>Medium.specificHeatCapacityCv(state)</td>
<td>J/(kg.K)</td>
<td>specific heat capacity at constant density</td>
</tr>
<tr>
<td>Medium.isentropicExponent(state)</td>
<td>1</td>
<td>isentropic exponent</td>
</tr>
<tr>
<td>Medium.isentropicEnthatlpy(pressure, state)</td>
<td>J/kg</td>
<td>isentropic enthalpy</td>
</tr>
<tr>
<td>Medium.velocityOfSound(state)</td>
<td>m/s</td>
<td>velocity of sound</td>
</tr>
<tr>
<td>Medium.isobaricExpansionCoefficient(state)</td>
<td>1/K</td>
<td>isobaric expansion coefficient</td>
</tr>
<tr>
<td>Medium.isothermalCompressibility(state)</td>
<td>1/Pa</td>
<td>isothermal compressibility</td>
</tr>
<tr>
<td>Medium.density_derp_h(state)</td>
<td>kg/(m3.Pa)</td>
<td>derivative of density by pressure at constant enthalpy</td>
</tr>
<tr>
<td>Medium.density_derh_p(state)</td>
<td>kg2/(m3.J)</td>
<td>derivative of density by enthalpy at constant pressure</td>
</tr>
<tr>
<td>Medium.density_derp_T(state)</td>
<td>kg/(m3.Pa)</td>
<td>derivative of density by pressure at constant temperature</td>
</tr>
<tr>
<td>Medium.density_derT_p(state)</td>
<td>kg/(m3.K)</td>
<td>derivative of density by temperature at constant pressure</td>
</tr>
<tr>
<td>Medium.density_derX(state)</td>
<td>kg/m3</td>
<td>derivative of density by mass fraction</td>
</tr>
<tr>
<td>Medium.molarMass(state)</td>
<td>kg/mol</td>
<td>molar mass</td>
</tr>
</table>
<p>There are also some short forms provided for user convenience
that allow the computation of certain thermodynamic state variables
without using the ThermodynamicState record explicitly. Those short
forms are for example useful to compute consistent start values in
the initial equation section. Let's consider the function
temperature_phX(p,h,X) as an example. This function computes the
temperature from pressure, specific enthalpy, and composition X (or
Xi) and is a short form for writing</p>
<pre>
  temperature(setState_phX(p,h,X))
</pre>
<p>The following functions are predefined in PartialMedium (other
functions can be added in the actual medium implementation package
if they are useful)</p>
<table border="1" cellspacing="0" cellpadding="2">
<tr>
<td>Medium.specificEnthalpy_pTX(p,T,X)</td>
<td>J/kg</td>
<td>Specific enthalpy at p, T, X</td>
</tr>
<tr>
<td>Medium.temperature_phX(p,h,X)</td>
<td>K</td>
<td>Temperature at p, h, X</td>
</tr>
<tr>
<td>Medium.density_phX(p,h,X)</td>
<td>kg/m3</td>
<td>Density at p, h, X</td>
</tr>
<tr>
<td>Medium.temperature_psX(p,s,X)</td>
<td>K</td>
<td>Temperature at p, s, X</td>
</tr>
<tr>
<td>Medium.specificEnthalpy_psX(p,s,X)</td>
<td>J/(kg.K)</td>
<td>Specific entropy at p, s, X</td>
</tr>
</table>
<p>Assume for example that the dynamic viscosity eta is needed in
the pressure drop equation of a short pipe. Then, the model of a
short pipe has to be changed to:</p>
<pre>
  <strong>model</strong> ShortPipe
      ...
    Medium.BaseProperties medium_a "Medium properties in port_a";
    Medium.BaseProperties medium_b "Medium properties in port_b";
      ...
    Medium.DynamicViscosity eta;
      ...
    eta = <strong>if</strong> port_a.m_flow &gt; 0 <strong>then</strong>
               Medium.dynamicViscosity(medium_a.state)
          <strong>else</strong>
               Medium.dynamicViscosity(medium_b.state);
    // use eta in the pressure drop equation: port_a.m_flow = f(dp, eta)
  <strong>end</strong> ShortPipe;
</pre>
<p>Note, "Medium.DynamicViscosity" is a type defined in
Modelica.Interfaces.PartialMedium as</p>
<pre>
  <strong>import</strong> SI = Modelica.SIunits;
  <strong>type</strong> DynamicViscosity = SI.DynamicViscosity (
                                     min=0,
                                     max=1.e8,
                                     nominal=1.e-3,
                                     start=1.e-3);
</pre>
<p>Every medium model may modify the attributes, to provide, e.g.,
min, max, nominal, and start values adapted to the medium. Also,
other types, such as AbsolutePressure, Density, MassFlowRate, etc.
are defined in PartialMedium. Whenever possible, these medium
specific types should be used in a model in order that medium
information, e.g., about nominal or start values, are automatically
utilized.</p>
<hr />
Generated at 2018-10-20T17:02:17Z by <a href="http://openmodelica.org">OpenModelica 1.13.0~dev-1491-g87333c1</a>
</body>
</html>
