<?xml version="1.0"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="HTML Tidy for HTML5 for Linux version 5.6.0" name="generator"/>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>ModelicaReference.Operators.'delay()'</title>
</head>
<body>
<h1><a href="Icons/eabc7a5a0dbfbc22298176ba9276e1c5aef3dfa9.svg"><img class="svgiconhead" src="Icons/eabc7a5a0dbfbc22298176ba9276e1c5aef3dfa9.svg"/></a> <a class="omc-h1-a" href="index.html">.</a><a class="omc-h1-a" href="ModelicaReference.html">ModelicaReference</a>.<a class="omc-h1-a" href="ModelicaReference.Operators.html">Operators</a>.<span class="omc-h1">'delay()'</span></h1>
<h2><a id="info" name="info">Information</a></h2>
<p>Delay expression</p>
<h4>Syntax</h4>
<blockquote>
<pre><strong>delay</strong>(expr, delayTime, delayMax)
<strong>delay</strong>(expr, delayTime)</pre></blockquote>
<h4>Description</h4>
<p>Returns <code>"expr(time - delayTime)"</code> for <code>time
&gt; time.start + delayTime</code> and
<code>"expr(time.start)"</code> for <code>time ≤ time.start +
delayTime</code>. The arguments, i.e., <code>expr</code>,
<code>delayTime</code> and <code>delayMax</code>, need to be
subtypes of Real. <code>delayMax</code> needs to be additionally a
parameter expression. The following relation shall hold: <code>0 ≤
delayTime ≤ delayMax</code>, otherwise an error occurs. If
<code>delayMax</code> is not supplied in the argument list,
<code>delayTime</code> need to be a parameter expression.</p>
<p><em>[The <strong>delay</strong> operator allows a numerical
sound implementation by interpolating in the (internal) integrator
polynomials, as well as a more simple realization by interpolating
linearly in a buffer containing past values of expression expr.
Without further information, the complete time history of the
delayed signals need to be stored, because the delay time may
change during simulation. To avoid excessive storage requirements
and to enhance efficiency, the maximum allowed delay time has to be
given via delayMax, or delayTime must be a parameter expression (so
that the constant delay is known before simulation starts). This
gives an upper bound on the values of the delayed signals which
have to be stored. For realtime simulation where fixed step size
integrators are used, this information is sufficient to allocate
the necessary storage for the internal buffer before the simulation
starts. For variable step size integrators, the buffer size is
dynamic during integration. In principal, a delay operator could
break algebraic loops. For simplicity, this is not supported
because the minimum delay time has to be give as additional
argument to be fixed at compile time. Furthermore, the maximum step
size of the integrator is limited by this minimum delay time in
order to avoid extrapolation in the delay buffer.]</em></p>
<h4>Examples</h4>
<pre><strong>model</strong> Delay
  Real x;
  Real y;
<strong>equation
  der</strong>(x) = 2;
  y = <strong>delay</strong>(x, 1);
<strong>end</strong> Delay;</pre>
<img alt="Simulation result" height="280" src="../../../ModelicaReference%203.2.3/Resources/Images/delay.png" width="400"/>
<hr/>
Generated at 2020-06-05T07:38:22Z by <a href="http://openmodelica.org">OpenModelica 1.16.0~dev-420-gc007a39</a>
</body>
</html>
