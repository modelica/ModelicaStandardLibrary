<HTML>
<HEAD>
<TITLE>Modelica.Blocks.Sources</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Library of signal source blocks generating Real and Boolean signals&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Sources<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Blocks.Sources"></A><A HREF="Modelica_Blocks.html#Modelica.Blocks"
>Modelica.Blocks</A>.Sources</H2>
<B>Library of signal source blocks generating Real and Boolean signals</B>
<P>
<H3>Information</H3>
<PRE></pre>
<p>
This package contains <b>source</b> components, i.e., blocks which
have only output signals. These blocks are used as signal generators
for Real, Integer and Boolean signals.
</p>

<p>
All Real source signals (with the exception of the Constant source)
have at least the following two parameters:
</p>

<table border=1 cellspacing=0 cellpadding=2>
  <tr><td valign="top"><b>offset</b></td>
      <td valign="top">Value which is added to the signal</td>
  </tr>
  <tr><td valign="top"><b>startTime</b></td>
      <td valign="top">Start time of signal. For time &lt; startTime,
                the output y is set to offset.</td>
  </tr>
</table>

<p>
The <b>offset</b> parameter is especially useful in order to shift
the corresponding source, such that at initial time the system
is stationary. To determine the corresponding value of offset,
usually requires a trimming calculation.
</p>
<pre>
</PRE><P>
<H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.RealExpressionS.png" ALT="Modelica.Blocks.Sources.RealExpression" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>RealExpression</A>
</TD><TD>Set output signal to a time varying Real expression</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.IntegerExpressionS.png" ALT="Modelica.Blocks.Sources.IntegerExpression" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.IntegerExpression"
>IntegerExpression</A>
</TD><TD>Set output signal to a time varying Integer expression</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.BooleanExpressionS.png" ALT="Modelica.Blocks.Sources.BooleanExpression" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanExpression"
>BooleanExpression</A>
</TD><TD>Set output signal to a time varying Boolean expression</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.ClockS.png" ALT="Modelica.Blocks.Sources.Clock" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Clock"
>Clock</A>
</TD><TD>Generate actual time signal </TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.ConstantS.png" ALT="Modelica.Blocks.Sources.Constant" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Constant</A>
</TD><TD>Generate constant signal of type Real</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.StepS.png" ALT="Modelica.Blocks.Sources.Step" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Step</A>
</TD><TD>Generate step signal of type Real</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.RampS.png" ALT="Modelica.Blocks.Sources.Ramp" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Ramp</A>
</TD><TD>Generate ramp signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.SineS.png" ALT="Modelica.Blocks.Sources.Sine" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Sine</A>
</TD><TD>Generate sine signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.ExpSineS.png" ALT="Modelica.Blocks.Sources.ExpSine" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.ExpSine"
>ExpSine</A>
</TD><TD>Generate exponentially damped sine signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.ExponentialsS.png" ALT="Modelica.Blocks.Sources.Exponentials" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Exponentials"
>Exponentials</A>
</TD><TD>Generate a rising and falling exponential signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.PulseS.png" ALT="Modelica.Blocks.Sources.Pulse" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Pulse</A>
</TD><TD>Generate pulse signal of type Real</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.SawToothS.png" ALT="Modelica.Blocks.Sources.SawTooth" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.SawTooth"
>SawTooth</A>
</TD><TD>Generate saw tooth signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.TrapezoidS.png" ALT="Modelica.Blocks.Sources.Trapezoid" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Trapezoid"
>Trapezoid</A>
</TD><TD>Generate trapezoidal signal of type Real</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.KinematicPTPS.png" ALT="Modelica.Blocks.Sources.KinematicPTP" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP"
>KinematicPTP</A>
</TD><TD>Move as fast as possible along a distance within given kinematic constraints</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.KinematicPTP2S.png" ALT="Modelica.Blocks.Sources.KinematicPTP2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP2"
>KinematicPTP2</A>
</TD><TD>Move as fast as possible from start to end position within given kinematic constraints with output signals q, qd=der(q), qdd=der(qd)</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.TimeTableS.png" ALT="Modelica.Blocks.Sources.TimeTable" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>TimeTable</A>
</TD><TD>Generate a (possibly discontinuous) signal by linear interpolation in a table</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.CombiTimeTableS.png" ALT="Modelica.Blocks.Sources.CombiTimeTable" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.CombiTimeTable"
>CombiTimeTable</A>
</TD><TD>Table look-up with respect to time and linear/perodic extrapolation methods (data from matrix/file)</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.BooleanConstantS.png" ALT="Modelica.Blocks.Sources.BooleanConstant" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanConstant"
>BooleanConstant</A>
</TD><TD>Generate constant signal of type Boolean</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.BooleanStepS.png" ALT="Modelica.Blocks.Sources.BooleanStep" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanStep"
>BooleanStep</A>
</TD><TD>Generate step signal of type Boolean</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.BooleanPulseS.png" ALT="Modelica.Blocks.Sources.BooleanPulse" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanPulse"
>BooleanPulse</A>
</TD><TD>Generate pulse signal of type Boolean</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.SampleTriggerS.png" ALT="Modelica.Blocks.Sources.SampleTrigger" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.SampleTrigger"
>SampleTrigger</A>
</TD><TD>Generate sample trigger signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.BooleanTableS.png" ALT="Modelica.Blocks.Sources.BooleanTable" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanTable"
>BooleanTable</A>
</TD><TD>Generate a Boolean output signal based on a vector of time instants</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.IntegerConstantS.png" ALT="Modelica.Blocks.Sources.IntegerConstant" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.IntegerConstant"
>IntegerConstant</A>
</TD><TD>Generate constant signal of type Integer</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Sources.IntegerStepS.png" ALT="Modelica.Blocks.Sources.IntegerStep" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.IntegerStep"
>IntegerStep</A>
</TD><TD>Generate step signal of type Integer</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RealExpression<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.RealExpressionI.png" ALT="Modelica.Blocks.Sources.RealExpression" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.RealExpression"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.RealExpression</H2>
<B>Set output signal to a time varying Real expression</B><p>
<IMG SRC="Modelica.Blocks.Sources.RealExpressionD.png" ALT="Modelica.Blocks.Sources.RealExpression">
<H3>Information</H3>
<PRE></pre>
<p>
The (time varying) Real output signal of this block can be defined in its
parameter menu via variable <b>y</b>. The purpose is to support the
easy definition of Real expressions in a block diagram. For example,
in the y-menu the definition "if time &lt; 1 then 0 else 1" can be given in order
to define that the output signal is one, if time &ge; 1 and otherwise
it is zero. Note, that "time" is a built-in variable that is always
accessible and represents the "model time" and that
Variable <b>y</b> is both a variable and a connector.
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Time varying output signal</TD></TR>
<TR><TD><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>0.0</TD><TD>Value of Real output</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=3>Time varying output signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Value of Real output</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> RealExpression <font color="darkgreen">
  &quot;Set output signal to a time varying Real expression&quot;</font>

  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> y=0.0 <font color="darkgreen">&quot;Value of Real output&quot;</font>;


<font color="blue">end </font>RealExpression;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE IntegerExpression<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.IntegerExpressionI.png" ALT="Modelica.Blocks.Sources.IntegerExpression" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.IntegerExpression"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.IntegerExpression</H2>
<B>Set output signal to a time varying Integer expression</B><p>
<IMG SRC="Modelica.Blocks.Sources.IntegerExpressionD.png" ALT="Modelica.Blocks.Sources.IntegerExpression">
<H3>Information</H3>
<PRE></pre>
<p>
The (time varying) Integer output signal of this block can be defined in its
parameter menu via variable <b>y</b>. The purpose is to support the
easy definition of Integer expressions in a block diagram. For example,
in the y-menu the definition "if time &lt; 1 then 0 else 1" can be given in order
to define that the output signal is one, if time &ge; 1 and otherwise
it is zero. Note, that "time" is a built-in variable that is always
accessible and represents the "model time" and that
Variable <b>y</b> is both a variable and a connector.
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Time varying output signal</TD></TR>
<TR><TD><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</A></TD><TD>y</TD><TD>0</TD><TD>Value of Integer output</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=3>Time varying output signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</A></TD><TD>y</TD><TD>Value of Integer output</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> IntegerExpression <font color="darkgreen">
  &quot;Set output signal to a time varying Integer expression&quot;</font>

  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>Modelica.Blocks.Interfaces.IntegerOutput</A> y=0 <font color="darkgreen">&quot;Value of Integer output&quot;</font>;


<font color="blue">end </font>IntegerExpression;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BooleanExpression<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.BooleanExpressionI.png" ALT="Modelica.Blocks.Sources.BooleanExpression" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.BooleanExpression"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.BooleanExpression</H2>
<B>Set output signal to a time varying Boolean expression</B><p>
<IMG SRC="Modelica.Blocks.Sources.BooleanExpressionD.png" ALT="Modelica.Blocks.Sources.BooleanExpression">
<H3>Information</H3>
<PRE></pre>
<p>
The (time varying) Boolean output signal of this block can be defined in its
parameter menu via variable <b>y</b>. The purpose is to support the
easy definition of Boolean expressions in a block diagram. For example,
in the y-menu the definition "time &gt;= 1 and time &lt;= 2" can be given in order
to define that the output signal is <b>true</b> in the time interval
1 &le; time &le; 2 and otherwise it is <b>false</b>.
Note, that "time" is a built-in variable that is always
accessible and represents the "model time" and that
Variable <b>y</b> is both a variable and a connector.
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Time varying output signal</TD></TR>
<TR><TD><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>false</TD><TD>Value of Boolean output</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=3>Time varying output signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Value of Boolean output</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> BooleanExpression <font color="darkgreen">
  &quot;Set output signal to a time varying Boolean expression&quot;</font>

  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</A> y=false <font color="darkgreen">&quot;Value of Boolean output&quot;</font>;


<font color="blue">end </font>BooleanExpression;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Clock<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.ClockI.png" ALT="Modelica.Blocks.Sources.Clock" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Clock"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Clock</H2>
<B>Generate actual time signal </B><p>
<IMG SRC="Modelica.Blocks.Sources.ClockD.png" ALT="Modelica.Blocks.Sources.Clock">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a clock signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Clock.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Clock <font color="darkgreen">&quot;Generate actual time signal &quot;</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">
    &quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;


<font color="blue">equation </font>
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>time - startTime);
<font color="blue">end </font>Clock;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Constant<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.ConstantI.png" ALT="Modelica.Blocks.Sources.Constant" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Constant"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Constant</H2>
<B>Generate constant signal of type Real</B><p>
<IMG SRC="Modelica.Blocks.Sources.ConstantD.png" ALT="Modelica.Blocks.Sources.Constant">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a constant signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Constant.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>k</TD><TD>&nbsp;</TD><TD>Constant output value</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Constant <font color="darkgreen">&quot;Generate constant signal of type Real&quot;</font>
  <font color="blue">parameter </font>Real k(start=1) <font color="darkgreen">&quot;Constant output value&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;

<font color="blue">equation </font>
  y = k;
<font color="blue">end </font>Constant;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Step<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.StepI.png" ALT="Modelica.Blocks.Sources.Step" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Step"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Step</H2>
<B>Generate step signal of type Real</B><p>
<IMG SRC="Modelica.Blocks.Sources.StepD.png" ALT="Modelica.Blocks.Sources.Step">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a step signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Step.png">
</p>

<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>height</TD><TD>1</TD><TD>Height of step</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal y</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output y = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Step <font color="darkgreen">&quot;Generate step signal of type Real&quot;</font>
  <font color="blue">parameter </font>Real height=1 <font color="darkgreen">&quot;Height of step&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SignalSource"
>Interfaces.SignalSource</A>;

<font color="blue">equation </font>
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>height);
<font color="blue">end </font>Step;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Ramp<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.RampI.png" ALT="Modelica.Blocks.Sources.Ramp" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Ramp"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Ramp</H2>
<B>Generate ramp signal</B><p>
<IMG SRC="Modelica.Blocks.Sources.RampD.png" ALT="Modelica.Blocks.Sources.Ramp">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a ramp signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Ramp.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>height</TD><TD>1</TD><TD>Height of ramps</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>duration</TD><TD>&nbsp;</TD><TD>Durations of ramp [s]</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Ramp <font color="darkgreen">&quot;Generate ramp signal&quot;</font>
  <font color="blue">parameter </font>Real height=1 <font color="darkgreen">&quot;Height of ramps&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> duration(min=Modelica.Constants.small, start = 2) <font color="darkgreen">
    &quot;Durations of ramp&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">
    &quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;


<font color="blue">equation </font>
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font><font color="blue">if </font>time &lt; (startTime +
    duration)<font color="blue"> then </font>(time - startTime)*height/duration<font color="blue"> else </font>height);
<font color="blue">end </font>Ramp;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Sine<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.SineI.png" ALT="Modelica.Blocks.Sources.Sine" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Sine"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Sine</H2>
<B>Generate sine signal</B><p>
<IMG SRC="Modelica.Blocks.Sources.SineD.png" ALT="Modelica.Blocks.Sources.Sine">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a sine signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Sine.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>amplitude</TD><TD>1</TD><TD>Amplitude of sine wave</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Frequency</A></TD><TD>freqHz</TD><TD>&nbsp;</TD><TD>Frequency of sine wave [Hz]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>phase</TD><TD>0</TD><TD>Phase of sine wave [rad]</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Sine <font color="darkgreen">&quot;Generate sine signal&quot;</font>
  <font color="blue">parameter </font>Real amplitude=1 <font color="darkgreen">&quot;Amplitude of sine wave&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>SIunits.Frequency</A> freqHz(start=1) <font color="darkgreen">&quot;Frequency of sine wave&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>SIunits.Angle</A> phase=0 <font color="darkgreen">&quot;Phase of sine wave&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;
<font color="blue">protected </font>
  <font color="blue">constant </font>Real pi=Modelica.Constants.pi;

<font color="blue">equation </font>
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>amplitude*
    <font color="red">Modelica.Math.sin</font>(2*pi*freqHz*(time - startTime) + phase));
<font color="blue">end </font>Sine;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ExpSine<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.ExpSineI.png" ALT="Modelica.Blocks.Sources.ExpSine" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.ExpSine"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.ExpSine</H2>
<B>Generate exponentially damped sine signal</B><p>
<IMG SRC="Modelica.Blocks.Sources.ExpSineD.png" ALT="Modelica.Blocks.Sources.ExpSine">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a sine signal with exponentially changing amplitude:
</p>

<p>
<img src="../Images/Blocks/Sources/ExpSine.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>amplitude</TD><TD>1</TD><TD>Amplitude of sine wave</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>Frequency</A></TD><TD>freqHz</TD><TD>&nbsp;</TD><TD>Frequency of sine wave [Hz]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</A></TD><TD>phase</TD><TD>0</TD><TD>Phase of sine wave [rad]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Damping"
>Damping</A></TD><TD>damping</TD><TD>&nbsp;</TD><TD>Damping coefficient of sine wave [s-1]</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> ExpSine <font color="darkgreen">&quot;Generate exponentially damped sine signal&quot;</font>
  <font color="blue">parameter </font>Real amplitude=1 <font color="darkgreen">&quot;Amplitude of sine wave&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>SIunits.Frequency</A> freqHz(start=2) <font color="darkgreen">&quot;Frequency of sine wave&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Angle"
>SIunits.Angle</A> phase=0 <font color="darkgreen">&quot;Phase of sine wave&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Damping"
>SIunits.Damping</A> damping(start=1) <font color="darkgreen">&quot;Damping coefficient of sine wave&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;
<font color="blue">protected </font>
  <font color="blue">constant </font>Real pi=Modelica.Constants.pi;

<font color="blue">equation </font>
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>amplitude*
    <font color="red">Modelica.Math.exp</font>(-(time - startTime)*damping)*<font color="red">Modelica.Math.sin</font>(2*pi
    *freqHz*(time - startTime) + phase));
<font color="blue">end </font>ExpSine;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Exponentials<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.ExponentialsI.png" ALT="Modelica.Blocks.Sources.Exponentials" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Exponentials"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Exponentials</H2>
<B>Generate a rising and falling exponential signal</B><p>
<IMG SRC="Modelica.Blocks.Sources.ExponentialsD.png" ALT="Modelica.Blocks.Sources.Exponentials">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a rising exponential followed
by a falling exponential signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Exponentials.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>outMax</TD><TD>1</TD><TD>Height of output for infinite riseTime</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>riseTime</TD><TD>&nbsp;</TD><TD>Rise time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>riseTimeConst</TD><TD>0.1</TD><TD>Rise time constant; rising is defined as outMax*(1-exp(-riseTime/riseTimeConst)) [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>fallTimeConst</TD><TD>riseTimeConst</TD><TD>Fall time constant [s]</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Exponentials <font color="darkgreen">&quot;Generate a rising and falling exponential signal&quot;</font>

  <font color="blue">parameter </font>Real outMax=1 <font color="darkgreen">&quot;Height of output for infinite riseTime&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> riseTime(min=0,start = 0.5) <font color="darkgreen">&quot;Rise time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> riseTimeConst(min=Modelica.Constants.small)=0.1 <font color="darkgreen">
    &quot;Rise time constant; rising is defined as outMax*(1-exp(-riseTime/riseTimeConst))&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> fallTimeConst(min=Modelica.Constants.small)=
    riseTimeConst <font color="darkgreen">&quot;Fall time constant&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;
<font color="blue">protected </font>
  Real y_riseTime;

<font color="blue">equation </font>
  y_riseTime = outMax*(1 -<font color="red"> Modelica.Math.exp</font>(-riseTime/riseTimeConst));
  y = offset + (<font color="blue">if </font>(time &lt; startTime)<font color="blue"> then </font>0<font color="blue"> else </font><font color="blue">if </font>(time &lt; (startTime
     + riseTime))<font color="blue"> then </font>outMax*(1 -<font color="red"> Modelica.Math.exp</font>(-(time - startTime)/riseTimeConst))<font color="blue"> else </font>
          y_riseTime*<font color="red">Modelica.Math.exp</font>(-(time - startTime - riseTime)/
    fallTimeConst));

<font color="blue">end </font>Exponentials;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Pulse<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.PulseI.png" ALT="Modelica.Blocks.Sources.Pulse" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Pulse"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Pulse</H2>
<B>Generate pulse signal of type Real</B><p>
<IMG SRC="Modelica.Blocks.Sources.PulseD.png" ALT="Modelica.Blocks.Sources.Pulse">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a pulse signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Pulse.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>amplitude</TD><TD>1</TD><TD>Amplitude of pulse</TD></TR>
<TR><TD>Real</TD><TD>width</TD><TD>50</TD><TD>Width of pulse in % of period</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>period</TD><TD>&nbsp;</TD><TD>Time for one period [s]</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signals</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Pulse <font color="darkgreen">&quot;Generate pulse signal of type Real&quot;</font>
  <font color="blue">parameter </font>Real amplitude=1 <font color="darkgreen">&quot;Amplitude of pulse&quot;</font>;
  <font color="blue">parameter </font>Real width(
    <font color="blue">final </font>min=Modelica.Constants.small,
    <font color="blue">final </font>max=100) = 50 <font color="darkgreen">&quot;Width of pulse in % of period&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> period(<font color="blue">final </font>min=Modelica.Constants.small,start=1) <font color="darkgreen">
    &quot;Time for one period&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signals&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">
    &quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Modelica.Blocks.Interfaces.SO</A>;

<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> T0(<font color="blue">final </font>start=startTime) <font color="darkgreen">
    &quot;Start time of current period&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> T_width = period*width/100;
<font color="blue">equation </font>
  <font color="blue">when </font><font color="red">sample</font>(startTime, period)<font color="blue"> then</font>
    T0 = time;
  <font color="blue">end when</font>;
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> or </font>time &gt;= T0 + T_width<font color="blue"> then </font>0<font color="blue"> else </font>
    amplitude);
<font color="blue">end </font>Pulse;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SawTooth<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.SawToothI.png" ALT="Modelica.Blocks.Sources.SawTooth" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.SawTooth"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.SawTooth</H2>
<B>Generate saw tooth signal</B><p>
<IMG SRC="Modelica.Blocks.Sources.SawToothD.png" ALT="Modelica.Blocks.Sources.SawTooth">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a saw tooth signal:
</p>

<p>
<img src="../Images/Blocks/Sources/SawTooth.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>amplitude</TD><TD>1</TD><TD>Amplitude of saw tooth</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>period</TD><TD>&nbsp;</TD><TD>Time for one period [s]</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signals</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> SawTooth <font color="darkgreen">&quot;Generate saw tooth signal&quot;</font>
  <font color="blue">parameter </font>Real amplitude=1 <font color="darkgreen">&quot;Amplitude of saw tooth&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> period(<font color="blue">final </font>min=Modelica.Constants.small,start = 1) <font color="darkgreen">
    &quot;Time for one period&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signals&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> T0(<font color="blue">final </font>start=startTime) <font color="darkgreen">&quot;Start time of current period&quot;</font>;

<font color="blue">equation </font>
  <font color="blue">when </font><font color="red">sample</font>(startTime, period)<font color="blue"> then</font>
    T0 = time;
  <font color="blue">end when</font>;
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>(amplitude/period)*(time
     - T0));
<font color="blue">end </font>SawTooth;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Trapezoid<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.TrapezoidI.png" ALT="Modelica.Blocks.Sources.Trapezoid" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.Trapezoid"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.Trapezoid</H2>
<B>Generate trapezoidal signal of type Real</B><p>
<IMG SRC="Modelica.Blocks.Sources.TrapezoidD.png" ALT="Modelica.Blocks.Sources.Trapezoid">
<H3>Information</H3>
<PRE></pre>
<p>
The Real output y is a trapezoid signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Trapezoid.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>amplitude</TD><TD>1</TD><TD>Amplitude of trapezoid</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>rising</TD><TD>0</TD><TD>Rising duration of trapezoid [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>width</TD><TD>0.5</TD><TD>Width duration of trapezoid [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>falling</TD><TD>0</TD><TD>Falling duration of trapezoid [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>period</TD><TD>&nbsp;</TD><TD>Time for one period [s]</TD></TR>
<TR><TD>Integer</TD><TD>nperiod</TD><TD>-1</TD><TD>Number of periods (&lt; 0 means infinite number of periods)</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Trapezoid <font color="darkgreen">&quot;Generate trapezoidal signal of type Real&quot;</font>
  <font color="blue">parameter </font>Real amplitude=1 <font color="darkgreen">&quot;Amplitude of trapezoid&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> rising(<font color="blue">final </font>min=0) = 0 <font color="darkgreen">&quot;Rising duration of trapezoid&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> width(<font color="blue">final </font>min=0) = 0.5 <font color="darkgreen">&quot;Width duration of trapezoid&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> falling(<font color="blue">final </font>min=0) = 0 <font color="darkgreen">
    &quot;Falling duration of trapezoid&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> period(<font color="blue">final </font>min=Modelica.Constants.small, start= 1) <font color="darkgreen">
    &quot;Time for one period&quot;</font>;
  <font color="blue">parameter </font>Integer nperiod=-1 <font color="darkgreen">
    &quot;Number of periods (&lt; 0 means infinite number of periods)&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;
<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> T_rising=rising <font color="darkgreen">
    &quot;End time of rising phase within one period&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> T_width=T_rising + width <font color="darkgreen">
    &quot;End time of width phase within one period&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> T_falling=T_width + falling <font color="darkgreen">
    &quot;End time of falling phase within one period&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> T0(<font color="blue">final </font>start=startTime) <font color="darkgreen">&quot;Start time of current period&quot;</font>;
  Integer counter(start=nperiod) <font color="darkgreen">&quot;Period counter&quot;</font>;
  Integer counter2(start=nperiod);

<font color="blue">equation </font>
  <font color="blue">when </font><font color="red">pre</font>(counter2) &lt;&gt; 0<font color="blue"> and </font><font color="red">sample</font>(startTime, period)<font color="blue"> then</font>
    T0 = time;
    counter2 =<font color="red"> pre</font>(counter);
    counter =<font color="red"> pre</font>(counter) - (<font color="blue">if </font><font color="red">pre</font>(counter) &gt; 0<font color="blue"> then </font>1<font color="blue"> else </font>0);
  <font color="blue">end when</font>;
  y = offset + (<font color="blue">if </font>(time &lt; startTime<font color="blue"> or </font>counter2 == 0<font color="blue"> or </font>time &gt;= T0 +
    T_falling)<font color="blue"> then </font>0<font color="blue"> else </font><font color="blue">if </font>(time &lt; T0 + T_rising)<font color="blue"> then </font>(time - T0)*
    amplitude/T_rising<font color="blue"> else </font><font color="blue">if </font>(time &lt; T0 + T_width)<font color="blue"> then </font>amplitude<font color="blue"> else </font>
    (T0 + T_falling - time)*amplitude/(T_falling - T_width));
<font color="blue">end </font>Trapezoid;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE KinematicPTP<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.KinematicPTPI.png" ALT="Modelica.Blocks.Sources.KinematicPTP" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.KinematicPTP"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.KinematicPTP</H2>
<B>Move as fast as possible along a distance within given kinematic constraints</B><p>
<IMG SRC="Modelica.Blocks.Sources.KinematicPTPD.png" ALT="Modelica.Blocks.Sources.KinematicPTP">
<H3>Information</H3>
<PRE></pre>
<p>
The goal is to move as <b>fast</b> as possible along a distance
<b>deltaq</b>
under given <b>kinematical constraints</b>. The distance can be a positional or
angular range. In robotics such a movement is called <b>PTP</b> (Point-To-Point).
This source block generates the <b>acceleration</b> qdd of this signal
as output:
</p>

<p>
<img src="../Images/Blocks/Sources/KinematicPTP.png">
</p>

<p>
After integrating the output two times, the position q is
obtained. The signal is constructed in such a way that it is not possible
to move faster, given the <b>maximally</b> allowed <b>velocity</b> qd_max and
the <b>maximally</b> allowed <b>acceleration</b> qdd_max.
</p>
<p>
If several distances are given (vector deltaq has more than 1 element),
an acceleration output vector is constructed such that all signals
are in the same periods in the acceleration, constant velocity
and deceleration phase. This means that only one of the signals
is at its limits whereas the others are sychnronized in such a way
that the end point is reached at the same time instant.
</p>

<p>
This element is useful to generate a reference signal for a controller
which controls a drive train or in combination with model
Modelica.Mechanics.Rotational.<b>Accelerate</b> to drive
a flange according to a given acceleration.
</p>

<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>deltaq[:]</TD><TD>&nbsp;</TD><TD>Distance to move</TD></TR>
<TR><TD>Real</TD><TD>qd_max[:]</TD><TD>&nbsp;</TD><TD>Maximum velocities der(q)</TD></TR>
<TR><TD>Real</TD><TD>qdd_max[:]</TD><TD>&nbsp;</TD><TD>Maximum accelerations der(qd)</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Time instant at which movement starts [s]</TD></TR>
<TR><TD>Integer</TD><TD>nout</TD><TD>max([size(deltaq, 1); size(q...</TD><TD>Number of outputs</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y[nout]</TD><TD>Connector of Real output signals</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> KinematicPTP <font color="darkgreen">
  &quot;Move as fast as possible along a distance within given kinematic constraints&quot;</font>

  <font color="blue">parameter </font>Real deltaq[:] <font color="darkgreen">&quot;Distance to move&quot;</font>;
  <font color="blue">parameter </font>Real qd_max[:](<font color="blue">final </font>min=Modelica.Constants.small) <font color="darkgreen">
    &quot;Maximum velocities der(q)&quot;</font>;
  <font color="blue">parameter </font>Real qdd_max[:](<font color="blue">final </font>min=Modelica.Constants.small) <font color="darkgreen">
    &quot;Maximum accelerations der(qd)&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Time instant at which movement starts&quot;</font>;

  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.MO"
>Interfaces.MO</A>(<font color="blue">final </font>nout=<font color="red">max</font>([<font color="red">size</font>(deltaq, 1);<font color="red"> size</font>(qd_max, 1);
         <font color="red">size</font>(qdd_max, 1)]));

<font color="blue">protected </font>
  <font color="blue">parameter </font>Real p_deltaq[nout]=(<font color="blue">if </font><font color="red">size</font>(deltaq, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)*
      deltaq[1]<font color="blue"> else </font>deltaq);
  <font color="blue">parameter </font>Real p_qd_max[nout]=(<font color="blue">if </font><font color="red">size</font>(qd_max, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)*
      qd_max[1]<font color="blue"> else </font>qd_max);
  <font color="blue">parameter </font>Real p_qdd_max[nout]=(<font color="blue">if </font><font color="red">size</font>(qdd_max, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)
      *qdd_max[1]<font color="blue"> else </font>qdd_max);
  Real sd_max;
  Real sdd_max;
  Real sdd;
  Real aux1[nout];
  Real aux2[nout];
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Ta1;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Ta2;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Tv;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Te;
  Boolean noWphase;

<font color="blue">equation </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nout<font color="blue"> loop</font>
    aux1[i] = p_deltaq[i]/p_qd_max[i];
    aux2[i] = p_deltaq[i]/p_qdd_max[i];
  <font color="blue">end for</font>;
  sd_max = 1/<font color="red">max</font>(<font color="red">abs</font>(aux1));
  sdd_max = 1/<font color="red">max</font>(<font color="red">abs</font>(aux2));

  Ta1 =<font color="red"> sqrt</font>(1/sdd_max);
  Ta2 = sd_max/sdd_max;
  noWphase = Ta2 &gt;= Ta1;
  Tv = <font color="blue">if </font>noWphase<font color="blue"> then </font>Ta1<font color="blue"> else </font>1/sd_max;
  Te = <font color="blue">if </font>noWphase<font color="blue"> then </font>Ta1 + Ta1<font color="blue"> else </font>Tv + Ta2;

  <font color="darkgreen">// path-acceleration</font>
  sdd = <font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>((<font color="blue">if </font>noWphase<font color="blue"> then </font>(<font color="blue">if </font>time &lt; Ta1
     + startTime<font color="blue"> then </font>sdd_max<font color="blue"> else </font>(<font color="blue">if </font>time &lt; Te + startTime<font color="blue"> then </font>-
    sdd_max<font color="blue"> else </font>0))<font color="blue"> else </font>(<font color="blue">if </font>time &lt; Ta2 + startTime<font color="blue"> then </font>sdd_max<font color="blue"> else </font>(
    <font color="blue">if </font>time &lt; Tv + startTime<font color="blue"> then </font>0<font color="blue"> else </font>(<font color="blue">if </font>time &lt; Te + startTime<font color="blue"> then </font>-
    sdd_max<font color="blue"> else </font>0)))));

  <font color="darkgreen">// acceleration</font>
  y = p_deltaq*sdd;
<font color="blue">end </font>KinematicPTP;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE KinematicPTP2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.KinematicPTP2I.png" ALT="Modelica.Blocks.Sources.KinematicPTP2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.KinematicPTP2"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.KinematicPTP2</H2>
<B>Move as fast as possible from start to end position within given kinematic constraints with output signals q, qd=der(q), qdd=der(qd)</B><p>
<IMG SRC="Modelica.Blocks.Sources.KinematicPTP2D.png" ALT="Modelica.Blocks.Sources.KinematicPTP2">
<H3>Information</H3>
<PRE></pre>
<p>
The goal is to move as <b>fast</b> as possible from start position <b>q_begin</b>
to end position <b>q_end</b>
under given <b>kinematical constraints</b>. The positions can be translational or
rotational definitions (i.e., q_begin/q_end is given). In robotics such a movement is called <b>PTP</b> (Point-To-Point).
This source block generates the <b>position</b> q(t), the
<b>speed</b> qd(t) = der(q), and the <b>acceleration</b> qdd = der(qd)
as output. The signals are constructed in such a way that it is not possible
to move faster, given the <b>maximally</b> allowed <b>velocity</b> qd_max and
the <b>maximally</b> allowed <b>acceleration</b> qdd_max:
</p>

<p>
<img src="../Images/Blocks/Sources/KinematicPTP2.png">
</p>

<p>
If vectors q_begin/q_end have more than 1 element,
the output vectors are constructed such that all signals
are in the same periods in the acceleration, constant velocity
and deceleration phase. This means that only one of the signals
is at its limits whereas the others are sychnronized in such a way
that the end point is reached at the same time instant.
</p>

<p>
This element is useful to generate a reference signal for a controller
which controls, e.g., a drive train, or to drive
a flange according to a given acceleration.
</p>

<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>q_begin[:]</TD><TD>{0}</TD><TD>Start position</TD></TR>
<TR><TD>Real</TD><TD>q_end[:]</TD><TD>&nbsp;</TD><TD>End position</TD></TR>
<TR><TD>Real</TD><TD>qd_max[:]</TD><TD>&nbsp;</TD><TD>Maximum velocities der(q)</TD></TR>
<TR><TD>Real</TD><TD>qdd_max[:]</TD><TD>&nbsp;</TD><TD>Maximum accelerations der(qd)</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Time instant at which movement starts [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>q[nout]</TD><TD>Reference position of path planning</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>qd[nout]</TD><TD>Reference speed of path planning</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>qdd[nout]</TD><TD>Reference acceleration of path planning</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>moving[nout]</TD><TD>= true, if end position not yet reached; = false, if end position reached or axis is completely at rest</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> KinematicPTP2 <font color="darkgreen">
  &quot;Move as fast as possible from start to end position within given kinematic constraints with output signals q, qd=der(q), qdd=der(qd)&quot;</font>
  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">parameter </font>Real q_begin[:] = {0} <font color="darkgreen">&quot;Start position&quot;</font>;
  <font color="blue">parameter </font>Real q_end[:] <font color="darkgreen">&quot;End position&quot;</font>;
  <font color="blue">parameter </font>Real qd_max[:](<font color="blue">final </font>min=Modelica.Constants.small) <font color="darkgreen">
    &quot;Maximum velocities der(q)&quot;</font>;
  <font color="blue">parameter </font>Real qdd_max[:](<font color="blue">final </font>min=Modelica.Constants.small) <font color="darkgreen">
    &quot;Maximum accelerations der(qd)&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">
    &quot;Time instant at which movement starts&quot;</font>;

  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A>;
  <font color="blue">final </font><font color="blue">parameter </font>Integer nout=<font color="red">max</font>([<font color="red">size</font>(q_begin, 1);<font color="red"> size</font>(q_end, 1);<font color="red"> size</font>(
      qd_max, 1);<font color="red"> size</font>(qdd_max, 1)]) <font color="darkgreen">
    &quot;Number of output signals (= dimension of q, qd, qdd, moving)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> endTime <font color="darkgreen">&quot;Time instant at which movement stops&quot;</font>;

  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> q[nout] <font color="darkgreen">
    &quot;Reference position of path planning&quot;</font>;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> qd[nout] <font color="darkgreen">
    &quot;Reference speed of path planning&quot;</font>;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> qdd[nout] <font color="darkgreen">
    &quot;Reference acceleration of path planning&quot;</font>;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</A> moving[nout] <font color="darkgreen">
    &quot;= true, if end position not yet reached; = false, if end position reached or axis is completely at rest&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">parameter </font>Real p_q_begin[nout]=(<font color="blue">if </font><font color="red">size</font>(q_begin, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)*
      q_begin[1]<font color="blue"> else </font>q_begin);
  <font color="blue">parameter </font>Real p_q_end[nout]=(<font color="blue">if </font><font color="red">size</font>(q_end, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)*
      q_end[1]<font color="blue"> else </font>q_end);
  <font color="blue">parameter </font>Real p_qd_max[nout]=(<font color="blue">if </font><font color="red">size</font>(qd_max, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)*
      qd_max[1]<font color="blue"> else </font>qd_max);
  <font color="blue">parameter </font>Real p_qdd_max[nout]=(<font color="blue">if </font><font color="red">size</font>(qdd_max, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)*
      qdd_max[1]<font color="blue"> else </font>qdd_max);
  <font color="blue">parameter </font>Real p_deltaq[nout]=p_q_end - p_q_begin;
  <font color="blue">constant </font>Real eps=10*Modelica.Constants.eps;
  Boolean motion_ref;
  Real sd_max_inv;
  Real sdd_max_inv;
  Real sd_max;
  Real sdd_max;
  Real sdd;
  Real aux1[nout];
  Real aux2[nout];
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ta1;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ta2;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Tv;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Te;
  Boolean noWphase;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ta1s;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ta2s;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Tvs;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Tes;
  Real sd_max2;
  Real s1;
  Real s2;
  Real s3;
  Real s;
  Real sd;
  Real r_s;
  Real r_sd;
  Real r_sdd;

  <font color="blue">function</font> position
  annotation(derivative=<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP2.position_der"
>position_der</A>);
     <font color="blue">input </font>Real q_qd_qdd[3] <font color="darkgreen">&quot;Required values for position, speed, acceleration&quot;</font>;
     <font color="blue">input </font>Real dummy <font color="darkgreen">
      &quot;Just to have one input signal that should be differentiated to avoid possible problems in the Modelica tool (is not used)&quot;</font>;
     <font color="blue">output </font>Real q;
  <font color="blue">algorithm </font>
    q :=q_qd_qdd[1];
  <font color="blue">end </font>position;

  <font color="blue">function</font> position_der
  annotation(derivative=<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP2.position_der2"
>position_der2</A>);
     <font color="blue">input </font>Real q_qd_qdd[3] <font color="darkgreen">&quot;Required values for position, speed, acceleration&quot;</font>;
     <font color="blue">input </font>Real dummy <font color="darkgreen">
      &quot;Just to have one input signal that should be differentiated to avoid possible problems in the Modelica tool (is not used)&quot;</font>;
     <font color="blue">input </font>Real dummy_der;
     <font color="blue">output </font>Real qd;
  <font color="blue">algorithm </font>
    qd :=q_qd_qdd[2];
  <font color="blue">end </font>position_der;

  <font color="blue">function</font> position_der2
     <font color="blue">input </font>Real q_qd_qdd[3] <font color="darkgreen">&quot;Required values for position, speed, acceleration&quot;</font>;
     <font color="blue">input </font>Real dummy <font color="darkgreen">
      &quot;Just to have one input signal that should be differentiated to avoid possible problems in the Modelica tool (is not used)&quot;</font>;
     <font color="blue">input </font>Real dummy_der;
     <font color="blue">input </font>Real dummy_der2;
     <font color="blue">output </font>Real qdd;
  <font color="blue">algorithm </font>
    qdd :=q_qd_qdd[3];
  <font color="blue">end </font>position_der2;
<font color="blue">equation </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:nout<font color="blue"> loop</font>
    aux1[i] = p_deltaq[i]/p_qd_max[i];
    aux2[i] = p_deltaq[i]/p_qdd_max[i];
  <font color="blue">end for</font>;

  sd_max_inv =<font color="red"> max</font>(<font color="red">abs</font>(aux1));
  sdd_max_inv =<font color="red"> max</font>(<font color="red">abs</font>(aux2));

  <font color="blue">if </font>sd_max_inv &lt;= eps<font color="blue"> or </font>sdd_max_inv &lt;= eps<font color="blue"> then</font>
    sd_max = 0;
    sdd_max = 0;
    Ta1 = 0;
    Ta2 = 0;
    noWphase = false;
    Tv = 0;
    Te = 0;
    Ta1s = 0;
    Ta2s = 0;
    Tvs = 0;
    Tes = 0;
    sd_max2 = 0;
    s1 = 0;
    s2 = 0;
    s3 = 0;
    r_sdd = 0;
    r_sd = 0;
    r_s = 0;
  <font color="blue">else</font>
    sd_max = 1/<font color="red">max</font>(<font color="red">abs</font>(aux1));
    sdd_max = 1/<font color="red">max</font>(<font color="red">abs</font>(aux2));
    Ta1 =<font color="red"> sqrt</font>(1/sdd_max);
    Ta2 = sd_max/sdd_max;
    noWphase = Ta2 &gt;= Ta1;
    Tv = <font color="blue">if </font>noWphase<font color="blue"> then </font>Ta1<font color="blue"> else </font>1/sd_max;
    Te = <font color="blue">if </font>noWphase<font color="blue"> then </font>Ta1 + Ta1<font color="blue"> else </font>Tv + Ta2;
    Ta1s = Ta1 + startTime;
    Ta2s = Ta2 + startTime;
    Tvs = Tv + startTime;
    Tes = Te + startTime;
    sd_max2 = sdd_max*Ta1;
    s1 = sdd_max*(<font color="blue">if </font>noWphase<font color="blue"> then </font>Ta1*Ta1<font color="blue"> else </font>Ta2*Ta2)/2;
    s2 = s1 + (<font color="blue">if </font>noWphase<font color="blue"> then </font>sd_max2*(Te - Ta1) - (sdd_max/2)*(Te - Ta1)
      ^2<font color="blue"> else </font>sd_max*(Tv - Ta2));
    s3 = s2 + sd_max*(Te - Tv) - (sdd_max/2)*(Te - Tv)*(Te - Tv);

    <font color="blue">if </font>time &lt; startTime<font color="blue"> then</font>
      r_sdd = 0;
      r_sd = 0;
      r_s = 0;
    <font color="blue">elseif </font>noWphase<font color="blue"> then</font>
      <font color="blue">if </font>time &lt; Ta1s<font color="blue"> then</font>
        r_sdd = sdd_max;
        r_sd = sdd_max*(time - startTime);
        r_s = (sdd_max/2)*(time - startTime)*(time - startTime);
      <font color="blue">elseif </font>time &lt; Tes<font color="blue"> then</font>
        r_sdd = -sdd_max;
        r_sd = sd_max2 - sdd_max*(time - Ta1s);
        r_s = s1 + sd_max2*(time - Ta1s) - (sdd_max/2)*(time - Ta1s)*(time
           - Ta1s);
      <font color="blue">else</font>
        r_sdd = 0;
        r_sd = 0;
        r_s = s2;
      <font color="blue">end if</font>;
    <font color="blue">elseif </font>time &lt; Ta2s<font color="blue"> then</font>
      r_sdd = sdd_max;
      r_sd = sdd_max*(time - startTime);
      r_s = (sdd_max/2)*(time - startTime)*(time - startTime);
    <font color="blue">elseif </font>time &lt; Tvs<font color="blue"> then</font>
      r_sdd = 0;
      r_sd = sd_max;
      r_s = s1 + sd_max*(time - Ta2s);
    <font color="blue">elseif </font>time &lt; Tes<font color="blue"> then</font>
      r_sdd = -sdd_max;
      r_sd = sd_max - sdd_max*(time - Tvs);
      r_s = s2 + sd_max*(time - Tvs) - (sdd_max/2)*(time - Tvs)*(time - Tvs);
    <font color="blue">else</font>
      r_sdd = 0;
      r_sd = 0;
      r_s = s3;
    <font color="blue">end if</font>;

  <font color="blue">end if</font>;

  <font color="darkgreen">// acceleration</font>
  qdd = p_deltaq*sdd;
  qd = p_deltaq*sd;
  q = p_q_begin + p_deltaq*s;
  endTime = Tes;

  s =<font color="red"> position</font>({r_s, r_sd, r_sdd}, time);
  sd =<font color="red"> der</font>(s);
  sdd =<font color="red"> der</font>(sd);

  <font color="darkgreen">// report when axis is moving</font>
  motion_ref = time &lt;= endTime;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nout<font color="blue"> loop</font>
    moving[i] = <font color="blue">if </font><font color="red">abs</font>(q_begin[i] - q_end[i]) &gt; eps<font color="blue"> then </font>motion_ref<font color="blue"> else </font>false;
  <font color="blue">end for</font>;

<font color="blue">end </font>KinematicPTP2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TimeTable<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.TimeTableI.png" ALT="Modelica.Blocks.Sources.TimeTable" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.TimeTable"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.TimeTable</H2>
<B>Generate a (possibly discontinuous) signal by linear interpolation in a table</B><p>
<IMG SRC="Modelica.Blocks.Sources.TimeTableD.png" ALT="Modelica.Blocks.Sources.TimeTable">
<H3>Information</H3>
<PRE></pre>
<p>
This block generates an output signal by <b>linear interpolation</b> in
a table. The time points and function values are stored in a matrix
<b>table[i,j]</b>, where the first column table[:,1] contains the
time points and the second column contains the data to be interpolated.
The table interpolation has the following proporties:
</p>
<ul>
<li>The time points need to be <b>monotonically increasing</b>. </li>
<li><b>Discontinuities</b> are allowed, by providing the same
    time point twice in the table. </li>
<li>Values <b>outside</b> of the table range, are computed by
    <b>extrapolation</b> through the last or first two points of the
    table.</li>
<li>If the table has only <b>one row</b>, no interpolation is performed and
    the function value is just returned independantly of the
    actual time instant.</li>
<li>Via parameters <b>startTime</b> and <b>offset</b> the curve defined
    by the table can be shifted both in time and in the ordinate value.
<li>The table is implemented in a numerically sound way by
    generating <b>time events</b> at interval boundaries,
    in order to not integrate over a discontinuous or not differentiable
    points.
</li>
</ul>
<p>
Example:
</p>
<pre>
   table = [0  0
            1  0
            1  1
            2  4
            3  9
            4 16]
If, e.g., time = 1.0, the output y =  0.0 (before event), 1.0 (after event)
    e.g., time = 1.5, the output y =  2.5,
    e.g., time = 2.0, the output y =  4.0,
    e.g., time = 5.0, the output y = 23.0 (i.e. extrapolation).
</pre>


<p>
<img src="../Images/Blocks/Sources/TimeTable.png">
</p>

<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>table[:, 2]</TD><TD>&nbsp;</TD><TD>Table matrix (time = first column; e.g. table=[0, 0; 1, 1; 2, 4])</TD></TR>
<TR><TD>Real</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TimeTable <font color="darkgreen">
  &quot;Generate a (possibly discontinuous) signal by linear interpolation in a table&quot;</font>

  <font color="blue">parameter </font>Real table[:, 2] <font color="darkgreen">
    &quot;Table matrix (time = first column; e.g. table=[0, 0; 1, 1; 2, 4])&quot;</font>;
  <font color="blue">parameter </font>Real offset=0 <font color="darkgreen">&quot;Offset of output signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Interfaces.SO</A>;
<font color="blue">protected </font>
  Real a <font color="darkgreen">&quot;Interpolation coefficients a of actual interval (y=a*x+b)&quot;</font>;
  Real b <font color="darkgreen">&quot;Interpolation coefficients b of actual interval (y=a*x+b)&quot;</font>;
  Integer last(start=1) <font color="darkgreen">&quot;Last used lower grid index&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> nextEvent(start=0, fixed=true) <font color="darkgreen">&quot;Next event instant&quot;</font>;

  <font color="blue">function</font> getInterpolationCoefficients <font color="darkgreen">
    &quot;Determine interpolation coefficients and next time event&quot;</font>
    <font color="blue">input </font>Real table[:, 2] <font color="darkgreen">&quot;Table for interpolation&quot;</font>;
    <font color="blue">input </font>Real offset <font color="darkgreen">&quot;y-offset&quot;</font>;
    <font color="blue">input </font>Real startTime <font color="darkgreen">&quot;time-offset&quot;</font>;
    <font color="blue">input </font>Real t <font color="darkgreen">&quot;Actual time instant&quot;</font>;
    <font color="blue">input </font>Integer last <font color="darkgreen">&quot;Last used lower grid index&quot;</font>;
    <font color="blue">input </font>Real TimeEps <font color="darkgreen">&quot;Relative epsilon to check for identical time instants&quot;</font>;
    <font color="blue">output </font>Real a <font color="darkgreen">&quot;Interpolation coefficients a (y=a*x + b)&quot;</font>;
    <font color="blue">output </font>Real b <font color="darkgreen">&quot;Interpolation coefficients b (y=a*x + b)&quot;</font>;
    <font color="blue">output </font>Real nextEvent <font color="darkgreen">&quot;Next event instant&quot;</font>;
    <font color="blue">output </font>Integer next <font color="darkgreen">&quot;New lower grid index&quot;</font>;
  <font color="blue">protected </font>
    Integer columns=2 <font color="darkgreen">&quot;Column to be interpolated&quot;</font>;
    Integer ncol=2 <font color="darkgreen">&quot;Number of columns to be interpolated&quot;</font>;
    Integer nrow=<font color="red">size</font>(table, 1) <font color="darkgreen">&quot;Number of table rows&quot;</font>;
    Integer next0;
    Real tp;
    Real dt;
  <font color="blue">algorithm </font>
    next := last;
    nextEvent := t - TimeEps*<font color="red">abs</font>(t);
    <font color="darkgreen">// in case there are no more time events</font>
    tp := t + TimeEps*<font color="red">abs</font>(t) - startTime;

    <font color="blue">if </font>tp &lt; 0.0<font color="blue"> then</font>
      <font color="darkgreen">// First event not yet reached</font>
      nextEvent := startTime;
      a := 0;
      b := offset;
    <font color="blue">elseif </font>nrow &lt; 2<font color="blue"> then</font>
      <font color="darkgreen">// Special action if table has only one row</font>
      a := 0;
      b := offset + table[1, columns];
    <font color="blue">else</font>

      <font color="darkgreen">  // Find next time event instant. Note, that two consecutive time instants</font>
      <font color="darkgreen">// in the table may be identical due to a discontinuous point.</font>
      <font color="blue">while </font>next &lt; nrow<font color="blue"> and </font>tp &gt;= table[next, 1]<font color="blue"> loop</font>
        next := next + 1;
      <font color="blue">end while</font>;

      <font color="darkgreen">// Define next time event, if last table entry not reached</font>
      <font color="blue">if </font>next &lt; nrow<font color="blue"> then</font>
        nextEvent := startTime + table[next, 1];
      <font color="blue">end if</font>;

      <font color="darkgreen">// Determine interpolation coefficients</font>
      next0 := next - 1;
      dt := table[next, 1] - table[next0, 1];
      <font color="blue">if </font>dt &lt;= TimeEps*<font color="red">abs</font>(table[next, 1])<font color="blue"> then</font>
        <font color="darkgreen">// Interpolation interval is not big enough, use &quot;next&quot; value</font>
        a := 0;
        b := offset + table[next, columns];
      <font color="blue">else</font>
        a := (table[next, columns] - table[next0, columns])/dt;
        b := offset + table[next0, columns] - a*table[next0, 1];
      <font color="blue">end if</font>;
    <font color="blue">end if</font>;
    <font color="darkgreen">// Take into account startTime &quot;a*(time - startTime) + b&quot;</font>
    b := b - a*startTime;
  <font color="blue">end </font>getInterpolationCoefficients;
<font color="blue">algorithm </font>
  <font color="blue">when </font>{time &gt;=<font color="red"> pre</font>(nextEvent),<font color="red">initial</font>()}<font color="blue"> then</font>
    (a,b,nextEvent,last) :=<font color="red"> getInterpolationCoefficients</font>(table, offset,
      startTime, time, last, 100*Modelica.Constants.eps);
  <font color="blue">end when</font>;
<font color="blue">equation </font>
  y = a*time + b;
<font color="blue">end </font>TimeTable;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE CombiTimeTable<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.CombiTimeTableI.png" ALT="Modelica.Blocks.Sources.CombiTimeTable" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.CombiTimeTable"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.CombiTimeTable</H2>
<B>Table look-up with respect to time and linear/perodic extrapolation methods (data from matrix/file)</B><p>
<IMG SRC="Modelica.Blocks.Sources.CombiTimeTableD.png" ALT="Modelica.Blocks.Sources.CombiTimeTable">
<H3>Information</H3>
<PRE></pre>
<p>
This block generates an output signal y[:] by <b>linear interpolation</b> in
a table. The time points and function values are stored in a matrix
<b>table[i,j]</b>, where the first column table[:,1] contains the
time points and the other columns contain the data to be interpolated.
</p>

<p>
<img src="../Images/Blocks/Sources/CombiTimeTable.png">
</p>

<p>
Via parameter <b>columns</b> it can be defined which columns of the
table are interpolated. If, e.g., columns={2,4}, it is assumed that
2 output signals are present and that the first output is computed
by interpolation of column 2 and the second output is computed
by interpolation of column 4 of the table matrix.
The table interpolation has the following properties:
</p>
<ul>
<li>The time points need to be <b>monotonically increasing</b>. </li>
<li><b>Discontinuities</b> are allowed, by providing the same
    time point twice in the table. </li>
<li>Values <b>outside</b> of the table range, are computed by
    extrapolation according to the setting of parameter
    <b>extrapolation</b>:
<pre>
  extrapolation = 0: hold the first or last value of the table,
                     if outside of the range.
                = 1: extrapolate through the last or first two
                     points of the table.
                = 2: periodically repeat the table data
                     (periodical function).
</pre></li>
<li>Via parameter <b>smoothness</b> it is defined how the data is interpolated:
<pre>
  smoothness = 0: linear interpolation
             = 1: smooth interpolation with Akima Splines such
                  that der(y) is continuous.
</pre></li>
<li>If the table has only <b>one row</b>, no interpolation is performed and
    the table values of this row are just returned.</li>
<li>Via parameters <b>startTime</b> and <b>offset</b> the curve defined
    by the table can be shifted both in time and in the ordinate value.
    The time instants stored in the table are therefore <b>relative</b>
    to <b>startTime</b>.
    If time &lt; startTime, no interpolation is performed and the offset
    is used as ordinate value for all outputs.
<li>The table is implemented in a numerically sound way by
    generating <b>time events</b> at interval boundaries,
    in order to not integrate over a discontinuous or not differentiable
    points.
<li>For special applications it is sometimes needed to know the minimum
    and maximum time instant defined in the table as a parameter. For this
    reason parameters <b>t_min</b> and <b>t_max</b> are provided and can be access from
    the outside of the table object.
</li>
</ul>
<p>
Example:
</p>
<pre>
   table = [0  0
            1  0
            1  1
            2  4
            3  9
            4 16]; extrapolation = 1 (default)
If, e.g., time = 1.0, the output y =  0.0 (before event), 1.0 (after event)
    e.g., time = 1.5, the output y =  2.5,
    e.g., time = 2.0, the output y =  4.0,
    e.g., time = 5.0, the output y = 23.0 (i.e. extrapolation via last 2 points).
</pre>
<p>
The table matrix can be defined in the following ways:
</p>
<ol>
<li> Explicitly supplied as <b>parameter matrix</b> "table",
     and the other parameters have the following values:
<pre>
   tableName is "NoName" or has only blanks,
   fileName  is "NoName" or has only blanks.
</pre></li>
<li> <b>Read</b> from a <b>file</b> "fileName" where the matrix is stored as
      "tableName". Both ASCII and binary file format is possible.
      (the ASCII format is described below).
      It is most convenient to generate the binary file from Matlab
      (Matlab 4 storage format), e.g., by command
<pre>
   save tables.mat tab1 tab2 tab3 -V4
</pre>
      when the three tables tab1, tab2, tab3 should be
      used from the model.</li>
<li>  Statically stored in function "usertab" in file "usertab.c".
      The matrix is identified by "tableName". Parameter
      fileName = "NoName" or has only blanks.</li>
</ol>
<p>
Table definition methods (1) and (3) do <b>not</b> allocate dynamic memory,
and do not access files, whereas method (2) does. Therefore (1) and (3)
are suited for hardware-in-the-loop simulation (e.g. with dSpace hardware).
When the constant "NO_FILE" is defined in "usertab.c", all parts of the
source code of method (2) are removed by the C-preprocessor, such that
no dynamic memory allocation and no access to files takes place.
</p>
<p>
If tables are read from an ASCII-file, the file need to have the
following structure ("-----" is not part of the file content):
</p>
<pre>
-----------------------------------------------------
#1
double tab1(6,2)   # comment line
  0   0
  1   0
  1   1
  2   4
  3   9
  4  16
double tab2(6,2)   # another comment line
  0   0
  2   0
  2   2
  4   8
  6  18
  8  32
-----------------------------------------------------
</pre>
<p>
Note, that the first two characters in the file need to be
"#1". Afterwards, the corresponding matrix has to be declared
with type, name and actual dimensions. Finally, in successive
rows of the file, the elements of the matrix have to be given.
Several matrices may be defined one after another.
</p>

<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nout</TD><TD>max([size(columns, 1); size(...</TD><TD>Number of outputs</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>table data definition</TD></TR>
<TR><TD>Boolean</TD><TD>tableOnFile</TD><TD>false</TD><TD>= true, if table is defined on file or in function usertab</TD></TR>
<TR><TD>Real</TD><TD>table[:, :]</TD><TD>fill(0.0, 0, 2)</TD><TD>Table matrix (time = first column; e.g. table=[0,2])</TD></TR>
<TR><TD>String</TD><TD>tableName</TD><TD>&quot;NoName&quot;</TD><TD>Table name on file or in function usertab (see docu)</TD></TR>
<TR><TD>String</TD><TD>fileName</TD><TD>&quot;NoName&quot;</TD><TD>File where matrix is stored</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>table data interpretation</TD></TR>
<TR><TD>Integer</TD><TD>columns[:]</TD><TD>2:size(table, 2)</TD><TD>Columns of table to be interpolated</TD></TR>
<TR><TD><A HREF="Modelica_Blocks_Types.html#Modelica.Blocks.Types.Smoothness"
>Smoothness</A></TD><TD>smoothness</TD><TD>Modelica.Blocks.Types.Smooth...</TD><TD>Smoothness of table interpolation</TD></TR>
<TR><TD><A HREF="Modelica_Blocks_Types.html#Modelica.Blocks.Types.Extrapolation"
>Extrapolation</A></TD><TD>extrapolation</TD><TD>Modelica.Blocks.Types.Extrap...</TD><TD>Extrapolation of data outside the definition range</TD></TR>
<TR><TD>Real</TD><TD>offset[:]</TD><TD>{0}</TD><TD>Offsets of output signals</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y[nout]</TD><TD>Connector of Real output signals</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> CombiTimeTable <font color="darkgreen">
  &quot;Table look-up with respect to time and linear/perodic extrapolation methods (data from matrix/file)&quot;</font>

  <font color="blue">parameter </font>Boolean tableOnFile=false <font color="darkgreen">
    &quot;= true, if table is defined on file or in function usertab&quot;</font>;
  <font color="blue">parameter </font>Real table[:, :] =<font color="red"> fill</font>(0.0,0,2) <font color="darkgreen">
    &quot;Table matrix (time = first column; e.g. table=[0,2])&quot;</font>;
  <font color="blue">parameter </font>String tableName=&quot;NoName&quot; <font color="darkgreen">
    &quot;Table name on file or in function usertab (see docu)&quot;</font>;
  <font color="blue">parameter </font>String fileName=&quot;NoName&quot; <font color="darkgreen">&quot;File where matrix is stored&quot;</font>;
  <font color="blue">parameter </font>Integer columns[:]=2:<font color="red">size</font>(table, 2) <font color="darkgreen">
    &quot;Columns of table to be interpolated&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Blocks_Types.html#Modelica.Blocks.Types.Smoothness"
>Modelica.Blocks.Types.Smoothness</A> smoothness=Modelica.Blocks.Types.Smoothness.LinearSegments <font color="darkgreen">
    &quot;Smoothness of table interpolation&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Blocks_Types.html#Modelica.Blocks.Types.Extrapolation"
>Modelica.Blocks.Types.Extrapolation</A> extrapolation=Modelica.Blocks.Types.Extrapolation.LastTwoPoints <font color="darkgreen">
    &quot;Extrapolation of data outside the definition range&quot;</font>;
  <font color="blue">parameter </font>Real offset[:]={0} <font color="darkgreen">&quot;Offsets of output signals&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">
    &quot;Output = offset for time &lt; startTime&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.MO"
>Modelica.Blocks.Interfaces.MO</A>(<font color="blue">final </font>nout=<font color="red">max</font>([<font color="red">size</font>(columns, 1);<font color="red"> size</font>(offset, 1)]));
  <font color="blue">final </font><font color="blue">parameter </font>Real t_min(fixed=false) <font color="darkgreen">
    &quot;Minimum abscissa value defined in table&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real t_max(fixed=false) <font color="darkgreen">
    &quot;Maximum abscissa value defined in table&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">parameter </font>Real p_offset[nout]=(<font color="blue">if </font><font color="red">size</font>(offset, 1) == 1<font color="blue"> then </font><font color="red">ones</font>(nout)
       *offset[1]<font color="blue"> else </font>offset);

  Integer tableID;

  <font color="blue">function</font> tableTimeInit
    <font color="blue">input </font>String tableName;
    <font color="blue">input </font>String fileName;
    <font color="blue">input </font>Real table[ :, :];
    <font color="blue">input </font>Real startTime;
    <font color="blue">input </font><A HREF="Modelica_Blocks_Types.html#Modelica.Blocks.Types.Smoothness"
>Modelica.Blocks.Types.Smoothness</A> smoothness;
    <font color="blue">input </font><A HREF="Modelica_Blocks_Types.html#Modelica.Blocks.Types.Extrapolation"
>Modelica.Blocks.Types.Extrapolation</A> extrapolation;
    <font color="blue">output </font>Integer tableID;
  <font color="blue">external </font>&quot;C&quot; tableID=<font color="red">  ModelicaTables_CombiTimeTable_init</font>(
                 tableName, fileName, table, <font color="red">size</font>(table, 1), <font color="red">size</font>(table, 2),
                 startTime, smoothness, extrapolation);
  <font color="blue">end </font>tableTimeInit;

  <font color="blue">function</font> tableTimeIpo
    <font color="blue">input </font>Integer tableID;
    <font color="blue">input </font>Integer icol;
    <font color="blue">input </font>Real timeIn;
    <font color="blue">output </font>Real value;
  <font color="blue">external </font>&quot;C&quot; value =
                     <font color="red">ModelicaTables_CombiTimeTable_interpolate</font>(tableID, icol, timeIn);
  <font color="blue">end </font>tableTimeIpo;

  <font color="blue">function</font> tableTimeTmin
    <font color="blue">input </font>Integer tableID;
    <font color="blue">output </font>Real Tmin <font color="darkgreen">&quot;minimum time value in table&quot;</font>;
  <font color="blue">external </font>&quot;C&quot; Tmin =
                    <font color="red">ModelicaTables_CombiTimeTable_minimumTime</font>(tableID);
  <font color="blue">end </font>tableTimeTmin;

  <font color="blue">function</font> tableTimeTmax
    <font color="blue">input </font>Integer tableID;
    <font color="blue">output </font>Real Tmax <font color="darkgreen">&quot;maximum time value in table&quot;</font>;
  <font color="blue">external </font>&quot;C&quot; Tmax =
                    <font color="red">ModelicaTables_CombiTimeTable_maximumTime</font>(tableID);
  <font color="blue">end </font>tableTimeTmax;

<font color="blue">equation </font>
  <font color="blue">if </font>tableOnFile<font color="blue"> then</font>
    <font color="red">assert</font>(tableName&lt;&gt;&quot;NoName&quot;, &quot;tableOnFile = true and no table name given&quot;);
  <font color="blue">end if</font>;
  <font color="blue">if </font><font color="blue">not </font>tableOnFile<font color="blue"> then</font>
    <font color="red">assert</font>(<font color="red">size</font>(table,1) &gt; 0<font color="blue"> and </font><font color="red">size</font>(table,2) &gt; 0, &quot;tableOnFile = false and parameter table is an empty matrix&quot;);
  <font color="blue">end if</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:nout<font color="blue"> loop</font>
    y[i] = p_offset[i] +<font color="red"> tableTimeIpo</font>(tableID, columns[i], time);
  <font color="blue">end for</font>;
  <font color="blue">when </font><font color="red">initial</font>()<font color="blue"> then</font>
    tableID=<font color="red">tableTimeInit</font>((<font color="blue">if </font><font color="blue">not </font>tableOnFile<font color="blue"> then </font>&quot;NoName&quot;<font color="blue"> else </font>tableName),
                          (<font color="blue">if </font><font color="blue">not </font>tableOnFile<font color="blue"> then </font>&quot;NoName&quot;<font color="blue"> else </font>fileName), table,
                          startTime, smoothness, extrapolation);
  <font color="blue">end when</font>;
<font color="blue">initial </font><font color="blue">equation </font>
    t_min=<font color="red">tableTimeTmin</font>(tableID);
    t_max=<font color="red">tableTimeTmax</font>(tableID);
<font color="blue">end </font>CombiTimeTable;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BooleanConstant<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.BooleanConstantI.png" ALT="Modelica.Blocks.Sources.BooleanConstant" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.BooleanConstant"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.BooleanConstant</H2>
<B>Generate constant signal of type Boolean</B><p>
<IMG SRC="Modelica.Blocks.Sources.BooleanConstantD.png" ALT="Modelica.Blocks.Sources.BooleanConstant">
<H3>Information</H3>
<PRE></pre>
<p>
The Boolean output y is a constant signal:
</p>

<p>
<img src="../Images/Blocks/Sources/BooleanConstant.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>k</TD><TD>true</TD><TD>Constant output value</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Connector of Boolean output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> BooleanConstant <font color="darkgreen">&quot;Generate constant signal of type Boolean&quot;</font>
  <font color="blue">parameter </font>Boolean k=true <font color="darkgreen">&quot;Constant output value&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.partialBooleanSource"
>Interfaces.partialBooleanSource</A>;

<font color="blue">equation </font>
  y = k;
<font color="blue">end </font>BooleanConstant;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BooleanStep<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.BooleanStepI.png" ALT="Modelica.Blocks.Sources.BooleanStep" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.BooleanStep"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.BooleanStep</H2>
<B>Generate step signal of type Boolean</B><p>
<IMG SRC="Modelica.Blocks.Sources.BooleanStepD.png" ALT="Modelica.Blocks.Sources.BooleanStep">
<H3>Information</H3>
<PRE></pre>
<p>
The Boolean output y is a step signal:
</p>

<p>
<img src="../Images/Blocks/Sources/BooleanStep.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Time instant of step start [s]</TD></TR>
<TR><TD>Boolean</TD><TD>startValue</TD><TD>false</TD><TD>Output before startTime</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Connector of Boolean output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> BooleanStep <font color="darkgreen">&quot;Generate step signal of type Boolean&quot;</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Time instant of step start&quot;</font>;
  <font color="blue">parameter </font>Boolean startValue = false <font color="darkgreen">&quot;Output before startTime&quot;</font>;

  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.partialBooleanSource"
>Interfaces.partialBooleanSource</A>;
<font color="blue">equation </font>
 y = <font color="blue">if </font>time &gt;= startTime<font color="blue"> then </font><font color="blue">not </font>startValue<font color="blue"> else </font>startValue;
<font color="blue">end </font>BooleanStep;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BooleanPulse<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.BooleanPulseI.png" ALT="Modelica.Blocks.Sources.BooleanPulse" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.BooleanPulse"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.BooleanPulse</H2>
<B>Generate pulse signal of type Boolean</B><p>
<IMG SRC="Modelica.Blocks.Sources.BooleanPulseD.png" ALT="Modelica.Blocks.Sources.BooleanPulse">
<H3>Information</H3>
<PRE></pre>
<p>
The Boolean output y is a pulse signal:
</p>

<p>
<img src="../Images/Blocks/Sources/Pulse.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>width</TD><TD>50</TD><TD>Width of pulse in % of period</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>period</TD><TD>&nbsp;</TD><TD>Time for one period [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Time instant of first pulse [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Connector of Boolean output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> BooleanPulse <font color="darkgreen">&quot;Generate pulse signal of type Boolean&quot;</font>

  <font color="blue">parameter </font>Real width(
    <font color="blue">final </font>min=Modelica.Constants.small,
    <font color="blue">final </font>max=100) = 50 <font color="darkgreen">&quot;Width of pulse in % of period&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> period(<font color="blue">final </font>min=Modelica.Constants.small,start=1) <font color="darkgreen">
    &quot;Time for one period&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">&quot;Time instant of first pulse&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.partialBooleanSource"
>Modelica.Blocks.Interfaces.partialBooleanSource</A>;

<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> Twidth=period*width/100 <font color="darkgreen">&quot;width of one pulse&quot;</font>;
  <font color="blue">discrete </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> pulsStart <font color="darkgreen">&quot;Start time of pulse&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>
  pulsStart = startTime;
<font color="blue">equation </font>
    <font color="blue">when </font><font color="red">sample</font>(startTime, period)<font color="blue"> then</font>
      pulsStart = time;
    <font color="blue">end when</font>;
    y = time &gt;= pulsStart<font color="blue"> and </font>time &lt; pulsStart + Twidth;
<font color="blue">end </font>BooleanPulse;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SampleTrigger<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.SampleTriggerI.png" ALT="Modelica.Blocks.Sources.SampleTrigger" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.SampleTrigger"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.SampleTrigger</H2>
<B>Generate sample trigger signal</B><p>
<IMG SRC="Modelica.Blocks.Sources.SampleTriggerD.png" ALT="Modelica.Blocks.Sources.SampleTrigger">
<H3>Information</H3>
<PRE></pre>
<p>
The Boolean output y is a trigger signal where the output y is only <b>true</b>
at sample times (defined by parameter <b>period</b>) and is otherwise
<b>false</b>.
</p>

<p>
<img src="../Images/Blocks/Sources/SampleTrigger.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>period</TD><TD>&nbsp;</TD><TD>Sample period [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Time instant of first sample trigger [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Connector of Boolean output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> SampleTrigger <font color="darkgreen">&quot;Generate sample trigger signal&quot;</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> period(<font color="blue">final </font>min=Modelica.Constants.small,start=0.01) <font color="darkgreen">
    &quot;Sample period&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> startTime=0 <font color="darkgreen">
    &quot;Time instant of first sample trigger&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.partialBooleanSource"
>Interfaces.partialBooleanSource</A>;


<font color="blue">equation </font>
  y =<font color="red"> sample</font>(startTime, period);
<font color="blue">end </font>SampleTrigger;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BooleanTable<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.BooleanTableI.png" ALT="Modelica.Blocks.Sources.BooleanTable" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.BooleanTable"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.BooleanTable</H2>
<B>Generate a Boolean output signal based on a vector of time instants</B><p>
<IMG SRC="Modelica.Blocks.Sources.BooleanTableD.png" ALT="Modelica.Blocks.Sources.BooleanTable">
<H3>Information</H3>
<PRE></pre>
<p>
The Boolean output y is a signal defined by parameter vector <b>table</b>.
In the vector time points are stored. At every time point, the output y
changes its value to the negated value of the previous one.
</p>

<p>
<img src="../Images/Blocks/Sources/BooleanTable.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>startValue</TD><TD>false</TD><TD>Start value of y. At time = table[1], y changes to 'not startValue'</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>table[:]</TD><TD>&nbsp;</TD><TD>Vector of time points. At every time point, the output y gets its opposite value (e.g. table={0,1}) [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>y</TD><TD>Connector of Boolean output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> BooleanTable <font color="darkgreen">
  &quot;Generate a Boolean output signal based on a vector of time instants&quot;</font>

  <font color="blue">parameter </font>Boolean startValue = false <font color="darkgreen">
    &quot;Start value of y. At time = table[1], y changes to 'not startValue'&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> table[:] <font color="darkgreen">
    &quot;Vector of time points. At every time point, the output y gets its opposite value (e.g. table={0,1})&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.partialBooleanSource"
>Interfaces.partialBooleanSource</A>;

<font color="blue">protected </font>
  <font color="blue">function</font> getFirstIndex <font color="darkgreen">&quot;Get first index of table and check table&quot;</font>
    <font color="blue">input </font>Real table[:] <font color="darkgreen">&quot;Vector of time instants&quot;</font>;
    <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> simulationStartTime <font color="darkgreen">&quot;Simulation start time&quot;</font>;
    <font color="blue">input </font>Boolean startValue <font color="darkgreen">&quot;Value of y for y &lt; table[1]&quot;</font>;
    <font color="blue">output </font>Integer index <font color="darkgreen">&quot;First index to be used&quot;</font>;
    <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> nextTime <font color="darkgreen">&quot;Time instant of first event&quot;</font>;
    <font color="blue">output </font>Boolean y <font color="darkgreen">&quot;Value of y at simulationStartTime&quot;</font>;
  <font color="blue">protected </font>
    <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> t_last;
    Integer j;
    Integer n=<font color="red">size</font>(table,1) <font color="darkgreen">&quot;Number of table points&quot;</font>;
  <font color="blue">algorithm </font>
    <font color="blue">if </font><font color="red">size</font>(table,1) == 0<font color="blue"> then</font>
       index :=0;
       nextTime :=-Modelica.Constants.inf;
       y :=startValue;
    <font color="blue">elseif </font><font color="red">size</font>(table,1) == 1<font color="blue"> then</font>
       index :=1;
       <font color="blue">if </font>table[1] &gt; simulationStartTime<font color="blue"> then</font>
          nextTime :=table[1];
          y        :=startValue;
       <font color="blue">else</font>
          nextTime :=simulationStartTime;
          y        :=startValue;
       <font color="blue">end if</font>;
    <font color="blue">else</font>

    <font color="darkgreen">// Check whether time values are strict monotonically increasing</font>
      t_last :=table[1];
      <font color="blue">for </font>i<font color="blue"> in </font>2:n<font color="blue"> loop</font>
         <font color="red">assert</font>(table[i] &gt; t_last,
           &quot;Time values of table not strict monotonically increasing: table[&quot; +
           <font color="red">String</font>(i-1) + &quot;] = &quot; + <font color="red">String</font>(table[i-1]) + &quot;table[&quot; + <font color="red">String</font>(i)   +
           &quot;] = &quot; + <font color="red">String</font>(table[i]));
      <font color="blue">end for</font>;

      <font color="darkgreen">// Determine first index in table</font>
      j := 1;
      y := startValue;
      <font color="blue">while </font>j &lt; n<font color="blue"> and </font>table[j] &lt;= simulationStartTime<font color="blue"> loop</font>
        y :=<font color="blue">not </font> y;
        j := j + 1;
      <font color="blue">end while</font>;

      <font color="blue">if </font>j == 1<font color="blue"> then</font>
         nextTime := table[1];
         y        := startValue;
      <font color="blue">elseif </font>j == n<font color="blue"> and </font>table[n] &lt;= simulationStartTime<font color="blue"> then</font>
         nextTime := simulationStartTime - 1;
         y        :=<font color="blue">not </font> y;
      <font color="blue">else</font>
         nextTime := table[j];
      <font color="blue">end if</font>;

      index := j;
    <font color="blue">end if</font>;
  <font color="blue">end </font>getFirstIndex;

  <font color="blue">parameter </font>Integer n =<font color="red"> size</font>(table,1) <font color="darkgreen">&quot;Number of table points&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> nextTime;
  Integer index <font color="darkgreen">&quot;Index of actual table entry&quot;</font>;
<font color="blue">initial </font><font color="blue">algorithm </font>
  (index, nextTime, y) :=<font color="red">getFirstIndex</font>(table, time, startValue);
<font color="blue">algorithm </font>
  <font color="blue">when </font>time &gt;=<font color="red"> pre</font>(nextTime)<font color="blue"> and </font>n &gt; 0<font color="blue"> then</font>
     <font color="blue">if </font>index &lt; n<font color="blue"> then</font>
        index    := index + 1;
        nextTime := table[index];
        y        :=<font color="blue">not </font> y;
     <font color="blue">elseif </font>index == n<font color="blue"> then</font>
        index := index + 1;
        y     :=<font color="blue">not </font> y;
     <font color="blue">end if</font>;
  <font color="blue">end when</font>;
<font color="blue">end </font>BooleanTable;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE IntegerConstant<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.IntegerConstantI.png" ALT="Modelica.Blocks.Sources.IntegerConstant" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.IntegerConstant"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.IntegerConstant</H2>
<B>Generate constant signal of type Integer</B><p>
<IMG SRC="Modelica.Blocks.Sources.IntegerConstantD.png" ALT="Modelica.Blocks.Sources.IntegerConstant">
<H3>Information</H3>
<PRE></pre>
<p>
The Integer output y is a constant signal:
</p>

<p>
<img src="../Images/Blocks/Sources/IntegerConstant.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>k</TD><TD>&nbsp;</TD><TD>Constant output value</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</A></TD><TD>y</TD><TD>Connector of Integer output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> IntegerConstant <font color="darkgreen">&quot;Generate constant signal of type Integer&quot;</font>
  <font color="blue">parameter </font>Integer k(start=1) <font color="darkgreen">&quot;Constant output value&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerSO"
>Interfaces.IntegerSO</A>;

<font color="blue">equation </font>
  y = k;
<font color="blue">end </font>IntegerConstant;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE IntegerStep<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Sources.IntegerStepI.png" ALT="Modelica.Blocks.Sources.IntegerStep" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Sources.IntegerStep"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</A>.IntegerStep</H2>
<B>Generate step signal of type Integer</B><p>
<IMG SRC="Modelica.Blocks.Sources.IntegerStepD.png" ALT="Modelica.Blocks.Sources.IntegerStep">
<H3>Information</H3>
<PRE></pre>
<p>
The Integer output y is a step signal:
</p>

<p>
<img src="../Images/Blocks/Sources/IntegerStep.png">
</p>
<pre></PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>height</TD><TD>1</TD><TD>Height of step</TD></TR>
<TR><TD>Integer</TD><TD>offset</TD><TD>0</TD><TD>Offset of output signal y</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>Output y = offset for time &lt; startTime [s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</A></TD><TD>y</TD><TD>Connector of Integer output signal</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> IntegerStep <font color="darkgreen">&quot;Generate step signal of type Integer&quot;</font>
  <font color="blue">parameter </font>Integer height=1 <font color="darkgreen">&quot;Height of step&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerSignalSource"
>Interfaces.IntegerSignalSource</A>;
<font color="blue">equation </font>
  y = offset + (<font color="blue">if </font>time &lt; startTime<font color="blue"> then </font>0<font color="blue"> else </font>height);
<font color="blue">end </font>IntegerStep;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE position_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Blocks.Sources.KinematicPTP2.position_der"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP2"
>Modelica.Blocks.Sources.KinematicPTP2</A>.position_der</H2>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> position_der
  annotation(derivative=<A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP2.position_der2"
>position_der2</A>);
   <font color="blue">input </font>Real q_qd_qdd[3] <font color="darkgreen">&quot;Required values for position, speed, acceleration&quot;</font>;
   <font color="blue">input </font>Real dummy <font color="darkgreen">
    &quot;Just to have one input signal that should be differentiated to avoid possible problems in the Modelica tool (is not used)&quot;</font>;
   <font color="blue">input </font>Real dummy_der;
   <font color="blue">output </font>Real qd;
<font color="blue">algorithm </font>
  qd :=q_qd_qdd[2];
<font color="blue">end </font>position_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE position_der2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Blocks.Sources.KinematicPTP2.position_der2"></A><A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.KinematicPTP2"
>Modelica.Blocks.Sources.KinematicPTP2</A>.position_der2</H2>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> position_der2
   <font color="blue">input </font>Real q_qd_qdd[3] <font color="darkgreen">&quot;Required values for position, speed, acceleration&quot;</font>;
   <font color="blue">input </font>Real dummy <font color="darkgreen">
    &quot;Just to have one input signal that should be differentiated to avoid possible problems in the Modelica tool (is not used)&quot;</font>;
   <font color="blue">input </font>Real dummy_der;
   <font color="blue">input </font>Real dummy_der2;
   <font color="blue">output </font>Real qdd;
<font color="blue">algorithm </font>
  qdd :=q_qd_qdd[3];
<font color="blue">end </font>position_der2;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Sat Mar 01 21:46:19 2008.
</address></BODY>
</HTML>
