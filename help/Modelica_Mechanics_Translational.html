<HTML>
<HEAD><META name="HTML-Generator" content="Dymola"><TITLE>Modelica</TITLE></HEAD>
<BODY><P>
<H2><A NAME="Modelica.Mechanics.Translational"></A><A HREF="Modelica_Mechanics.html#Modelica.Mechanics"
>Modelica.Mechanics</A>.Translational</H2>
<B>1-dimensional translational mechanical components</B>
<P>
<A HREF="Modelica_Mechanics_Translational_Examples.html#Modelica.Mechanics.Translational.Examples"
><IMG SRC="Modelica.Mechanics.Translational.ExamplesI.png" ALT="Modelica.Mechanics.Translational.Examples" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces"
><IMG SRC="Modelica.Mechanics.Translational.InterfacesI.png" ALT="Modelica.Mechanics.Translational.Interfaces" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.SlidingMass"
><IMG SRC="Modelica.Mechanics.Translational.SlidingMassI.png" ALT="Modelica.Mechanics.Translational.SlidingMass" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Stop"
><IMG SRC="Modelica.Mechanics.Translational.StopI.png" ALT="Modelica.Mechanics.Translational.Stop" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Rod"
><IMG SRC="Modelica.Mechanics.Translational.RodI.png" ALT="Modelica.Mechanics.Translational.Rod" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Spring"
><IMG SRC="Modelica.Mechanics.Translational.SpringI.png" ALT="Modelica.Mechanics.Translational.Spring" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Damper"
><IMG SRC="Modelica.Mechanics.Translational.DamperI.png" ALT="Modelica.Mechanics.Translational.Damper" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.SpringDamper"
><IMG SRC="Modelica.Mechanics.Translational.SpringDamperI.png" ALT="Modelica.Mechanics.Translational.SpringDamper" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.ElastoGap"
><IMG SRC="Modelica.Mechanics.Translational.ElastoGapI.png" ALT="Modelica.Mechanics.Translational.ElastoGap" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Position"
><IMG SRC="Modelica.Mechanics.Translational.PositionI.png" ALT="Modelica.Mechanics.Translational.Position" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Accelerate"
><IMG SRC="Modelica.Mechanics.Translational.AccelerateI.png" ALT="Modelica.Mechanics.Translational.Accelerate" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Move"
><IMG SRC="Modelica.Mechanics.Translational.MoveI.png" ALT="Modelica.Mechanics.Translational.Move" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Fixed"
><IMG SRC="Modelica.Mechanics.Translational.FixedI.png" ALT="Modelica.Mechanics.Translational.Fixed" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.Force"
><IMG SRC="Modelica.Mechanics.Translational.ForceI.png" ALT="Modelica.Mechanics.Translational.Force" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational.RelativeStates"
><IMG SRC="Modelica.Mechanics.Translational.RelativeStatesI.png" ALT="Modelica.Mechanics.Translational.RelativeStates" WIDTH=80  HEIGHT=80 ></A>
<A HREF="Modelica_Mechanics_Translational_Sensors.html#Modelica.Mechanics.Translational.Sensors"
><IMG SRC="Modelica.Mechanics.Translational.SensorsI.png" ALT="Modelica.Mechanics.Translational.Sensors" WIDTH=80  HEIGHT=80 ></A>
<P><P>
<H3>Information</H3>
<PRE></pre>
<p>
This package contains components to model <i>1-dimensional translational
mechanical</i> systems.
</p>

<p>
The <i>filled</i> and <i>non-filled green squares</i> at the left and
right side of a component represent <i>mechanical flanges</i>.
Drawing a line between such squares means that the corresponding
flanges are <i>rigidly attached</i> to each other. The components of this
library can be usually connected together in an arbitrary way. E.g. it is
possible to connect two springs or two sliding masses with inertia directly
together.

<p> The only <i>connection restriction</i> is that the Coulomb friction
elements (Stop) should be only connected
together provided a compliant element, such as a spring, is in between.
The reason is that otherwise the frictional force is not uniquely
defined if the elements are stuck at the same time instant (i.e., there
does not exist a unique solution) and some simulation systems may not be
able to handle this situation, since this leads to a singularity during
simulation. It can only be resolved in a "clean way" by combining the
two connected friction elements into
one component and resolving the ambiguity of the frictional force in the
stuck mode.
</p>

<p> Another restriction arises if the hard stops in model Stop are used, i. e.
the movement of the mass is limited by a stop at smax or smin.
<font color="#ff0000"> <b>This requires the states Stop.s and Stop.v</b> </font>. If these states are eliminated during the index reduction
the model will not work. To avoid this any inertias should be connected via springs
to the Stop element, other sliding masses, dampers or hydraulic chambers must be avoided. </p>


<p>
In the <i>icon</i> of every component an <i>arrow</i> is displayed in grey
color. This arrow characterizes the coordinate system in which the vectors
of the component are resolved. It is directed into the positive
translational direction (in the mathematical sense).
In the flanges of a component, a coordinate system is rigidly attached
to the flange. It is called <i>flange frame</i> and is directed in parallel
to the component coordinate system. As a result, e.g., the positive
cut-force of a "left" flange (flange_a) is directed into the flange, whereas
the positive cut-force of a "right" flange (flange_b) is directed out of the
flange. A flange is described by a Modelica connector containing
the following variables:
</p>

<pre>
   SIunits.Position s  "absolute position of flange";
   <i>flow</i> Force f        "cut-force in the flange";
</pre>

<p>
This package contains the following model components:
</p>

<pre>
   <i>Interfaces</i>       Sublibrary containing interface definitions.
   <i>Examples</i>         Examples of library usage.

   <i>SlidingMass</i>      Translational component with inertia.
   <i>Stop</i>             Sliding mass with Coulomb friction and hard stops.
   <i>Rod</i>              Massless rod.
   <i>Spring</i>           Linear spring.
   <i>Damper</i>           Linear damper.
   <i>SpringDamper</i>     Linear spring and linear damper in parallel connection.
   <i>ElastoGap</i>        Linear spring and linear damper that can lift off.

   <i>Position</i>         Drive a flange with a reference position given as input signal.
   <i>Accelerate</i>       Drive a flange with an acceleration given as input signal.
   <i>Move</i>             Drive a flange with a reference position, velocity and
                    acceleration given as input signal.
   <i>Fixed</i>            Fixed flange at a predefined position.
   <i>Force</i>            External force defined as input signal.

   <i>ForceSensor</i>      Ideal sensor to measure the force in a flange.
   <i>PositionSensor</i>   Ideal sensor to measure absolute position of a flange.
   <i>SpeedSensor</i>      Ideal sensor to measure absolute velocity of a flange.
   <i>AccSensor</i>        Ideal sensor to measure absolute acceleration of a flange.

</pre>

<p>
This library is designed in a fully object oriented way in order that
components can be connected together in every meaningful combination
(e.g. direct connection of two springs or two shafts with inertia).
As a consequence, most models lead to a system of
differential-algebraic equations of <i>index 3</i> (= constraint
equations have to be differentiated twice in order to arrive at
a state space representation) and the Modelica translator or
the simulator has to cope with this system representation.
According to our present knowledge, this requires that the
Modelica translator is able to symbolically differentiate equations
(otherwise it is e.g. not possible to provide consistent initial
conditions; even if consistent initial conditions are present, most
numerical DAE integrators can cope at most with index 2 DAEs).
</p>

<b>Main Author:</b><i><ul> Peter Beater</i> <br>
    Universit&auml;t Paderborn, Abteilung Soest<br>
    Fachbereich Maschinenbau/Automatisierungstechnik<br>
    L&uuml;becker Ring 2 <br>
    D 59494 Soest <br>
    Germany <br>
email: <A HREF="mailto:Beater@mailso.uni-paderborn.de">Beater@mailso.uni-paderborn.de</A><br>
</ul>
<br>

<p><b>Release
 Notes:</b></p>
<ul>
<li><i>Version 1.0 (January 5, 2000)</i>
       by Peter Beater <br>
       Realized a first version based on Modelica library Mechanics.Rotational
       by Martin Otter and an existing Dymola library onedof.lib by Peter Beater.
       <br>
<li><i>Version 1.01 (July 18, 2001)</i>
       by Peter Beater <br>
       Assert statement added to "Stop", small bug fixes in examples.

       <br><br>


</li>
</ul>
<br>


<p><b>Copyright &copy; 2000-2002, Modelica Association and Universit&auml;t Paderborn, FB 12.</b></p>

<p><i>
The Modelica package is free software; it can be redistributed and/or modified
under the terms of the Modelica license , see the license conditions
and the accompanying disclaimer in the documentation of package
Modelica in file "Modelica/package.mo".
</i></p>
<pre>
</PRE><P>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.SlidingMassI.png" ALT="Modelica.Mechanics.Translational.SlidingMass" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.SlidingMass"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.SlidingMass</H2>
<B>Sliding mass with inertia</B><p>
<IMG SRC="Modelica.Mechanics.Translational.SlidingMassD.png" ALT="Modelica.Mechanics.Translational.SlidingMass">
<H3>Information</H3>
<PRE></pre>
<p>
Sliding mass with <i>inertia, without friction</i> and two rigidly connected flanges.
</p>
<p>
The sliding mass has the length L, the position coordinate s is in the middle.
Sign convention: A positive force at flange flange_a moves the sliding mass in the positive direction.
A negative force at flange flange_a moves the sliding mass to the negative direction.
</p>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.Shaft)</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>L</TD><TD>0</TD><TD>length of component from left flange to right flange (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR><TD>m</TD><TD>1</TD><TD>mass of the sliding mass [kg]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SlidingMass <font color="darkgreen">&quot;Sliding mass with inertia&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Rigid"
>Interfaces.Rigid</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>SI.Mass</A> m=1 <font color="darkgreen">&quot;mass of the sliding mass&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v <font color="darkgreen">&quot;absolute velocity of component&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>SI.Acceleration</A> a <font color="darkgreen">&quot;absolute acceleration of component&quot;</font>;
  <font color="darkgreen"></font>
<font color="blue">equation </font>
  <font color="darkgreen"></font>
  v = <font color="red">der</font>(s);
  a = <font color="red">der</font>(v);
  m*a = flange_a.f + flange_b.f;
<font color="blue">end </font>SlidingMass;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.StopI.png" ALT="Modelica.Mechanics.Translational.Stop" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Stop"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Stop</H2>
<B>Sliding mass with hard stop and Stribeck friction</B><p>
<IMG SRC="Modelica.Mechanics.Translational.StopD.png" ALT="Modelica.Mechanics.Translational.Stop">
<H3>Information</H3>
<PRE>
</pre>
<P>This element describes the <i>Stribeck friction characteristics</i> of a sliding mass,
i. e. the frictional force acting between the sliding mass and the support. Included is a
<i>hard stop</i> for the position. <BR>
The surface is fixed and there is friction between sliding mass and surface.
The frictional force f is given for positive velocity v by:</P>
<i><uL>
f = F_Coulomb + F_prop * v + F_Stribeck * exp (-fexp * v)</i> </ul><br>


<IMG SRC=../Images/Stribeck.gif>
<br><br>
The distance between the left and the right connector is given by parameter L.
The position of the center of gravity, coordinate s, is in the middle between
the two flanges. </p>
<p>
There are hard stops at smax and smin, i. e. if <i><uL>
flange_a.s &gt;= smin
<ul>    and </ul>
flange_b.s &lt;= xmax </ul></i>
the sliding mass can move freely.</p>

<p>When the absolute velocity becomes zero, the sliding mass becomes stuck, i.e., the absolute position remains constant. In this phase the
friction force is calculated from a force balance due to the requirement that the
absolute acceleration shall be zero. The elements begin to slide when the friction
force exceeds a threshold value, called the maximum static friction force, computed via: </P>

<i><uL>

   maximum_static_friction =  F_Coulomb + F_Stribeck
</i> </ul>


<font color="#ff0000"> <b>This requires the states Stop.s and Stop.v</b> </font>. If these states are eliminated during the index reduction
the model will not work. To avoid this any inertias should be connected via springs
to the Stop element, other sliding masses, dampers or hydraulic chambers must be avoided. </p>

<p>For more details of the used friction model see the following reference: <br> <br>
Beater P. (1999): <DD><a href="http://www.springer.de/cgi-bin/search_book.pl?isbn=3-540-65444-5">
Entwurf hydraulischer Maschinen</a>. Springer Verlag Berlin Heidelberg New York.</DL></P>

<P>The friction model is implemented in a "clean" way by state events and leads to
continuous/discrete systems of equations which have to be solved by appropriate
numerical methods. The method is described in: </P>
<DL>
Otter M., Elmqvist H., and Mattsson S.E. (1999):
<i><DD>Hybrid Modeling in Modelica based on the Synchronous Data Flow Principle</i>. CACSD'99, Aug. 22.-26, Hawaii. </DD>
</DL>

<P>More precise friction models take into account the elasticity of the material when
the two elements are "stuck", as well as other effects, like hysteresis. This has
the advantage that the friction element can be completely described by a differential
equation without events. The drawback is that the system becomes stiff (about 10-20 times
slower simulation) and that more material constants have to be supplied which requires more
sophisticated identification. For more details, see the following references, especially
(Armstrong and Canudas de Witt 1996): </P>
<DL>
Armstrong B. (1991):
<i><DD>Control of Machines with Friction</i>. Kluwer Academic Press, Boston MA.<BR>
</DD>
<DT>Armstrong B., and Canudas de Wit C. (1996): </DT>
<i><DD>Friction Modeling and Compensation.</i> The Control Handbook, edited by W.S.Levine, CRC Press, pp. 1369-1382.<BR>
</DD>
<DT>Canudas de Wit C., Olsson H., Astroem K.J., and Lischinsky P. (1995): </DT>
<i><DD>A new model for control of systems with friction.</i> IEEE Transactions on Automatic Control, Vol. 40, No. 3, pp. 419-425.<BR>
</DD>
</DL>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from December 7, 1999 by P. Beater (based on Rotational.BearingFriction)</i> </li>
<li><i>July 14, 2001 by P. Beater, assert on initialization added, diagram modified </i> </li>
<li><i>October 11, 2001, by Hans Olsson, Dynasim, modified assert to handle start at stops,
modified event logic such if you have friction parameters equal to zero you do not get events
between the stops.</i> </li>
<li><i>June 10, 2002 by P. Beater, StateSelect.always for variables s and v (instead of fixed=true). </i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>L</TD><TD>0</TD><TD>length of component from left flange to right flange (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR><TD>smax</TD><TD>25</TD><TD>right stop for (right end of) sliding mass [m]</TD></TR>
<TR><TD>smin</TD><TD>-25</TD><TD>left stop for (left end of) sliding mass [m]</TD></TR>
<TR><TD>v_small</TD><TD>1e-3</TD><TD>Relative velocity near to zero (see model info text) [m/s]</TD></TR>
<TR><TD>m</TD><TD>1</TD><TD>mass [kg]</TD></TR>
<TR><TD>F_prop</TD><TD>1</TD><TD>velocity dependent friction [N/ (m/s)]</TD></TR>
<TR><TD>F_Coulomb</TD><TD>5</TD><TD>constant friction: Coulomb force [N]</TD></TR>
<TR><TD>F_Stribeck</TD><TD>10</TD><TD>Stribeck effect [N]</TD></TR>
<TR><TD>fexp</TD><TD>2</TD><TD>exponential decay [1/ (m/s)]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Stop <font color="darkgreen">&quot;Sliding mass with hard stop and Stribeck friction&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.FrictionBase"
>Modelica.Mechanics.Translational.Interfaces.FrictionBase</A>(s(stateSelect=
          StateSelect.always));
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</A> v(stateSelect=StateSelect.always) <font color="darkgreen">
    &quot;Absolute velocity of flange_a and flange_b&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Modelica.SIunits.Acceleration</A> a <font color="darkgreen">
    &quot;Absolute acceleration of flange_a and flange_b&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>Modelica.SIunits.Mass</A> m=1 <font color="darkgreen">&quot;mass&quot;</font>;
  <font color="darkgreen"></font>
  <font color="blue">parameter </font>Real F_prop(
    <font color="blue">final </font>unit=&quot;N/ (m/s)&quot;, 
    <font color="blue">final </font>min=0) = 1 <font color="darkgreen">&quot;velocity dependent friction&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</A> F_Coulomb=5 <font color="darkgreen">&quot;constant friction: Coulomb force&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Force"
>Modelica.SIunits.Force</A> F_Stribeck=10 <font color="darkgreen">&quot;Stribeck effect&quot;</font>;
  <font color="blue">parameter </font>Real fexp(
    <font color="blue">final </font>unit=&quot;1/ (m/s)&quot;, 
    <font color="blue">final </font>min=0) = 2 <font color="darkgreen">&quot;exponential decay&quot;</font>;
  <font color="darkgreen"></font>
<font color="blue">equation </font>
  <font color="darkgreen"></font>
  <font color="darkgreen">// Constant auxiliary variables</font>
  f0 = (F_Coulomb + F_Stribeck);
  f0_max = f0*1.001;
  free = f0 &lt;= 0<font color="blue"> and </font>F_prop &lt;= 0<font color="blue"> and </font>s &gt; smin + L/2<font color="blue"> and </font>s &lt; smax - L/2;
  <font color="darkgreen"></font>
  <font color="darkgreen">// Velocity and acceleration of flanges</font>
  v = <font color="red">der</font>(s);
  a = <font color="red">der</font>(v);
  v_relfric = v;
  a_relfric = a;
  <font color="darkgreen"></font>
  <font color="darkgreen">// Equilibrium of forces</font>
  0 = flange_a.f + flange_b.f - f - m*<font color="red">der</font>(v);
  <font color="darkgreen"></font>
  <font color="darkgreen">// Friction force</font>
  f = <font color="blue">if </font>locked<font color="blue"> then </font>sa<font color="blue"> else </font><font color="blue">if </font>free<font color="blue"> then </font>0<font color="blue"> else </font>(<font color="blue">if </font>startForward<font color="blue"> then </font>F_prop*v
     + F_Coulomb + F_Stribeck<font color="blue"> else </font><font color="blue">if </font>startBackward<font color="blue"> then </font>F_prop*v - F_Coulomb
     - F_Stribeck<font color="blue"> else </font><font color="blue">if </font><font color="red">pre</font>(mode) == Forward<font color="blue"> then </font>F_prop*v + F_Coulomb + 
    F_Stribeck*<font color="red">exp</font>(-fexp*<font color="red">abs</font>(v))<font color="blue"> else </font>F_prop*v - F_Coulomb - F_Stribeck*<font color="red">exp</font>(-
    fexp*<font color="red">abs</font>(v)));
  <font color="darkgreen"></font>
  <font color="darkgreen">
    // Define events for hard stops and reinitiliaze the state variables velocity v and position s</font>
<font color="blue">algorithm </font>
  <font color="blue">when </font>(<font color="red">initial</font>())<font color="blue"> then</font>
    <font color="red">assert</font>(s &gt; smin + L/2<font color="blue"> or </font>s &gt;= smin + L/2<font color="blue"> and </font>v &gt;= 0, 
      &quot;Error in initialization of hard stop. (s - L/2) must be &gt;= smin &quot;);
    <font color="red">assert</font>(s &lt; smax - L/2<font color="blue"> or </font>s &lt;= smax - L/2<font color="blue"> and </font>v &lt;= 0, 
      &quot;Error in initialization of hard stop. (s + L/2) must be &lt;= smax &quot;);
  <font color="blue">end when</font>;
  <font color="darkgreen"></font>
  <font color="blue">when </font><font color="blue">not </font>(s &lt; smax - L/2)<font color="blue"> then</font>
    <font color="red">reinit</font>(s, smax - L/2);
    <font color="blue">if </font>(<font color="blue">not </font><font color="red">initial</font>()<font color="blue"> or </font>v &gt; 0)<font color="blue"> then</font>
      <font color="red">reinit</font>(v, 0);
    <font color="blue">end if</font>;
  <font color="blue">end when</font>;
  <font color="darkgreen"></font>
  <font color="blue">when </font><font color="blue">not </font>(s &gt; smin + L/2)<font color="blue"> then</font>
    <font color="red">reinit</font>(s, smin + L/2);
    <font color="blue">if </font>(<font color="blue">not </font><font color="red">initial</font>()<font color="blue"> or </font>v &lt; 0)<font color="blue"> then</font>
      <font color="red">reinit</font>(v, 0);
    <font color="blue">end if</font>;
  <font color="blue">end when</font>;
<font color="blue">end </font>Stop;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.RodI.png" ALT="Modelica.Mechanics.Translational.Rod" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Rod"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Rod</H2>
<B>Rod without inertia</B><p>
<IMG SRC="Modelica.Mechanics.Translational.RodD.png" ALT="Modelica.Mechanics.Translational.Rod">
<H3>Information</H3>
<PRE></pre>
<p>
Rod <i>without inertia</i> and two rigidly connected flanges.
</p>

<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>L</TD><TD>0</TD><TD>length of component from left flange to right flange (= flange_b.s - flange_a.s) [m]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Rod <font color="darkgreen">&quot;Rod without inertia&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Rigid"
>Interfaces.Rigid</A>;
  <font color="darkgreen"></font>
<font color="blue">equation </font>
  0 = flange_a.f + flange_b.f;
<font color="blue">end </font>Rod;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.SpringI.png" ALT="Modelica.Mechanics.Translational.Spring" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Spring"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Spring</H2>
<B>Linear 1D translational spring</B><p>
<IMG SRC="Modelica.Mechanics.Translational.SpringD.png" ALT="Modelica.Mechanics.Translational.Spring">
<H3>Information</H3>
<PRE></pre>
<p>
A <i>linear 1D translational spring</i>. The component can be connected either
between two sliding masses, or between
a sliding mass and the housing (components FixedLeft, FixedRight), to describe
a coupling of the slidin mass with the housing via a spring.
</p>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.Spring)</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>s_rel0</TD><TD>0</TD><TD>unstretched spring length [m]</TD></TR>
<TR><TD>c</TD><TD>1</TD><TD>spring constant  [N/m]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Spring <font color="darkgreen">&quot;Linear 1D translational spring&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Compliant"
>Interfaces.Compliant</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Distance"
>SI.Distance</A> s_rel0=0 <font color="darkgreen">&quot;unstretched spring length&quot;</font>;
  <font color="blue">parameter </font>Real c(
    <font color="blue">final </font>unit=&quot;N/m&quot;, 
    <font color="blue">final </font>min=0) = 1 <font color="darkgreen">&quot;spring constant &quot;</font>;
  <font color="darkgreen"></font>
<font color="blue">equation </font>
  f = c*(s_rel - s_rel0);
<font color="blue">end </font>Spring;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.DamperI.png" ALT="Modelica.Mechanics.Translational.Damper" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Damper"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Damper</H2>
<B>Linear 1D translational damper</B><p>
<IMG SRC="Modelica.Mechanics.Translational.DamperD.png" ALT="Modelica.Mechanics.Translational.Damper">
<H3>Information</H3>
<PRE></pre>
<p>
<i>Linear, velocity dependent damper</i> element. It can be either connected
between a sliding mass and the housing (FixedLeft, FixedRight elements), or
between two sliding masses.
</p>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.Damper)</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>d</TD><TD>0</TD><TD>damping constant [N/ (m/s)] [N/ (m/s)]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Damper <font color="darkgreen">&quot;Linear 1D translational damper&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Compliant"
>Interfaces.Compliant</A>;
  <font color="blue">parameter </font>Real d(
    <font color="blue">final </font>unit=&quot;N/ (m/s)&quot;, 
    <font color="blue">final </font>min=0) = 0 <font color="darkgreen">&quot;damping constant [N/ (m/s)]&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v_rel <font color="darkgreen">&quot;relative velocity between flange L and R&quot;</font>;
<font color="blue">equation </font>
  v_rel = <font color="red">der</font>(s_rel);
  f = d*v_rel;
<font color="blue">end </font>Damper;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.SpringDamperI.png" ALT="Modelica.Mechanics.Translational.SpringDamper" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.SpringDamper"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.SpringDamper</H2>
<B>Linear 1D translational spring and damper in parallel</B><p>
<IMG SRC="Modelica.Mechanics.Translational.SpringDamperD.png" ALT="Modelica.Mechanics.Translational.SpringDamper">
<H3>Information</H3>
<PRE></pre>
<p>
A <i>spring and damper element connected in parallel</i>.
The component can be
connected either between two sliding masses to describe the elasticity
and damping, or between a sliding mass and the housing (FixedLeft, FixedRight elements),
to describe a coupling of the sliding mass with the housing via a spring/damper.
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.SpringDamper)</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>s_rel0</TD><TD>0</TD><TD>unstretched spring length [m]</TD></TR>
<TR><TD>c</TD><TD>1</TD><TD>spring constant [N/m]</TD></TR>
<TR><TD>d</TD><TD>1</TD><TD>damping constant [N/(m/s)]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> SpringDamper <font color="darkgreen">
  &quot;Linear 1D translational spring and damper in parallel&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Compliant"
>Interfaces.Compliant</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s_rel0=0 <font color="darkgreen">&quot;unstretched spring length&quot;</font>;
  <font color="blue">parameter </font>Real c(
    <font color="blue">final </font>unit=&quot;N/m&quot;, 
    <font color="blue">final </font>min=0) = 1 <font color="darkgreen">&quot;spring constant&quot;</font>;
  <font color="blue">parameter </font>Real d(
    <font color="blue">final </font>unit=&quot;N/(m/s)&quot;, 
    <font color="blue">final </font>min=0) = 1 <font color="darkgreen">&quot;damping constant&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v_rel <font color="darkgreen">&quot;relative velocity between flange L and R&quot;</font>;
  <font color="darkgreen"></font>
<font color="blue">equation </font>
  v_rel = <font color="red">der</font>(s_rel);
  f = c*(s_rel - s_rel0) + d*v_rel;
<font color="blue">end </font>SpringDamper;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.ElastoGapI.png" ALT="Modelica.Mechanics.Translational.ElastoGap" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.ElastoGap"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.ElastoGap</H2>
<B>1D translational spring damper combination with gap</B><p>
<IMG SRC="Modelica.Mechanics.Translational.ElastoGapD.png" ALT="Modelica.Mechanics.Translational.ElastoGap">
<H3>Information</H3>
<PRE></pre>
<p>
A <i>linear translational spring damper combination that can lift off</i>.
The component can be connected
between between
a sliding mass and the housing (components FixedLeft, FixedRight), to describe
the contact of a sliding mass with the housing.
</p>

<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>s_rel0</TD><TD>0</TD><TD>unstretched spring length [m]</TD></TR>
<TR><TD>c</TD><TD>1</TD><TD>spring constant [N/m]</TD></TR>
<TR><TD>d</TD><TD>1</TD><TD>damping constant [N/ (m/s)]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ElastoGap <font color="darkgreen">&quot;1D translational spring damper combination with gap&quot;</font>
   
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Compliant"
>Interfaces.Compliant</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s_rel0=0 <font color="darkgreen">&quot;unstretched spring length&quot;</font>;
  <font color="blue">parameter </font>Real c(
    <font color="blue">final </font>unit=&quot;N/m&quot;, 
    <font color="blue">final </font>min=0) = 1 <font color="darkgreen">&quot;spring constant&quot;</font>;
  <font color="blue">parameter </font>Real d(
    <font color="blue">final </font>unit=&quot;N/ (m/s)&quot;, 
    <font color="blue">final </font>min=0) = 1 <font color="darkgreen">&quot;damping constant&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v_rel <font color="darkgreen">&quot;relative velocity between flange L and R&quot;</font>;
  Boolean Contact <font color="darkgreen">&quot;false, if s_rel &gt; l &quot;</font>;
  <font color="darkgreen"></font>
<font color="blue">equation </font>
  <font color="darkgreen"></font>
  v_rel = <font color="red">der</font>(s_rel);
  Contact = s_rel &lt; s_rel0;
  f = <font color="blue">if </font>Contact<font color="blue"> then </font>(c*(s_rel - s_rel0) + d*v_rel)<font color="blue"> else </font>0;
<font color="blue">end </font>ElastoGap;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.PositionI.png" ALT="Modelica.Mechanics.Translational.Position" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Position"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Position</H2>
<B>Forced movement of a flange according to a reference position</B><p>
<IMG SRC="Modelica.Mechanics.Translational.PositionD.png" ALT="Modelica.Mechanics.Translational.Position">
<H3>Information</H3>
<PRE></pre>
<p>
The input signal inPort.signal[1] defines the <b>reference
position</b> <b>s_ref</b> in [m]. Flange <b>flange_b</b> is <b>forced</b>
to move according to this reference motion. According to parameter
<b>exact</b> (default = <b>false</b>), this is done in the following way:
<ol>
<li><b>exact=true</b><br>
    The reference position is treated <b>exactly</b>. This is only possible, if
    the input signal is defined by an analytical function which can be
    differentiated at least twice. If this prerequisite is fulfilled,
    the Modelica translator will differentiate the input signal twice
    in order to compute the reference acceleration of the flange.</li>
<li><b>exact=false</b><br>
    The reference position is <b>filtered</b> and the second derivative
    of the filtered curve is used to compute the reference acceleration
    of the flange. This second derivative is <b>not</b> computed by
    numerical differentiation but by an appropriate realization of the
    filter. For filtering, a second order Bessel filter is used.
    The critical frequency (also called cut-off frequency) of the
    filter is defined via parameter <b>f_crit</b> in [Hz]. This value
    should be selected in such a way that it is higher as the essential
    low frequencies in the signal.</li>
</ol>

<p>
The input signal can be provided from one of the signal generator
blocks of the block library Modelica.Blocks.Sources.
</p>

<p><b>Release Notes:</b></p>
<ul>
<li><i>June 19, 2000</i>
       by <a href="http://www.robotic.dlr.de/Martin.Otter/">Martin Otter</a>.<br>
       Realized.</li>
</ul>

<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>exact</TD><TD>false</TD><TD>true/false exact treatment/filtering the input signal</TD></TR>
<TR><TD>f_crit</TD><TD>50</TD><TD>if exact=false, critical frequency of filter to filter input signal [Hz]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Position <font color="darkgreen">
  &quot;Forced movement of a flange according to a reference position&quot;</font> 
  <font color="blue">parameter </font>Boolean exact=false <font color="darkgreen">
    &quot;true/false exact treatment/filtering the input signal&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Frequency"
>SI.Frequency</A> f_crit=50 <font color="darkgreen">
    &quot;if exact=false, critical frequency of filter to filter input signal&quot;</font>;
  <font color="darkgreen"></font>
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s_ref <font color="darkgreen">&quot;reference position defined with the input signal&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s <font color="darkgreen">&quot;absolute position of flange_b&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v <font color="darkgreen">&quot;absolute velocity of flange_b&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>SI.Acceleration</A> a <font color="darkgreen">&quot;absolute acceleration of flange_b&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">parameter </font>Real w_crit=2*Modelica.Constants.pi*f_crit <font color="darkgreen">
    &quot;critical frequency in [1/s]&quot;</font>;
  <font color="blue">constant </font>Real af=1.3617 <font color="darkgreen">&quot;s coefficient of Bessel filter&quot;</font>;
  <font color="blue">constant </font>Real bf=0.6180 <font color="darkgreen">&quot;s*s coefficient of Bessel filter&quot;</font>;
<font color="blue">public </font>
  <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Flange_b"
>Interfaces.Flange_b</A> flange_b;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.InPort"
>Modelica.Blocks.Interfaces.InPort</A> inPort(<font color="blue">final </font>n=1) <font color="darkgreen">
    &quot;Flange position as input signal&quot;</font>;
<font color="blue">equation </font>
  s_ref = inPort.signal[1];
  s = flange_b.s;
  v = <font color="red">der</font>(s);
  a = <font color="red">der</font>(v);
  <font color="darkgreen"></font>
  <font color="blue">if </font>exact<font color="blue"> then</font>
    s = s_ref;
  <font color="blue">else</font>
    <font color="darkgreen">// Filter: a = s_ref/(1 + (af/w_crit)*S + (bf/w_crit^2)*S^2)</font>
    a = ((s_ref - s)*w_crit - af*v)*(w_crit/bf);
  <font color="blue">end if</font>;
  <font color="darkgreen"></font>
<font color="blue">initial </font><font color="blue">equation </font>
  <font color="blue">if </font><font color="blue">not </font>exact<font color="blue"> then</font>
    s = s_ref;
  <font color="blue">end if</font>;
<font color="blue">end </font>Position;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.AccelerateI.png" ALT="Modelica.Mechanics.Translational.Accelerate" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Accelerate"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Accelerate</H2>
<B>Forced movement of a flange according to an acceleration signal</B><p>
<IMG SRC="Modelica.Mechanics.Translational.AccelerateD.png" ALT="Modelica.Mechanics.Translational.Accelerate">
<H3>Information</H3>
<PRE></pre>
<p>
The input signal "a"  in [m/s2] of connector "i" moves the 1D translational flange
connector flange_b with a predefined <i>acceleration</i>, i.e., the flange
is <i>forced</i> to move with this acceleration. The velocity and the
position of the flange are also predefined and are determined by
integration of the acceleration.
</p>

<p>
The acceleration "a(t)" can be provided from one of the signal generator
blocks of the block library Modelica.Blocks.Source.
</p>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.AccMotion)</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>s_start</TD><TD>0</TD><TD>Start position [m]</TD></TR>
<TR><TD>v_start</TD><TD>0</TD><TD>Start velocity [m/s]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Accelerate <font color="darkgreen">
  &quot;Forced movement of a flange according to an acceleration signal&quot;</font> 
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s_start=0 <font color="darkgreen">&quot;Start position&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v_start=0 <font color="darkgreen">&quot;Start velocity&quot;</font>;
  <font color="darkgreen"></font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>SI.Acceleration</A> a <font color="darkgreen">&quot;absolute acceleration of flange_b&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v(<font color="blue">final </font>start=v_start, <font color="blue">final </font>fixed=true) <font color="darkgreen">
    &quot;absolute velocity of flange_b&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s(<font color="blue">final </font>start=s_start, <font color="blue">final </font>fixed=true) <font color="darkgreen">
    &quot;absolute position of flange_b&quot;</font>;
  <font color="darkgreen"></font>
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.InPort"
>Modelica.Blocks.Interfaces.InPort</A> inPort(<font color="blue">final </font>n=1) <font color="darkgreen">
    &quot;Connector of input signal used as force&quot;</font>;
  <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Flange_b"
>Interfaces.Flange_b</A> flange_b;
<font color="blue">equation </font>
  s = flange_b.s;
  v = <font color="red">der</font>(s);
  a = <font color="red">der</font>(v);
  a = inPort.signal[1];
<font color="blue">end </font>Accelerate;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.MoveI.png" ALT="Modelica.Mechanics.Translational.Move" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Move"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Move</H2>
<B>Forced movement of a flange according to a position, velocity and acceleration signal</B><p>
<IMG SRC="Modelica.Mechanics.Translational.MoveD.png" ALT="Modelica.Mechanics.Translational.Move">
<H3>Information</H3>
<PRE></pre>
<p>
Flange <b>flange_b</b> is <b>forced</b> to move with a predefined motion
according to the input signals:
</p>

<pre>
    inPort.signal[1]: position of flange
    inPort.signal[2]: velocity of flange
    inPort.signal[3]: acceleration of flange
</pre>

<p>
The user has to guarantee that the input signals are consistent to each other,
i.e., that inPort.signal[2] is the derivative of inPort.signal[1] and that
inPort.signal[3] is the derivative of inPort.signal[2]. There are, however,
also applications where by purpose these conditions do not hold. For example,
if only the position dependent terms of a mechanical system shall be
calculated, one may provide position = position(t) and set the velocity
and the acceleration to zero.
</p>

<p>
The input signals can be provided from one of the signal generator
blocks of the block library Modelica.Blocks.Sources.
</p>

<p>
Note, this model utilizes the non-standard function <b>constrain(..)</b>
and assumes that this function is supported by the Modelica translator:
</p>
<pre>
   Real r[:], rd[:], rdd[:];
      ...
   r   = ..
   rd  = ...
   rdd = ...
   constrain(r,rd,rdd);
</pre>
<p>
where r, rd and rdd are variables which need to be computed
somewhere else. A simple implementation of constrain() is:
</p>

<pre>
   r = 0;
</pre>

<p>
However, this implementation requires that r(t) is given as analytical,
smooth function in order that it can be differentiated and it does
not allow applications such as the one sketched above.
Function constrain()
is used to explicitly inform the Modelica translator that
rd is the derivative of r and rdd is the derivative of rd
and that all derivatives need to be identical to zero.
The Modelica translator can utilize this information to use
rd and rdd whenever the Pantelides algorithm requires to compute
the derivatives of r (and takes rd and rdd instead of actually
differentiating r).
</p>

<p><b>Release Notes:</b></p>
<ul>
<li><i>June 25, 2001</i>
       by <a href="http://www.robotic.dlr.de/Martin.Otter/">Martin Otter</a>:<br>
       realized.</li>
</ul>

<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Move <font color="darkgreen">
  &quot;Forced movement of a flange according to a position, velocity and acceleration signal&quot;</font>
   
  <font color="darkgreen"></font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s <font color="darkgreen">&quot;absolute position of flange_b&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v <font color="darkgreen">&quot;absolute velocity of flange_b&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>SI.Acceleration</A> a <font color="darkgreen">&quot;absolute acceleration of flange_b&quot;</font>;
  <font color="darkgreen"></font>
<font color="blue">protected </font>
  Real constraintResidue;
  Real constraintResidue_d;
  Real constraintResidue_dd;
<font color="blue">public </font>
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.InPort"
>Modelica.Blocks.Interfaces.InPort</A> inPort(<font color="blue">final </font>n=3);
  <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Flange_b"
>Interfaces.Flange_b</A> flange_b;
<font color="blue">equation </font>
  s = flange_b.s;
  v = <font color="red">der</font>(s);
  a = <font color="red">der</font>(v);
  <font color="darkgreen"></font>
  constraintResidue = inPort.signal[1] - s;
  constraintResidue_d = inPort.signal[2] - v;
  constraintResidue_dd = inPort.signal[3] - a;
  <font color="red">constrain</font>(constraintResidue, constraintResidue_d, constraintResidue_dd);
<font color="blue">end </font>Move;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.FixedI.png" ALT="Modelica.Mechanics.Translational.Fixed" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Fixed"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Fixed</H2>
<B>Fixed flange</B><p>
<IMG SRC="Modelica.Mechanics.Translational.FixedD.png" ALT="Modelica.Mechanics.Translational.Fixed">
<H3>Information</H3>
<PRE></pre>
<p>
The <i>flange</i> of a 1D translational mechanical system <i>fixed</i>
at an position s0 in the <i>housing</i>. May be used:
</p>

<ul>
<li> to connect a compliant element, such as a spring or a damper,
     between a sliding mass and the housing.

<li> to fix a rigid element, such as a sliding mass, at a specific
     position.
</ul>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.LockedR)</i> </li>
</ul>
<pre>
</PRE>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>s0</TD><TD>0</TD><TD>fixed offset position of housing [m]</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Fixed <font color="darkgreen">&quot;Fixed flange&quot;</font> 
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s0=0 <font color="darkgreen">&quot;fixed offset position of housing&quot;</font>;
  <font color="darkgreen"></font>
  <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Flange_b"
>Interfaces.Flange_b</A> flange_b;
<font color="blue">equation </font>
  flange_b.s = s0;
<font color="blue">end </font>Fixed;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.ForceI.png" ALT="Modelica.Mechanics.Translational.Force" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Force"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Force</H2>
<B>External force acting on a drive train element as input signal</B><p>
<IMG SRC="Modelica.Mechanics.Translational.ForceD.png" ALT="Modelica.Mechanics.Translational.Force">
<H3>Information</H3>
<PRE></pre>
<p>
The input signal "s" in [N] characterizes an <i>external
force</i> which acts (with positive sign) at a flange,
i.e., the component connected to the flange is driven by force f.
</p>


<p>
Input signal s can be provided from one of the signal generator
blocks of Modelica.Blocks.Source.
</p>
<p><b>Release Notes:</b></p>
<ul>
<li><i>First Version from August 26, 1999 by P. Beater (based on Rotational.Torque1D)</i> </li>
</ul>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Force <font color="darkgreen">
  &quot;External force acting on a drive train element as input signal&quot;</font> 
  <font color="darkgreen"></font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Force"
>SI.Force</A> f <font color="darkgreen">&quot;driving force&quot;</font>;
  <font color="darkgreen"></font>
  <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.Flange_b"
>Interfaces.Flange_b</A> flange_b;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.InPort"
>Modelica.Blocks.Interfaces.InPort</A> inPort(<font color="blue">final </font>n=1) <font color="darkgreen">
    &quot;Connector of input signal used as force&quot;</font>;
<font color="blue">equation </font>
  f = inPort.signal[1];
  flange_b.f = -f;
<font color="blue">end </font>Force;
</PRE>
<HR>
<H2><IMG SRC="Modelica.Mechanics.Translational.RelativeStatesI.png" ALT="Modelica.Mechanics.Translational.RelativeStates" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.RelativeStates"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.RelativeStates</H2>
<B>Definition of relative state variables</B><p>
<IMG SRC="Modelica.Mechanics.Translational.RelativeStatesD.png" ALT="Modelica.Mechanics.Translational.RelativeStates">
<H3>Information</H3>
<PRE></pre>
<p>
Usually, the absolute position and the absolute velocity of
Modelica.Mechanics.Translational.Inertia models are used as state variables.
In some circumstances, relative quantities are better suited, e.g.,
because it may be easier to supply initial values.
In such cases, model <b>RelativeStates</b> allows the definition of state variables
in the following way:
</p>

<ul>
<li> Connect an instance of this model between two flange connectors.</li>
<li> The <b>relative position</b> and the <b>relative velocity</b>
     between the two connectors are used as <b>state variables</b>.
</ul>

<p>
An example is given in the next figure
</p>

<IMG SRC="../Images/relativeStates2.gif" ALT="relativeStates2">

<p>
Here, the relative position and the relative velocity between
the two masses are used as state variables. Additionally, the
simulator selects either the absolute position and absolute
velocity of model mass1 or of model mass2 as state variables.
</p>

<p><b>Release Notes:</b></p>
<ul>
<li><i>June 19, 2000</i>
       by <a href="http://www.robotic.dlr.de/Martin.Otter/">Martin Otter</a>:<br>
       Realized.
</li>
</ul>
<pre>
</PRE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RelativeStates <font color="darkgreen">&quot;Definition of relative state variables&quot;</font> 
  <font color="blue">extends </font><A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.TwoFlanges"
>Interfaces.TwoFlanges</A>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> s_rel(stateSelect=StateSelect.prefer) <font color="darkgreen">
    &quot;relative position used as state variable&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Velocity"
>SI.Velocity</A> v_rel(stateSelect=StateSelect.prefer) <font color="darkgreen">
    &quot;relative velocity used as state variable&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>SI.Acceleration</A> a_rel <font color="darkgreen">&quot;relative angular acceleration&quot;</font>;
<font color="blue">equation </font>
  s_rel = flange_b.s - flange_a.s;
  v_rel = <font color="red">der</font>(s_rel);
  a_rel = <font color="red">der</font>(v_rel);
  flange_a.f = 0;
  flange_b.f = 0;
<font color="blue">end </font>RelativeStates;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Wed Dec 11 11:13:28 2002
.
</address></BODY>
</HTML>
