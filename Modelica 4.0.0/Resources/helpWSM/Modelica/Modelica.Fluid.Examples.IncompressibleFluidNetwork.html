
<html>
<head>
  <meta charset="UTF-8">
  <title>Modelica: Fluid.Examples.IncompressibleFluidNetwork</title>
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">System Modeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.Fluid.html">Fluid</a></li>
  <li><a href="Modelica.Fluid.Examples.html">Examples</a></li>
  <li><a href="Modelica.Fluid.Examples.IncompressibleFluidNetwork.html">IncompressibleFluidNetwork</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>IncompressibleFluidNetwork</h1>
    <p>Multi-way connections of pipes and incompressible medium model</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.Fluid.Examples.IncompressibleFluidNetwork_60x60.png"></div>
  </td></tr></table>
</header>
<section id="diagram">
<h1>Diagram</h1>
<div class="hideable">
<a class="colorbox" href="resources/diagrams/Modelica.Fluid.Examples.IncompressibleFluidNetwork_diagram_large.png"><img src="resources/diagrams/Modelica.Fluid.Examples.IncompressibleFluidNetwork_diagram.png"><span class="magnify"></span></a>
</div>
</section>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<p>
This example demonstrates two aspects: the treatment of multi-way connections
and the usage of an incompressible medium model.
</p><p>
Eleven pipe models with nNodes=2 each introduce 22 temperature states and 22 pressure states.
When configuring <strong>pipeModelStructure=a_v_b</strong>, the flow models at the pipe ports constitute algebraic loops for the pressures.
A common work-around is to introduce "mixing volumes" in critical connections.
</p><p>
Here the problem is treated alternatively with the default <strong>pipeModelStructure=av_vb</strong> of the
<a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a> model.
Each pipe exposes the states of the outer fluid segments to the respective fluid ports.
Consequently the pressures of all connected pipe segments get lumped together into one mass balance spanning the whole connection set.
Overall this treatment as high-index DAE results in the reduction to 9 pressure states, preventing algebraic loops in connections.
This can be studied with a rigorous medium model like <strong>StandardWaterOnePhase</strong>.
</p><p>
The pressure dynamics completely disappears with an incompressible medium model, like the used <strong>Glycol47</strong>.
It appears reasonable to assume steady-state mass balances in this case
(see parameter systemMassDynamics used in system.massDynamics, tab Assumptions).
</p><p>
Note that with the stream concept in the fluid ports, the energy and substance balances of the connected pipe segments remain independent
from each other, despite of pressures being lumped together. The following simulation results can be observed:
</p>
<ol>
<li>The simulation starts with system.T_ambient as initial temperature in all pipes.
    The temperatures upstream or bypassing pipe8 are approaching the value of 26.85 degC from the source, including also pipe9.
    The temperatures downstream of pipe8 take a higher value, depending on the mixing with heated fluid, see e.g. pipe10.</li>
<li>After 50s valve1 fully closes. This causes flow reversal in pipe8. Now heated fluid flows from pipe8 to pipe9.
    Note that the temperature of the connected pipe7 remains unchanged as there is no flow into pipe7.
    The temperature of pipe10 cools down to the source temperature.</li>
<li>After 100s valve2 closes half way, which affects mass flow rates and temperatures.</li>
<li>After 150s valve5 closes half way, which affects mass flow rates and temperatures.</li>
</ol>
<p>
The fluid temperatures in the pipes of interest are exposed through heatPorts.
</p>
<img src="resources/Modelica.Fluid.Examples.IncompressibleFluidNetwork_info_001.png" border="1"
     alt="IncompressibleFluidNetwork.png">
</div>
</section>
<section id="parameters" >
  <h1>Parameters <span class="count">(2)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>pipeModelStructure</th>
      <td>
        <p><span>Value:</span> Modelica.Fluid.Types.ModelStructure.av_vb</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.ModelStructure.html">ModelStructure</a></p>
        <p><span>Description:</span> Model structure in distributed pipe model</p>
      </td>
    </tr>
    <tr>
      <th>systemMassDynamics</th>
      <td>
        <p><span>Value:</span> if Medium.singleState then Dynamics.SteadyState else Dynamics.SteadyStateInitial</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of mass balances</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="components" class="closed">
  <h1>Components <span class="count">(21)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Sources.Boundary_pT_32x32.png"></td>
      <th>source</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Sources.Boundary_pT.html">Boundary_pT</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe1</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe2</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe3</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe4</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe6</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Valves.ValveIncompressible_32x32.png"></td>
      <th>valve1</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Valves.ValveIncompressible.html">ValveIncompressible</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Valves.ValveIncompressible_32x32.png"></td>
      <th>valve2</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Valves.ValveIncompressible.html">ValveIncompressible</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe7</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Valves.ValveIncompressible_32x32.png"></td>
      <th>valve3</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Valves.ValveIncompressible.html">ValveIncompressible</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Sources.Boundary_pT_32x32.png"></td>
      <th>sink</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Sources.Boundary_pT.html">Boundary_pT</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.System_32x32.png"></td>
      <th>system</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.System.html">System</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Blocks.Sources.Step_32x32.png"></td>
      <th>valveOpening1</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Blocks.Sources.Step.html">Step</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Blocks.Sources.Step_32x32.png"></td>
      <th>valveOpening2</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Blocks.Sources.Step.html">Step</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Blocks.Sources.Step_32x32.png"></td>
      <th>valveOpening3</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Blocks.Sources.Step.html">Step</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe8</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe9</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe10</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe5</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow_32x32.png"></td>
      <th>heat8</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow.html">FixedHeatFlow[pipe8.nNodes]</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Pipes.DynamicPipe_32x32.png"></td>
      <th>pipe11</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Pipes.DynamicPipe.html">DynamicPipe</a></p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
</div>
</body>
</html>