
<html>
<head>
  <meta charset="UTF-8">
  <title>Modelica: Fluid.Vessels.OpenTank</title>
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">System Modeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.Fluid.html">Fluid</a></li>
  <li><a href="Modelica.Fluid.Vessels.html">Vessels</a></li>
  <li><a href="Modelica.Fluid.Vessels.OpenTank.html">OpenTank</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>OpenTank</h1>
    <p>Simple tank with inlet/outlet ports</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.Fluid.Vessels.OpenTank_60x60.png"></div>
  </td></tr></table>
</header>
<section id="diagram">
<h1>Diagram</h1>
<div class="hideable">
<a class="colorbox" href="resources/diagrams/Modelica.Fluid.Vessels.OpenTank_diagram_large.png"><img src="resources/diagrams/Modelica.Fluid.Vessels.OpenTank_diagram.png"><span class="magnify"></span></a>
</div>
</section>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<p>
Model of a tank that is open to the ambient at the fixed pressure
<code>p_ambient</code>.
</p>
<p>
The vector of connectors <strong>ports</strong> represents fluid ports at configurable heights, relative to the bottom of tank.
Fluid can flow either out of or in to each port.
</p>
The following assumptions are made:
<ul>
<li>The tank is filled with a single or multiple-substance medium having a density higher than the density of the ambient medium.</li>
<li>The fluid has uniform density, temperature and mass fractions</li>
<li>No liquid is leaving the tank through the open top; the simulation breaks with an assertion if the liquid level growths over the height.</li>
</ul>
<p>
The port pressures represent the pressures just after the outlet (or just before the inlet) in the attached pipe.
The hydraulic resistances <code>portsData.zeta_in</code> and <code>portsData.zeta_out</code> determine the dissipative pressure drop between tank and port depending on
the direction of mass flow. See <a href="Modelica.Fluid.Vessels.BaseClasses.VesselPortsData.html">VesselPortsData</a> and <em>[Idelchik, Handbook of Hydraulic Resistance, 2004]</em>.
</p>
<p>
With the setting <code>use_portsData=false</code>, the port pressure represents the static head
at the height of the respective port.
The relationship between pressure drop and mass flow rate at the port must then be provided by connected components;
Heights of ports as well as kinetic and potential energy of fluid entering or leaving are not taken into account anymore.
</p>
</div>
</section>
<section id="parameters" >
  <h1>Parameters <span class="count">(22)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>energyDynamics</th>
      <td>
        <p><span>Value:</span> system.energyDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of energy balance</p>
      </td>
    </tr>
    <tr>
      <th>massDynamics</th>
      <td>
        <p><span>Value:</span> system.massDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of mass balance</p>
      </td>
    </tr>
    <tr>
      <th>substanceDynamics</th>
      <td>
        <p><span>Value:</span> massDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of substance balance</p>
      </td>
    </tr>
    <tr>
      <th>traceDynamics</th>
      <td>
        <p><span>Value:</span> massDynamics</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Types.Dynamics.html">Dynamics</a></p>
        <p><span>Description:</span> Formulation of trace substance balance</p>
      </td>
    </tr>
    <tr>
      <th>p_start</th>
      <td>
        <p><span>Value:</span> p_ambient</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Start value of pressure</p>
      </td>
    </tr>
    <tr>
      <th>use_T_start</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, use T_start, otherwise h_start</p>
      </td>
    </tr>
    <tr>
      <th>T_start</th>
      <td>
        <p><span>Value:</span> if use_T_start then system.T_start else Medium.temperature_phX(p_start, h_start, X_start)</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.Temperature.html">Temperature</a> (K)</p>
        <p><span>Description:</span> Start value of temperature</p>
      </td>
    </tr>
    <tr>
      <th>h_start</th>
      <td>
        <p><span>Value:</span> if use_T_start then Medium.specificEnthalpy_pTX(p_start, T_start, X_start) else Medium.h_default</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.SpecificEnthalpy.html">SpecificEnthalpy</a> (J/kg)</p>
        <p><span>Description:</span> Start value of specific enthalpy</p>
      </td>
    </tr>
    <tr>
      <th>X_start</th>
      <td>
        <p><span>Value:</span> Medium.X_default</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.MassFraction.html">MassFraction[Medium.nX]</a> (kg/kg)</p>
        <p><span>Description:</span> Start value of mass fractions m_i/m</p>
      </td>
    </tr>
    <tr>
      <th>C_start</th>
      <td>
        <p><span>Value:</span> Medium.C_default</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.ExtraProperty.html">ExtraProperty[Medium.nC]</a></p>
        <p><span>Description:</span> Start value of trace substances</p>
      </td>
    </tr>
    <tr>
      <th>nPorts</th>
      <td>
        <p><span>Value:</span> 0</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of ports</p>
      </td>
    </tr>
    <tr>
      <th>use_portsData</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = false to neglect pressure loss and kinetic energy</p>
      </td>
    </tr>
    <tr>
      <th>portsData</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselPortsData.html">VesselPortsData[if use_portsData then nPorts else 0]</a></p>
        <p><span>Description:</span> Data of inlet/outlet ports</p>
      </td>
    </tr>
    <tr>
      <th>m_flow_nominal</th>
      <td>
        <p><span>Value:</span> if system.use_eps_Re then system.m_flow_nominal else 1e2 * system.m_flow_small</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.PartialLumpedVessel.Medium.MassFlowRate.html">MassFlowRate</a> (kg/s)</p>
        <p><span>Description:</span> Nominal value for mass flow rates in ports</p>
      </td>
    </tr>
    <tr>
      <th>m_flow_small</th>
      <td>
        <p><span>Value:</span> if system.use_eps_Re then system.eps_m_flow * m_flow_nominal else system.m_flow_small</p>
        <p><span>Type:</span> <a href="Modelica.Units.SI.MassFlowRate.html">MassFlowRate</a> (kg/s)</p>
        <p><span>Description:</span> Regularization range at zero mass flow rate</p>
      </td>
    </tr>
    <tr>
      <th>use_Re</th>
      <td>
        <p><span>Value:</span> system.use_eps_Re</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, if turbulent region is defined by Re, otherwise by m_flow_small</p>
      </td>
    </tr>
    <tr>
      <th>use_HeatTransfer</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true to use the HeatTransfer model</p>
      </td>
    </tr>
    <tr>
      <th>height</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.Units.SI.Height.html">Height</a> (m)</p>
        <p><span>Description:</span> Height of tank</p>
      </td>
    </tr>
    <tr>
      <th>crossArea</th>
      <td>
        <p><span>Value:</span> </p>
        <p><span>Type:</span> <a href="Modelica.Units.SI.Area.html">Area</a> (m²)</p>
        <p><span>Description:</span> Area of tank</p>
      </td>
    </tr>
    <tr>
      <th>p_ambient</th>
      <td>
        <p><span>Value:</span> system.p_ambient</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.OpenTank.Medium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Tank surface pressure</p>
      </td>
    </tr>
    <tr>
      <th>T_ambient</th>
      <td>
        <p><span>Value:</span> system.T_ambient</p>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.OpenTank.Medium.Temperature.html">Temperature</a> (K)</p>
        <p><span>Description:</span> Tank surface Temperature</p>
      </td>
    </tr>
    <tr>
      <th>level_start</th>
      <td>
        <p><span>Value:</span> 0.5 * height</p>
        <p><span>Type:</span> <a href="Modelica.Units.SI.Height.html">Height</a> (m)</p>
        <p><span>Description:</span> Start value of tank level</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="input" >
  <h1>Inputs <span class="count">(2)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>fluidVolume</th>
      <td>
        <p><span>Default Value:</span> V</p>
        <p><span>Type:</span> <a href="Modelica.Units.SI.Volume.html">Volume</a> (m³)</p>
        <p><span>Description:</span> Volume</p>
      </td>
    </tr>
    <tr>
      <th>fluidLevel</th>
      <td>
        <p><span>Default Value:</span> level</p>
        <p><span>Type:</span> <a href="Modelica.Units.SI.Height.html">Height</a> (m)</p>
        <p><span>Description:</span> Level of fluid in the vessel for treating heights of ports</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="connectors" class="closed">
  <h1>Connectors <span class="count">(2)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b_16x16.png"></td>
      <th>ports</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b.html">VesselFluidPorts_b[nPorts]</a></p>
        <p><span>Description:</span> Fluid inlets and outlets</p>
      </td>
    </tr>
    <tr>
      <td><img width="16" height="16" src="resources/icons/Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a_16x16.png"></td>
      <th>heatPort</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a.html">HeatPort_a</a></p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="components" class="closed">
  <h1>Components <span class="count">(4)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-3">
    <colgroup><col class="col-1" /><col class="col-2" /><col class="col-3" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.System_32x32.png"></td>
      <th>system</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.System.html">System</a></p>
        <p><span>Description:</span> System properties</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.BaseProperties_32x32.png"></td>
      <th>medium</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Interfaces.PartialLumpedVolume.Medium.BaseProperties.html">BaseProperties</a></p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Vessels.BaseClasses.VesselPortsData_32x32.png"></td>
      <th>portsData</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.VesselPortsData.html">VesselPortsData[if use_portsData then nPorts else 0]</a></p>
        <p><span>Description:</span> Data of inlet/outlet ports</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Vessels.BaseClasses.PartialLumpedVessel.HeatTransfer_32x32.png"></td>
      <th>heatTransfer</th>
      <td>
        <p><span>Type:</span> <a href="Modelica.Fluid.Vessels.BaseClasses.PartialLumpedVessel.HeatTransfer.html">HeatTransfer</a></p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="used-in-examples" class="closed">
  <h1>Used in Examples <span class="count">(7)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-2">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.PumpingSystem_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.PumpingSystem.html">PumpingSystem</a></p>
        <p><span>Modelica.Fluid.Examples</span></p>
        <p>Model of a pumping system for drinking water</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.HeatingSystem_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.HeatingSystem.html">HeatingSystem</a></p>
        <p><span>Modelica.Fluid.Examples</span></p>
        <p>Simple model of a heating system</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.Tanks.ThreeTanks_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.Tanks.ThreeTanks.html">ThreeTanks</a></p>
        <p><span>Modelica.Fluid.Examples.Tanks</span></p>
        <p>Demonstrating the usage of SimpleTank</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.Tanks.TanksWithOverflow_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.Tanks.TanksWithOverflow.html">TanksWithOverflow</a></p>
        <p><span>Modelica.Fluid.Examples.Tanks</span></p>
        <p>Two tanks connected with pipes at different heights</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.Tanks.EmptyTanks_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.Tanks.EmptyTanks.html">EmptyTanks</a></p>
        <p><span>Modelica.Fluid.Examples.Tanks</span></p>
        <p>Show the treatment of empty tanks</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.ControlledTankSystem.ControlledTanks_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.ControlledTankSystem.ControlledTanks.html">ControlledTanks</a></p>
        <p><span>Modelica.Fluid.Examples.ControlledTankSystem</span></p>
        <p>Demonstrating the controller of a tank filling/emptying system</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Fluid.Examples.Explanatory.MeasuringTemperature_32x32.png"></td>
      <td>
        <p><a href="Modelica.Fluid.Examples.Explanatory.MeasuringTemperature.html">MeasuringTemperature</a></p>
        <p><span>Modelica.Fluid.Examples.Explanatory</span></p>
        <p>Differences between using one port with and without explicit junction model and two port sensors for fluid temperature measuring</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
</div>
</body>
</html>