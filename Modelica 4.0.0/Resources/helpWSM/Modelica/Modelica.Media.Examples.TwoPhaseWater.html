
<html>
<head>
  <meta charset="UTF-8">
  <title>Modelica: Media.Examples.TwoPhaseWater</title>
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">System Modeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.Media.html">Media</a></li>
  <li><a href="Modelica.Media.Examples.html">Examples</a></li>
  <li><a href="Modelica.Media.Examples.TwoPhaseWater.html">TwoPhaseWater</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>TwoPhaseWater</h1>
    <p>Extension of the StandardWater package</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.Media.Examples.TwoPhaseWater_60x60.png"></div>
  </td></tr></table>
</header>
<section id="package-contents">
  <h1>Package Contents</h1>
  <div class="hideable">
    <table class="shared-styles style-2">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Media.Examples.TwoPhaseWater.BaseProperties_32x32.png"></td>
      <td>
        <p><a href="Modelica.Media.Examples.TwoPhaseWater.BaseProperties.html">BaseProperties</a></p>
        <p>Make StandardWater.BaseProperties non replaceable in order that inheritance is possible in model ExtendedProperties</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Media.Examples.TwoPhaseWater.ExtendedProperties_32x32.png"></td>
      <td>
        <p><a href="Modelica.Media.Examples.TwoPhaseWater.ExtendedProperties.html">ExtendedProperties</a></p>
        <p>Plenty of two-phase properties</p>
      </td>
    </tr>
    <tr>
      <td><img width="32" height="32" src="resources/icons/Modelica.Media.Examples.TwoPhaseWater.TestTwoPhaseStates_32x32.png"></td>
      <td>
        <p><a href="Modelica.Media.Examples.TwoPhaseWater.TestTwoPhaseStates.html">TestTwoPhaseStates</a></p>
        <p>Test the TwoPhaseWater model</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="constants" >
  <h1>Package Constants <span class="count">(27)</span></h1>
  <div class="hideable">
    <table class="shared-styles style-1">
    <colgroup><col class="col-1" /><col class="col-2" /></colgroup>
    <tbody>
    <tr>
      <th>ThermoStates</th>
      <td>
        <p><span>Value:</span> Modelica.Media.Interfaces.Choices.IndependentVariables.ph</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.Choices.IndependentVariables.html">IndependentVariables</a></p>
        <p><span>Description:</span> Enumeration type for independent variables</p>
      </td>
    </tr>
    <tr>
      <th>mediumName</th>
      <td>
        <p><span>Value:</span> "WaterIF97"</p>
        <p><span>Type:</span> String</p>
        <p><span>Description:</span> Name of the medium</p>
      </td>
    </tr>
    <tr>
      <th>substanceNames</th>
      <td>
        <p><span>Value:</span> {"water"}</p>
        <p><span>Type:</span> String[:]</p>
        <p><span>Description:</span> Names of the mixture substances. Set substanceNames={mediumName} if only one substance.</p>
      </td>
    </tr>
    <tr>
      <th>extraPropertiesNames</th>
      <td>
        <p><span>Value:</span> fill("", 0)</p>
        <p><span>Type:</span> String[:]</p>
        <p><span>Description:</span> Names of the additional (extra) transported properties. Set extraPropertiesNames=fill("",0) if unused</p>
      </td>
    </tr>
    <tr>
      <th>singleState</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true, if u and d are not a function of pressure</p>
      </td>
    </tr>
    <tr>
      <th>reducedX</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true if medium contains the equation sum(X) = 1.0; set reducedX=true if only one substance (see docu for details)</p>
      </td>
    </tr>
    <tr>
      <th>fixedX</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> = true if medium contains the equation X = reference_X</p>
      </td>
    </tr>
    <tr>
      <th>reference_p</th>
      <td>
        <p><span>Value:</span> 101325</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Reference pressure of Medium: default 1 atmosphere</p>
      </td>
    </tr>
    <tr>
      <th>reference_T</th>
      <td>
        <p><span>Value:</span> 298.15</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.Temperature.html">Temperature</a> (K)</p>
        <p><span>Description:</span> Reference temperature of Medium: default 25 deg Celsius</p>
      </td>
    </tr>
    <tr>
      <th>reference_X</th>
      <td>
        <p><span>Value:</span> fill(1 / nX, nX)</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.MassFraction.html">MassFraction[nX]</a> (kg/kg)</p>
        <p><span>Description:</span> Default mass fractions of medium</p>
      </td>
    </tr>
    <tr>
      <th>p_default</th>
      <td>
        <p><span>Value:</span> 101325</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.AbsolutePressure.html">AbsolutePressure</a> (Pa)</p>
        <p><span>Description:</span> Default value for pressure of medium (for initialization)</p>
      </td>
    </tr>
    <tr>
      <th>T_default</th>
      <td>
        <p><span>Value:</span> Modelica.Units.Conversions.from_degC(20)</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.Temperature.html">Temperature</a> (K)</p>
        <p><span>Description:</span> Default value for temperature of medium (for initialization)</p>
      </td>
    </tr>
    <tr>
      <th>h_default</th>
      <td>
        <p><span>Value:</span> specificEnthalpy_pTX(p_default, T_default, X_default)</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy.html">SpecificEnthalpy</a> (J/kg)</p>
        <p><span>Description:</span> Default value for specific enthalpy of medium (for initialization)</p>
      </td>
    </tr>
    <tr>
      <th>X_default</th>
      <td>
        <p><span>Value:</span> reference_X</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.MassFraction.html">MassFraction[nX]</a> (kg/kg)</p>
        <p><span>Description:</span> Default value for mass fractions of medium (for initialization)</p>
      </td>
    </tr>
    <tr>
      <th>C_default</th>
      <td>
        <p><span>Value:</span> fill(0, nC)</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.PartialMedium.ExtraProperty.html">ExtraProperty[nC]</a></p>
        <p><span>Description:</span> Default value for trace substances of medium (for initialization)</p>
      </td>
    </tr>
    <tr>
      <th>nS</th>
      <td>
        <p><span>Value:</span> size(substanceNames, 1)</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of substances</p>
      </td>
    </tr>
    <tr>
      <th>nX</th>
      <td>
        <p><span>Value:</span> nS</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of mass fractions</p>
      </td>
    </tr>
    <tr>
      <th>nXi</th>
      <td>
        <p><span>Value:</span> if fixedX then 0 else if reducedX then nS - 1 else nS</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of structurally independent mass fractions (see docu for details)</p>
      </td>
    </tr>
    <tr>
      <th>nC</th>
      <td>
        <p><span>Value:</span> size(extraPropertiesNames, 1)</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Number of extra (outside of standard mass-balance) transported properties</p>
      </td>
    </tr>
    <tr>
      <th>C_nominal</th>
      <td>
        <p><span>Value:</span> 1.0e-6 * ones(nC)</p>
        <p><span>Type:</span> Real[nC]</p>
        <p><span>Description:</span> Default for the nominal values for the extra properties</p>
      </td>
    </tr>
    <tr>
      <th>smoothModel</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> True if the (derived) model should not generate state events</p>
      </td>
    </tr>
    <tr>
      <th>onePhase</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> True if the (derived) model should never be called with two-phase inputs</p>
      </td>
    </tr>
    <tr>
      <th>fluidConstants</th>
      <td>
        <p><span>Value:</span> waterConstants</p>
        <p><span>Type:</span> <a href="Modelica.Media.Interfaces.Types.TwoPhase.FluidConstants.html">FluidConstants[nS]</a></p>
        <p><span>Description:</span> Constant data for the fluid</p>
      </td>
    </tr>
    <tr>
      <th>Region</th>
      <td>
        <p><span>Value:</span> 0</p>
        <p><span>Type:</span> Integer</p>
        <p><span>Description:</span> Region of IF97, if known, zero otherwise</p>
      </td>
    </tr>
    <tr>
      <th>ph_explicit</th>
      <td>
        <p><span>Value:</span> true</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> True if explicit in pressure and specific enthalpy</p>
      </td>
    </tr>
    <tr>
      <th>dT_explicit</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> True if explicit in density and temperature</p>
      </td>
    </tr>
    <tr>
      <th>pT_explicit</th>
      <td>
        <p><span>Value:</span> false</p>
        <p><span>Type:</span> Boolean</p>
        <p><span>Description:</span> True if explicit in pressure and temperature</p>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
</section>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<h4>Example: TwoPhaseWater</h4>
The TwoPhaseWater package demonstrates how to extend the parsimonious
BaseProperties with a minimal set of properties from the standard water
package with most properties that are needed in two-phase situations.
The model also demonstrates how to compute additional&nbsp; properties
for the medium model. In this scenario, that builds a new medium model
with many more properties than the default, the standard BaseProperties
is used as a basis. For additional properties, a user has to:<br>
<ol>
<li>Declare a new variable of the wanted type, e.g., "<span style="color: rgb(51, 51, 255);">DynamicViscosity
eta</span>".</li>
<li>Compute that variable by calling the function form the package,
e.g., <span style="color: rgb(51, 51, 255);">eta =
dynamicViscosity(state)</span>. Note that the instance of
ThermodynamicState is used as an input to the function. This instance
"state" is declared in PartialMedium and thus available in every medium
model. A user does not have to know what actual variables are required
to compute the dynamic viscosity, because the state instance is
guaranteed to contain what is needed.</li>
<li><span style="color: rgb(255, 0, 0);">Attention</span>: Many
properties are not well defined in the two phase region and the
functions might return undesired values if called there. It is the
user's responsibility&nbsp; to take care of such situations. The example
uses one of several possible models to compute an averaged viscosity
for two-phase flows.</li>
</ol>
In two phase models, properties are often needed on the phase boundary
just outside the two phase dome, right on the border.. To compute the
thermodynamic state there, two auxiliary functions are provided: <strong>setDewState(sat)</strong> and <strong>setBubbleState(sat)</strong>. They take an
instance of SaturationProperties as input. By default they are in
one-phase, but with the optional phase argument set to 2, the output is
forced to be just inside the phase boundary. This is only needed when
derivatives like cv are computed with are different on both sides of
the boundaries. The usual steps to compute properties on the phase
boundary are:<br>
<ol>
<li>Declare an instance of ThermodynamicState, e.g., "ThermodynamicState&nbsp; dew".</li>
<li>Compute the state, using an instance of SaturationProperties,
e.g., dew = setDewState(sat)</li>
<li>Compute properties on the phase boundary to your full desire,
e.g., "cp_d = specificHeatCapacityCp(dew)".<br>
</li>
</ol>
<p>The sample model TestTwoPhaseStates test the extended properties</p>

<p>
The same procedure can be used to compute properties at other state
points, e.g., when an isentropic reference state is computed.
</p>
</div>
</section>
</div>
</body>
</html>