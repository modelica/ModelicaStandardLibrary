<HTML>
<HEAD>
<TITLE>Modelica.Fluid.Examples.AST_BatchPlant</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Model of the experimental batch plant at Process Control Laboratory at University of Dortmund (Prof. Engell)&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE AST_BatchPlant<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Fluid.Examples.AST_BatchPlant"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples"
>Modelica.Fluid.Examples</A>.AST_BatchPlant</H2>
<B>Model of the experimental batch plant at Process Control Laboratory at University of Dortmund (Prof. Engell)</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The process under consideration is an evaporation plant for a
student lab at the Process Control Laboratory (AST) of the
University of Dortmund that evaporates a water sodium chloride
mixture so that a higher concentrated solution is produced.
The task of the students is to learn how to program the process
control system. A picture of the batch plant is shown in the figure
below.
</p>

<img src="../Resources/Images/Fluid/Examples/AST_BatchPlant1.jpg" border="1">

<p>
The flow sheet diagram is shown in the next figure.
</p>

<img src="../Resources/Images/Fluid/Examples/AST_BatchPlant2.png" border="1">

<p>
Pure water from tank B1 and concentrated sodium chloride
solution from tank B2 are mixed in a mixing tank B3.
After buffering in tank B4 the mixture flows to the
evaporator B5. Here the water sodium chloride mixture
is evaporated until the desired con-centration is reached.
The steam is condensed in the condenser K1 and cooled
afterwards in the cooling tank B6. The concentrated
 solution is also led to a cooling tank B7. The cooled
fluids are pumped back to the charging vessels by the
pumps P1 and P2. Be-tween the tanks several valves are
present that are regulated by a central control system.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWaterS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater"
>BatchPlant_StandardWater</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.BaseClassesS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses"
>BaseClasses</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.TestS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Test</A>
</TD><TD>Test of used tank models</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BatchPlant_StandardWater<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWaterI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant.html#Modelica.Fluid.Examples.AST_BatchPlant"
>Modelica.Fluid.Examples.AST_BatchPlant</A>.BatchPlant_StandardWater</H2>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWaterD.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater">
<P><H3>Information</H3></P>
<PRE></pre>
<img src="../Resources/Images/Fluid/Examples/BatchPlant_StandardWater.png" border="1">
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package BatchMedium</TD><TD>Modelica.Media.Water.Standar...</TD><TD>Component media</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>pipeDiameter</TD><TD>0.01</TD><TD>[m]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package BatchMedium</TD><TD>Component media</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BatchPlant_StandardWater
    <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> BatchMedium = Modelica.Media.Water.StandardWater <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialTwoPhaseMedium <font color="darkgreen">&quot;Component media&quot;</font>;

<font color="darkgreen">/*
  replaceable package BatchMedium =Modelica.Media.Electrolytes.WaterNaCl extends
    Modelica.Media.Interfaces.PartialTwoPhaseMedium &quot;Component media&quot;;
*/</font>

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> pipeDiameter = 0.01;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWith3InletOutletArraysWithEvaporatorCondensor"
>BaseClasses.TankWith3InletOutletArraysWithEvaporatorCondensor</A> B5(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    height=0.5,
    n_SidePorts=1,
    V0=0.001,
    n_BottomPorts=1,
    bottom_pipeArea={0.0001},
    top_pipeArea={0.0001},
    n_TopPorts=1,
    min_level_for_heating=0.0001,
    level_start=0.0009,
    crossArea=0.05,
    initType=BaseClasses.Init.InitialValues,
    side_pipeArea={0.0001},
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Vessels_BaseClasses_HeatTransfer.html#Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer"
>Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer</A> (k=
            4.9));
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V12(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V15(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.PrescribedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.PrescribedHeatFlow</A> HeatB5;
  <A HREF="Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.PrescribedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.PrescribedHeatFlow</A> CoolingB7;
  <A HREF="Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.PrescribedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.PrescribedHeatFlow</A> CoolingB6;</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.Controller"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.Controller</A> controller(
      Transition3(enableTimer=true, waitTime=60), Transition7(
      condition=true,
      enableTimer=true,
      waitTime=300));</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V11(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V8(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V9(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V4(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.TeeJunctionIdeal"
>Fittings.TeeJunctionIdeal</A> volume2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V6(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.TeeJunctionIdeal"
>Fittings.TeeJunctionIdeal</A> volume8(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V23(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V22(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V5(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V24(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V25(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V20(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V19(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V10(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V21(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.TeeJunctionVolume"
>Modelica.Fluid.Fittings.TeeJunctionVolume</A> volume5(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    V=0.001);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> V18(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_nominal = 1,
    dp_nominal = 100);
  <A HREF="Modelica_Fluid_Machines.html#Modelica.Fluid.Machines.PrescribedPump"
>Machines.PrescribedPump</A> P1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_start=0.1,
    <font color="blue">redeclare </font><font color="blue">function</font> flowCharacteristic =
        <A HREF="Modelica_Fluid_Machines_BaseClasses_PumpCharacteristics.html#Modelica.Fluid.Machines.BaseClasses.PumpCharacteristics.quadraticFlow"
>Modelica.Fluid.Machines.BaseClasses.PumpCharacteristics.quadraticFlow</A> (
                                                                            V_flow_nominal={0,
            0.001,0.0015}, head_nominal={100,50,0}),
    N_nominal=200,
    use_N_in=true,
    show_NPSHa=true,
    V(displayUnit=&quot;ml&quot;) = 0.0001,
    checkValve=true,
    p_a_start=100000,
    p_b_start=100000,
    energyDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial);
  <A HREF="Modelica_Fluid_Machines.html#Modelica.Fluid.Machines.PrescribedPump"
>Machines.PrescribedPump</A> P2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    m_flow_start=0.1,
    <font color="blue">redeclare </font><font color="blue">function</font> flowCharacteristic =
        <A HREF="Modelica_Fluid_Machines_BaseClasses_PumpCharacteristics.html#Modelica.Fluid.Machines.BaseClasses.PumpCharacteristics.quadraticFlow"
>Modelica.Fluid.Machines.BaseClasses.PumpCharacteristics.quadraticFlow</A> (
                                                                           V_flow_nominal={0,
            0.001,0.0015}, head_nominal={100,50,0}),
    N_nominal=200,
    use_N_in=true,
    show_NPSHa=true,
    V(displayUnit=&quot;ml&quot;) = 0.0001,
    checkValve=true,
    p_a_start=100000,
    p_b_start=100000,
    energyDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> B1(
    level_start=0.2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    height=0.5,
    crossArea=0.05,
    V0=0.0001,
    nTopPorts=1,
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                               diameter=0.011,
        height=0)},
    stiffCharacteristicForEmptyPort=false);
  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.TriggeredTrapezoid"
>Modelica.Blocks.Logical.TriggeredTrapezoid</A> P1_on(amplitude=100, rising=0);
  <A HREF="Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.TriggeredTrapezoid"
>Modelica.Blocks.Logical.TriggeredTrapezoid</A> P2_on(amplitude=50, rising=0);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> B2(
    level_start=0.2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    height=0.5,
    crossArea=0.05,
    V0=0.0001,
    nTopPorts=1,
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                               diameter=0.011,
        height=0)},
    stiffCharacteristicForEmptyPort=false);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> B3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    height=0.5,
    crossArea=0.05,
    V0=0.0001,
    nTopPorts=2,
    nPorts=2,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                               diameter=0.011,
        height=0),<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(diameter=
         0.011, height=0)},
    level_start=0.02,
    stiffCharacteristicForEmptyPort=false);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> B4(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    height=0.5,
    crossArea=0.05,
    V0=0.0001,
    level_start=0.015,
    nTopPorts=1,
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                               diameter=0.011,
        height=0)},
    stiffCharacteristicForEmptyPort=false);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> B7(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    V0=0.0001,
    nTopPorts=1,
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                               diameter=0.011,
        height=0)},
    level_start=0.009,
    height=0.5,
    crossArea=0.05,
    stiffCharacteristicForEmptyPort=false,
    use_HeatTransfer=true,
    T_start=298,
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Vessels_BaseClasses_HeatTransfer.html#Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer"
>Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer</A> (k=
            4.9));
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Pipes.DynamicPipe</A> pipeB1B2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    length=1,
    diameter=pipeDiameter,
    height_ab=0);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipeB1B3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    length=1,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>,
    diameter=pipeDiameter,
    height_ab=-0.1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipeB2B3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    length=1,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>,
    diameter=pipeDiameter,
    height_ab=-0.1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipeB1B1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    diameter=pipeDiameter,
    length=1,
    height_ab=-0.5);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipeB6Pump(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    length=0.5,
    diameter=pipeDiameter,
    height_ab=-0.5);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipeB7Pump(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    length=1,
    diameter=pipeDiameter,
    height_ab=-0.1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Pipes.DynamicPipe</A> pipePump1B1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    diameter=pipeDiameter,
    height_ab=3,
    length=3);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Pipes.DynamicPipe</A> pipePump2B2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    diameter=pipeDiameter,
    height_ab=3,
    length=3);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> B6(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    V0=0.0001,
    nTopPorts=1,
    height=0.5,
    crossArea=0.05,
    level_start=0.02,
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                               diameter=0.011,
        height=0)},
    stiffCharacteristicForEmptyPort=false,
    use_HeatTransfer=true,
    T_start=298,
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Vessels_BaseClasses_HeatTransfer.html#Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer"
>Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer</A> (k=
            4.9));
  <A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.MultiPort"
>Fittings.MultiPort</A> multiPort(<font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
      nPorts_b=3);
  <A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.TeeJunctionVolume"
>Modelica.Fluid.Fittings.TeeJunctionVolume</A> volume4(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BatchMedium.html#Modelica.Fluid.Examples.AST_BatchPlant.BatchPlant_StandardWater.BatchMedium"
>BatchMedium</A>,
    V=0.001);</textblock>
<font color="blue">equation </font>
  controller.sensors.LIS_301 = B3.level;
  controller.sensors.QI_302 = 0;<font color="darkgreen">//B3.medium.X[2];</font>
  controller.sensors.LIS_501 = B5.level;
  controller.sensors.QIS_502 = 0;<font color="darkgreen">//B5.medium.X[2];</font>
  controller.sensors.TI_503 = B5.medium.T;
  controller.sensors.LIS_601 = B6.level;
  controller.sensors.TIS_602 = B6.medium.T;
  controller.sensors.LIS_701 = B7.level;
  controller.sensors.TIS_702 = B7.medium.T;

  P1_on.u = controller.actuators.P1;
  P2_on.u = controller.actuators.P2;
  V1.open = controller.actuators.V1;
  V2.open = controller.actuators.V2;
  V3.open = controller.actuators.V3;
  V4.open = controller.actuators.V4;
  V5.open = controller.actuators.V5;
  V6.open = controller.actuators.V6;
  V8.open = controller.actuators.V8;
  V9.open = controller.actuators.V9;
  V10.open = controller.actuators.V10;
  V11.open = controller.actuators.V11;
  V12.open = controller.actuators.V12;
  V15.open = controller.actuators.V15;
  V18.open = controller.actuators.V18;
  V19.open = controller.actuators.V19;
  V20.open = controller.actuators.V20;
  V21.open = controller.actuators.V21;
  V22.open = controller.actuators.V22;
  V23.open = controller.actuators.V23;
  V24.open = controller.actuators.V24;
  V25.open = controller.actuators.V25;
  HeatB5.Q_flow = <font color="blue">if </font>controller.actuators.T5_Heater<font color="blue"> then </font>20000<font color="blue"> else </font>0;
  CoolingB6.Q_flow = <font color="blue">if </font>controller.actuators.T6_Cooling<font color="blue"> then </font>-2000<font color="blue"> else </font>0;
  CoolingB7.Q_flow = <font color="blue">if </font>controller.actuators.T7_Cooling<font color="blue"> then </font>-2000<font color="blue"> else </font>0;

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(V24.port_b, P2.port_a);
  <font color="red">connect</font>(V15.port_a, B5.BottomFluidPort[1]);
  <font color="red">connect</font>(P1_on.y, P1.N_in);
  <font color="red">connect</font>(P2_on.y, P2.N_in);
  <font color="red">connect</font>(B4.ports[1], V12.port_b);
  <font color="red">connect</font>(CoolingB7.port, B7.heatPort);
  <font color="red">connect</font>(pipeB1B2.port_a, V4.port_b);
  <font color="red">connect</font>(B5.TopFluidPort[1], V12.port_a);
  <font color="red">connect</font>(V15.port_b, B7.topPorts[1]);
  <font color="red">connect</font>(pipePump1B1.port_a, V22.port_b);
  <font color="red">connect</font>(V25.port_b, pipePump2B2.port_a);
  <font color="red">connect</font>(B6.topPorts[1], B5.Condensed);
  <font color="red">connect</font>(CoolingB6.port, B6.heatPort);
  <font color="red">connect</font>(HeatB5.port, B5.heatPort);
  <font color="red">connect</font>(V1.port_b, volume2.port_1);
  <font color="red">connect</font>(volume8.port_2, V4.port_a);
  <font color="red">connect</font>(volume8.port_1, V5.port_b);
  <font color="red">connect</font>(volume5.port_1, V21.port_b);
  <font color="red">connect</font>(volume5.port_2, V24.port_a);
  <font color="red">connect</font>(P2.port_b, V25.port_a);
  <font color="red">connect</font>(V22.port_a, P1.port_b);
  <font color="red">connect</font>(V5.port_a, pipePump2B2.port_b);
  <font color="red">connect</font>(V1.port_a, pipePump1B1.port_b);
  <font color="red">connect</font>(P1.port_a, V23.port_b);
  <font color="red">connect</font>(V23.port_a, volume4.port_1);
  <font color="red">connect</font>(volume4.port_2, V21.port_a);
  <font color="red">connect</font>(multiPort.port_a, volume4.port_3);
  <font color="red">connect</font>(multiPort.ports_b[3], V19.port_b);
  <font color="red">connect</font>(V18.port_b, multiPort.ports_b[1]);
  <font color="red">connect</font>(V10.port_b, multiPort.ports_b[2]);
  <font color="red">connect</font>(V11.port_b, B4.topPorts[1]);
  <font color="red">connect</font>(B3.ports[1], V11.port_a);
  <font color="red">connect</font>(V20.port_b, volume5.port_3);
  <font color="red">connect</font>(V2.port_b, pipeB1B2.port_b);
  <font color="red">connect</font>(volume2.port_2, V2.port_a);
  <font color="red">connect</font>(volume2.port_3, V3.port_a);
  <font color="red">connect</font>(V3.port_b, B1.topPorts[1]);
  <font color="red">connect</font>(volume8.port_3, V6.port_a);
  <font color="red">connect</font>(V6.port_b, B2.topPorts[1]);
  <font color="red">connect</font>(B2.ports[1], V9.port_a);
  <font color="red">connect</font>(V9.port_b, pipeB2B3.port_a);
  <font color="red">connect</font>(pipeB2B3.port_b, B3.topPorts[2]);
  <font color="red">connect</font>(B1.ports[1], V8.port_a);
  <font color="red">connect</font>(V8.port_b, pipeB1B3.port_a);
  <font color="red">connect</font>(B3.topPorts[1], pipeB1B3.port_b);
  <font color="red">connect</font>(B7.ports[1], pipeB7Pump.port_a);
  <font color="red">connect</font>(pipeB7Pump.port_b, V18.port_a);
  <font color="red">connect</font>(B6.ports[1], pipeB6Pump.port_a);
  <font color="red">connect</font>(pipeB6Pump.port_b, V20.port_a);
  <font color="red">connect</font>(V19.port_a, pipeB6Pump.port_b);
  <font color="red">connect</font>(pipeB1B1.port_b, V10.port_a);
  <font color="red">connect</font>(B3.ports[2], pipeB1B1.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BatchPlant_StandardWater;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:31:00 2010.
</address></BODY>
</HTML>
