<HTML>
<HEAD>
<TITLE>Modelica.Blocks.Nonlinear</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Library of discontinuous or non-differentiable algebraic control blocks&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Nonlinear<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Blocks.Nonlinear"></A><A HREF="Modelica_Blocks.html#Modelica.Blocks"
>Modelica.Blocks</A>.Nonlinear</H2>
<B>Library of discontinuous or non-differentiable algebraic control blocks</B>
<P>
<P><H3>Information</H3></P>
<PRE>
</pre>
<p>
This package contains <b>discontinuous</b> and
<b>non-differentiable, algebraic</b> input/output blocks.
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Nonlinear.LimiterS.png" ALT="Modelica.Blocks.Nonlinear.Limiter" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.Limiter"
>Limiter</A>
</TD><TD>Limit the range of a signal</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Nonlinear.VariableLimiterS.png" ALT="Modelica.Blocks.Nonlinear.VariableLimiter" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.VariableLimiter"
>VariableLimiter</A>
</TD><TD>Limit the range of a signal with variable limits</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Nonlinear.DeadZoneS.png" ALT="Modelica.Blocks.Nonlinear.DeadZone" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.DeadZone"
>DeadZone</A>
</TD><TD>Provide a region of zero output</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Nonlinear.FixedDelayS.png" ALT="Modelica.Blocks.Nonlinear.FixedDelay" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.FixedDelay"
>FixedDelay</A>
</TD><TD>Delay block with fixed DelayTime</TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Nonlinear.PadeDelayS.png" ALT="Modelica.Blocks.Nonlinear.PadeDelay" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.PadeDelay"
>PadeDelay</A>
</TD><TD>Pade approximation of delay block with fixed DelayTime </TD></TR>
<TR><TD><IMG SRC="Modelica.Blocks.Nonlinear.VariableDelayS.png" ALT="Modelica.Blocks.Nonlinear.VariableDelay" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear.VariableDelay"
>VariableDelay</A>
</TD><TD>Delay block with variable DelayTime</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Limiter<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Nonlinear.LimiterI.png" ALT="Modelica.Blocks.Nonlinear.Limiter" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Nonlinear.Limiter"></A><A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear"
>Modelica.Blocks.Nonlinear</A>.Limiter</H2>
<B>Limit the range of a signal</B><p>
<IMG SRC="Modelica.Blocks.Nonlinear.LimiterD.png" ALT="Modelica.Blocks.Nonlinear.Limiter">
<P><H3>Information</H3></P>
<PRE>
</pre>
<p>
The Limiter block passes its input signal as output signal
as long as the input is within the specified upper and lower
limits. If this is not the case, the corresponding limits are passed
as output.
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>uMax</TD><TD>&nbsp;</TD><TD>Upper limits of input signals</TD></TR>
<TR><TD>Real</TD><TD>uMin</TD><TD>-uMax</TD><TD>Lower limits of input signals</TD></TR>
<TR><TD>Boolean</TD><TD>limitsAtInit</TD><TD>true</TD><TD>= false, if limits are ignored during initializiation (i.e., y=u)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Limiter <font color="darkgreen">&quot;Limit the range of a signal&quot;</font>
  <font color="blue">parameter </font>Real uMax(start=1) <font color="darkgreen">&quot;Upper limits of input signals&quot;</font>;
  <font color="blue">parameter </font>Real uMin= -uMax <font color="darkgreen">&quot;Lower limits of input signals&quot;</font>;
  <font color="blue">parameter </font>Boolean limitsAtInit = true <font color="darkgreen">
    &quot;= false, if limits are ignored during initializiation (i.e., y=u)&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Interfaces.SISO</A>;

<font color="blue">equation </font>
  <font color="red">assert</font>(uMax &gt;= uMin, &quot;Limiter: Limits must be consistent. However, uMax (=&quot; +<font color="red"> String</font>(uMax) +
                       &quot;) &lt; uMin (=&quot; +<font color="red"> String</font>(uMin) + &quot;)&quot;);
  <font color="blue">if </font><font color="red">initial</font>()<font color="blue"> and </font><font color="blue">not </font>limitsAtInit<font color="blue"> then</font>
     y = u;
    <font color="red"> assert</font>(u &gt;= uMin - 0.01*<font color="red">abs</font>(uMin)<font color="blue"> and </font>
            u &lt;= uMax + 0.01*<font color="red">abs</font>(uMax),
           &quot;Limiter: During initialization the limits have been ignored.\n&quot;+
           &quot;However, the result is that the input u is not within the required limits:\n&quot;+
           &quot;  u = &quot; +<font color="red"> String</font>(u) + &quot;, uMin = &quot; +<font color="red"> String</font>(uMin) + &quot;, uMax = &quot; +<font color="red"> String</font>(uMax));
  <font color="blue">else</font>
     y =<font color="red"> smooth</font>(0,<font color="blue">if </font>u &gt; uMax<font color="blue"> then </font>uMax<font color="blue"> else </font><font color="blue">if </font>u &lt; uMin<font color="blue"> then </font>uMin<font color="blue"> else </font>u);
  <font color="blue">end if</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Limiter;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VariableLimiter<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Nonlinear.VariableLimiterI.png" ALT="Modelica.Blocks.Nonlinear.VariableLimiter" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Nonlinear.VariableLimiter"></A><A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear"
>Modelica.Blocks.Nonlinear</A>.VariableLimiter</H2>
<B>Limit the range of a signal with variable limits</B><p>
<IMG SRC="Modelica.Blocks.Nonlinear.VariableLimiterD.png" ALT="Modelica.Blocks.Nonlinear.VariableLimiter">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The Limiter block passes its input signal as output signal
as long as the input is within the upper and lower
limits specified by the two additional inputs limit1 and
limit2. If this is not the case, the corresponding limit
is passed as output.
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>limitsAtInit</TD><TD>true</TD><TD>= false, if limits are ignored during initializiation (i.e., y=u)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>limit1</TD><TD>Connector of Real input signal used as maximum of input u</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>limit2</TD><TD>Connector of Real input signal used as minimum of input u</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> VariableLimiter <font color="darkgreen">
  &quot;Limit the range of a signal with variable limits&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Interfaces.SISO</A>;
  <font color="blue">parameter </font>Boolean limitsAtInit = true <font color="darkgreen">
    &quot;= false, if limits are ignored during initializiation (i.e., y=u)&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Interfaces.RealInput</A> limit1 <font color="darkgreen">
    &quot;Connector of Real input signal used as maximum of input u&quot;</font>;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Interfaces.RealInput</A> limit2 <font color="darkgreen">
    &quot;Connector of Real input signal used as minimum of input u&quot;</font>;</textblock>
<font color="blue">protected </font>
  Real uMax;
  Real uMin;

<font color="blue">equation </font>
  uMax =<font color="red"> max</font>(limit1, limit2);
  uMin =<font color="red"> min</font>(limit1, limit2);

  <font color="blue">if </font><font color="red">initial</font>()<font color="blue"> and </font><font color="blue">not </font>limitsAtInit<font color="blue"> then</font>
     y = u;
    <font color="red"> assert</font>(u &gt;= uMin - 0.01*<font color="red">abs</font>(uMin)<font color="blue"> and </font>
            u &lt;= uMax + 0.01*<font color="red">abs</font>(uMax),
           &quot;VariableLimiter: During initialization the limits have been ignored.\n&quot;+
           &quot;However, the result is that the input u is not within the required limits:\n&quot;+
           &quot;  u = &quot; +<font color="red"> String</font>(u) + &quot;, uMin = &quot; +<font color="red"> String</font>(uMin) + &quot;, uMax = &quot; +<font color="red"> String</font>(uMax));
  <font color="blue">else</font>
     y =<font color="red"> smooth</font>(0,<font color="blue">if </font>u &gt; uMax<font color="blue"> then </font>uMax<font color="blue"> else </font><font color="blue">if </font>u &lt; uMin<font color="blue"> then </font>uMin<font color="blue"> else </font>u);
  <font color="blue">end if</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>VariableLimiter;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE DeadZone<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Nonlinear.DeadZoneI.png" ALT="Modelica.Blocks.Nonlinear.DeadZone" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Nonlinear.DeadZone"></A><A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear"
>Modelica.Blocks.Nonlinear</A>.DeadZone</H2>
<B>Provide a region of zero output</B><p>
<IMG SRC="Modelica.Blocks.Nonlinear.DeadZoneD.png" ALT="Modelica.Blocks.Nonlinear.DeadZone">
<P><H3>Information</H3></P>
<PRE>
</pre>
<p>
The DeadZone block defines a region of zero output.
</p>
<p>
If the input is within uMin ... uMax, the output
is zero. Outside of this zone, the output is a linear
function of the input with a slope of 1.
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>uMax</TD><TD>&nbsp;</TD><TD>Upper limits of dead zones</TD></TR>
<TR><TD>Real</TD><TD>uMin</TD><TD>-uMax</TD><TD>Lower limits of dead zones</TD></TR>
<TR><TD>Boolean</TD><TD>deadZoneAtInit</TD><TD>true</TD><TD>= false, if dead zone is ignored during initializiation (i.e., y=u)</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> DeadZone <font color="darkgreen">&quot;Provide a region of zero output&quot;</font>
  <font color="blue">parameter </font>Real uMax(start=1) <font color="darkgreen">&quot;Upper limits of dead zones&quot;</font>;
  <font color="blue">parameter </font>Real uMin=-uMax <font color="darkgreen">&quot;Lower limits of dead zones&quot;</font>;
  <font color="blue">parameter </font>Boolean deadZoneAtInit = true <font color="darkgreen">
    &quot;= false, if dead zone is ignored during initializiation (i.e., y=u)&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Interfaces.SISO</A>;

<font color="blue">equation </font>
  <font color="red">assert</font>(uMax &gt;= uMin, &quot;DeadZone: Limits must be consistent. However, uMax (=&quot; +<font color="red"> String</font>(uMax) +
                       &quot;) &lt; uMin (=&quot; +<font color="red"> String</font>(uMin) + &quot;)&quot;);

  <font color="blue">if </font><font color="red">initial</font>()<font color="blue"> and </font><font color="blue">not </font>deadZoneAtInit<font color="blue"> then</font>
     y = u;
  <font color="blue">else</font>
     y =<font color="red"> smooth</font>(0,<font color="blue">if </font>u &gt; uMax<font color="blue"> then </font>u - uMax<font color="blue"> else </font><font color="blue">if </font>u &lt; uMin<font color="blue"> then </font>u - uMin<font color="blue"> else </font>0);
  <font color="blue">end if</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>DeadZone;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FixedDelay<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Nonlinear.FixedDelayI.png" ALT="Modelica.Blocks.Nonlinear.FixedDelay" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Nonlinear.FixedDelay"></A><A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear"
>Modelica.Blocks.Nonlinear</A>.FixedDelay</H2>
<B>Delay block with fixed DelayTime</B><p>
<IMG SRC="Modelica.Blocks.Nonlinear.FixedDelayD.png" ALT="Modelica.Blocks.Nonlinear.FixedDelay">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The Input signal is delayed by a given time instant, or more precisely:
</p>
<pre>
   y = u(time - delayTime) for time &gt; time.start + delayTime
     = u(time.start)       for time &le; time.start + delayTime
</pre>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>delayTime</TD><TD>&nbsp;</TD><TD>Delay time of output with respect to input signal [s]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> FixedDelay <font color="darkgreen">&quot;Delay block with fixed DelayTime&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> delayTime(start=1) <font color="darkgreen">
    &quot;Delay time of output with respect to input signal&quot;</font>;

<font color="blue">equation </font>
  y =<font color="red"> delay</font>(u, delayTime);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>FixedDelay;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PadeDelay<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Nonlinear.PadeDelayI.png" ALT="Modelica.Blocks.Nonlinear.PadeDelay" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Nonlinear.PadeDelay"></A><A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear"
>Modelica.Blocks.Nonlinear</A>.PadeDelay</H2>
<B>Pade approximation of delay block with fixed DelayTime </B><p>
<IMG SRC="Modelica.Blocks.Nonlinear.FixedDelayD.png" ALT="Modelica.Blocks.Nonlinear.PadeDelay">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The Input signal is delayed by a given time instant, or more precisely:
</p>
<pre>
   y = u(time - delayTime) for time &gt; time.start + delayTime
     = u(time.start)       for time &le; time.start + delayTime
</pre>
<p>
The delay is approximated by a Pade approximation, i.e., by
a transfer function
</p>
<pre>
           b[1]*s^m + b[2]*s^[m-1] + ... + b[m+1]
   y(s) = --------------------------------------------- * u(s)
           a[1]*s^n + a[2]*s^[n-1] + ... + a[n+1]
</pre>
<p>
where the coefficients b[:] and a[:] are calculated such that the
coefficients of the Taylor expansion of the delay exp(-T*s) around s=0
are identical upto order n+m.
</p>
<p>
The main advantage of this approach is that the delay is
approximated by a linear differential equation system, which
is continuous and continuously differentiable. For example, it
is uncritical to linearize a system containing a Pade-approximated
delay.
</p>
<p>
The standard text book version uses order "m=n", which is
also the default setting of this block. The setting
"m=n-1" may yield a better approximation in certain cases.
<p>
<p>
Literature:<br>
Otto Foellinger: Regelungstechnik, 8. Auflage,
chapter 11.9, page 412-414, Huethig Verlag Heidelberg, 1994
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>delayTime</TD><TD>&nbsp;</TD><TD>Delay time of output with respect to input signal [s]</TD></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>1</TD><TD>Order of pade approximation</TD></TR>
<TR><TD>Integer</TD><TD>m</TD><TD>n</TD><TD>Order of numerator</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> PadeDelay <font color="darkgreen">
  &quot;Pade approximation of delay block with fixed DelayTime &quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> delayTime(start=1) <font color="darkgreen">
    &quot;Delay time of output with respect to input signal&quot;</font>;
  <font color="blue">parameter </font>Integer n(min=1) = 1 <font color="darkgreen">&quot;Order of pade approximation&quot;</font>;
  <font color="blue">parameter </font>Integer m(
    min=1,
    max=n) = n <font color="darkgreen">&quot;Order of numerator&quot;</font>;

<font color="blue">protected </font>
  Real x1dot <font color="darkgreen">&quot;Derivative of first state of TransferFcn&quot;</font>;
  Real xn <font color="darkgreen">&quot;Highest order state of TransferFcn&quot;</font>;
  Real a[n + 1];
  Real b[m + 1];

<font color="blue">public </font>
  <font color="blue">final </font><font color="blue">output </font>Real x[n] <font color="darkgreen">
    &quot;State of transfer function from controller canonical form&quot;</font>;

<font color="blue">protected </font>
  <textblock type="model" expanded="false" path="Modelica.Blocks.Nonlinear.PadeDelay.padeCoefficients"><font color="blue">function</font> padeCoefficients
    <font color="blue">input </font>Real T <font color="darkgreen">&quot;delay time&quot;</font>;
    <font color="blue">input </font>Integer n <font color="darkgreen">&quot;order of denominator&quot;</font>;
    <font color="blue">input </font>Integer m <font color="darkgreen">&quot;order of numerator&quot;</font>;
    <font color="blue">output </font>Real b[m + 1] <font color="darkgreen">&quot;numerator coefficients of transfer function&quot;</font>;
    <font color="blue">output </font>Real a[n + 1] <font color="darkgreen">&quot;denominator coefficients of transfer function&quot;</font>;
  <font color="blue">protected </font>
    Real nm;
  <font color="blue">algorithm </font>
    a[1] := 1;
    b[1] := 1;
    nm := n + m;

    <font color="blue">for </font>i<font color="blue"> in </font>1:n<font color="blue"> loop</font>
      a[i + 1] := a[i]*(T*((n - i + 1)/(nm - i + 1))/i);
      <font color="blue">if </font>i &lt;= m<font color="blue"> then</font>
        b[i + 1] := -b[i]*(T*((m - i + 1)/(nm - i + 1))/i);
      <font color="blue">end if</font>;
    <font color="blue">end for</font>;

    b := b[m + 1:-1:1];
    a := a[n + 1:-1:1];
  <font color="blue">end </font>padeCoefficients</textblock>;
<font color="blue">equation </font>

  (b,a) =<font color="red"> padeCoefficients</font>(delayTime, n, m);

  [<font color="red">der</font>(x); xn] = [x1dot; x];
  [u] =<font color="red"> transpose</font>([a])*[x1dot; x];
  [y] =<font color="red"> transpose</font>([<font color="red">zeros</font>(n - m, 1); b])*[x1dot; x];

<font color="blue">initial </font><font color="blue">equation </font>
  x[n] = u;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PadeDelay;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE VariableDelay<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Blocks.Nonlinear.VariableDelayI.png" ALT="Modelica.Blocks.Nonlinear.VariableDelay" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Blocks.Nonlinear.VariableDelay"></A><A HREF="Modelica_Blocks_Nonlinear.html#Modelica.Blocks.Nonlinear"
>Modelica.Blocks.Nonlinear</A>.VariableDelay</H2>
<B>Delay block with variable DelayTime</B><p>
<IMG SRC="Modelica.Blocks.Nonlinear.VariableDelayD.png" ALT="Modelica.Blocks.Nonlinear.VariableDelay">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The Input signal is delayed by a given time instant, or more precisely:
</p>
<pre>
   y = u(time - delayTime) for time &gt; time.start + delayTime
     = u(time.start)       for time &le; time.start + delayTime
</pre>
<p>
where delayTime is an additional input signal which must follow
the following relationship:
</p>
<pre>  0 &le; delayTime &le; delayMax
</pre>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A> (Single Input Single Output continuous control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>delayMax</TD><TD>&nbsp;</TD><TD>maximum delay time</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u</TD><TD>Connector of Real input signal</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y</TD><TD>Connector of Real output signal</TD></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>delayTime</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> VariableDelay <font color="darkgreen">&quot;Delay block with variable DelayTime&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</A>;
  <font color="blue">parameter </font>Real delayMax(min=0, start=1) <font color="darkgreen">&quot;maximum delay time&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</A> delayTime;</textblock>
<font color="blue">equation </font>
  y =<font color="red"> delay</font>(u, delayTime, delayMax);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>VariableDelay;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:27:39 2010.
</address></BODY>
</HTML>
