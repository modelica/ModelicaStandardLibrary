<HTML>
<HEAD>
<TITLE>Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Library to demonstrate robot system models based on the Manutec r3 robot&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RobotR3<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3"></A><A HREF="Modelica_Mechanics_MultiBody_Examples_Systems.html#Modelica.Mechanics.MultiBody.Examples.Systems"
>Modelica.Mechanics.MultiBody.Examples.Systems</A>.RobotR3</H2>
<B>Library to demonstrate robot system models based on the Manutec r3 robot</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This package contains models of the robot r3 of the company Manutec.
These models are used to demonstrate in which way complex
robot models might be built up by testing first the component
models individually before composing them together.
Furthermore, it is shown how CAD data can be used
for animation.
</p>

<IMG src="../Resources/Images/MultiBody/Examples/Systems/robot_kr15.bmp"
ALT="model Examples.Systems.RobotR3">

<p>
The following models are available:
</p>
<pre>
   <b>oneAxis</b>   Test one axis (controller, motor, gearbox).
   <b>fullRobot</b> Test complete robot model.
</pre>
<p>
The r3 robot is no longer manufactured. In fact the company
Manutec does no longer exist.
The parameters of this robot have been determined by measurements
in the laboratory of DLR. The measurement procedure is described in:
</p>
<pre>
   Tuerk S. (1990): Zur Modellierung der Dynamik von Robotern mit
       rotatorischen Gelenken. Fortschrittberichte VDI, Reihe 8, Nr. 211,
       VDI-Verlag 1990.
</pre>
<p>
The robot model is described in detail in
</p>
<pre>
   Otter M. (1995): Objektorientierte Modellierung mechatronischer
       Systeme am Beispiel geregelter Roboter. Dissertation,
       Fortschrittberichte VDI, Reihe 20, Nr. 147, VDI-Verlag 1995.
       This report can be downloaded as compressed postscript file
       from: <a href="http://www.robotic.dlr.de/Martin.Otter">http://www.robotic.dlr.de/Martin.Otter</a>.
</pre>
<p>
The path planning is performed in a simple way by using essentially
the Modelica.Mechanics.Rotational.KinematicPTP block. A user defines
a path by start and end angle of every axis. A path is planned such
that all axes are moving as fast as possible under the given
restrictions of maximum joint speeds and maximum joint accelerations.
The actual r3 robot from Manutec had a different path planning strategy.
Todays path planning algorithms from robot companies are much
more involved.
</p>
<p>
In order to get a nice animation, CAD data from a KUKA robot
is used, since CAD data of the original r3 robot was not available.
The KUKA CAD data was derived from public data of KUKA available at:
<a href="http://www.kuka-roboter.de/english/produkte/cad/low_payloads.html">
http://www.kuka-roboter.de/english/produkte/cad/low_payloads.html</a>.
Since dimensions of the corresponding KUKA robot are similar but not
identical to the r3 robot, the data of the r3 robot (such as arm lengths) have been modified, such that it matches the CAD data.
</p>
<p>
In this model, a simplified P-PI cascade controller for every
axes is used. The parameters have been manually adjusted by
simulations. The original r3 controllers are more complicated.
The reason to use simplified controllers is to have a simpler demo.
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxisS.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxis" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxis"
>oneAxis</A>
</TD><TD>Model of one axis of robot (controller, motor, gearbox) with simple load</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxisS.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot"
>fullRobot</A>
</TD><TD>6 degree of freedom robot with path planning, controllers, motors, brakes, gears and mechanics</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.ComponentsS.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components"
>Components</A>
</TD><TD>Library of components of the robot</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE oneAxis<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxisI.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxis" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxis"></A><A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3"
>Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3</A>.oneAxis</H2>
<B>Model of one axis of robot (controller, motor, gearbox) with simple load</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxisD.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxis">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
With this model one axis of the r3 robot is checked.
The mechanical structure is replaced by a simple
load inertia.
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</A></TD><TD>mLoad</TD><TD>15</TD><TD>Mass of load [kg]</TD></TR>
<TR><TD>Real</TD><TD>kp</TD><TD>5</TD><TD>Gain of position controller of axis 2</TD></TR>
<TR><TD>Real</TD><TD>ks</TD><TD>0.5</TD><TD>Gain of speed controller of axis 2</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller of axis 2 [s]</TD></TR>
<TR><TD>Real</TD><TD>startAngle</TD><TD>0</TD><TD>Start angle of axis 2 [deg]</TD></TR>
<TR><TD>Real</TD><TD>endAngle</TD><TD>120</TD><TD>End angle of axis 2 [deg]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>swingTime</TD><TD>0.5</TD><TD>Additional time after reference motion is in rest before simulation is stopped [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity"
>AngularVelocity</A></TD><TD>refSpeedMax</TD><TD>3</TD><TD>Maximum reference speed [rad/s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularAcceleration"
>AngularAcceleration</A></TD><TD>refAccMax</TD><TD>10</TD><TD>Maximum reference acceleration [rad/s2]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> oneAxis <font color="darkgreen">
  &quot;Model of one axis of robot (controller, motor, gearbox) with simple load&quot;</font>

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>SI.Mass</A> mLoad(min=0)=15 <font color="darkgreen">&quot;Mass of load&quot;</font>;
  <font color="blue">parameter </font>Real kp=5 <font color="darkgreen">&quot;Gain of position controller of axis 2&quot;</font>;
  <font color="blue">parameter </font>Real ks=0.5 <font color="darkgreen">&quot;Gain of speed controller of axis 2&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts=0.05 <font color="darkgreen">
    &quot;Time constant of integrator of speed controller of axis 2&quot;</font>;
  <font color="blue">parameter </font>Real startAngle(unit=&quot;deg&quot;) = 0 <font color="darkgreen">&quot;Start angle of axis 2&quot;</font>;
  <font color="blue">parameter </font>Real endAngle(unit=&quot;deg&quot;) = 120 <font color="darkgreen">&quot;End angle of axis 2&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> swingTime=0.5 <font color="darkgreen">
    &quot;Additional time after reference motion is in rest before simulation is stopped&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity"
>SI.AngularVelocity</A> refSpeedMax=3 <font color="darkgreen">&quot;Maximum reference speed&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularAcceleration"
>SI.AngularAcceleration</A> refAccMax=10 <font color="darkgreen">
    &quot;Maximum reference acceleration&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType1"
>Components.AxisType1</A> axis(
    w=5500,
    ratio=210,
    c=8,
    cd=0.01,
    Rv0=0.5,
    Rv1=(0.1/130),
    kp=kp,
    ks=ks,
    Ts=Ts);
  <A HREF="Modelica_Mechanics_Rotational_Components.html#Modelica.Mechanics.Rotational.Components.Inertia"
>Modelica.Mechanics.Rotational.Components.Inertia</A> load(
                                             J=1.3*mLoad);
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.PathPlanning1"
>Components.PathPlanning1</A> pathPlanning(
    swingTime=swingTime,
    angleBegDeg=startAngle,
    angleEndDeg=endAngle,
    speedMax=refSpeedMax,
    accMax=refAccMax);
<font color="blue">protected </font>
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.ControlBus"
>Components.ControlBus</A> controlBus;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(axis.flange, load.flange_a);
  <font color="red">connect</font>(pathPlanning.controlBus, controlBus);
  <font color="red">connect</font>(controlBus.axisControlBus1, axis.axisControlBus);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>oneAxis;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE fullRobot<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.oneAxisI.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot"></A><A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3"
>Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3</A>.fullRobot</H2>
<B>6 degree of freedom robot with path planning, controllers, motors, brakes, gears and mechanics</B><p>
<IMG SRC="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobotD.png" ALT="Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.fullRobot">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This is a detailed model of the robot. For animation CAD data
is used. Translate and simulate with the default settings
(default simulation time = 3 s). Use command script "modelica://Modelica/Resources/Scripts/Dymola/Mechanics/MultiBody/Examples/Systems/fullRobotPlot.mos"
to plot variables.
</p>

<IMG src="../Resources/Images/MultiBody/Examples/Systems/r3_fullRobot.png" ALT="model Examples.Loops.Systems.RobotR3.fullRobot">

<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</A></TD><TD>mLoad</TD><TD>15</TD><TD>Mass of load [kg]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>Position</A></TD><TD>rLoad[3]</TD><TD>{0.1,0.25,0.1}</TD><TD>Distance from last flange to load mass [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Acceleration</A></TD><TD>g</TD><TD>9.81</TD><TD>Gravity acceleration [m/s2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>refStartTime</TD><TD>0</TD><TD>Start time of reference motion [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>refSwingTime</TD><TD>0.5</TD><TD>Additional time after reference motion is in rest before simulation is stopped [s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Reference</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>startAngles</TD></TR>
<TR><TD>Real</TD><TD>startAngle1</TD><TD>-60</TD><TD>Start angle of axis 1 [deg]</TD></TR>
<TR><TD>Real</TD><TD>startAngle2</TD><TD>20</TD><TD>Start angle of axis 2 [deg]</TD></TR>
<TR><TD>Real</TD><TD>startAngle3</TD><TD>90</TD><TD>Start angle of axis 3 [deg]</TD></TR>
<TR><TD>Real</TD><TD>startAngle4</TD><TD>0</TD><TD>Start angle of axis 4 [deg]</TD></TR>
<TR><TD>Real</TD><TD>startAngle5</TD><TD>-110</TD><TD>Start angle of axis 5 [deg]</TD></TR>
<TR><TD>Real</TD><TD>startAngle6</TD><TD>0</TD><TD>Start angle of axis 6 [deg]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>endAngles</TD></TR>
<TR><TD>Real</TD><TD>endAngle1</TD><TD>60</TD><TD>End angle of axis 1 [deg]</TD></TR>
<TR><TD>Real</TD><TD>endAngle2</TD><TD>-70</TD><TD>End angle of axis 2 [deg]</TD></TR>
<TR><TD>Real</TD><TD>endAngle3</TD><TD>-35</TD><TD>End angle of axis 3 [deg]</TD></TR>
<TR><TD>Real</TD><TD>endAngle4</TD><TD>45</TD><TD>End angle of axis 4 [deg]</TD></TR>
<TR><TD>Real</TD><TD>endAngle5</TD><TD>110</TD><TD>End angle of axis 5 [deg]</TD></TR>
<TR><TD>Real</TD><TD>endAngle6</TD><TD>45</TD><TD>End angle of axis 6 [deg]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Limits</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity"
>AngularVelocity</A></TD><TD>refSpeedMax[6]</TD><TD>{3,1.5,5,3.1,3.1,4.1}</TD><TD>Maximum reference speeds of all joints [rad/s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularAcceleration"
>AngularAcceleration</A></TD><TD>refAccMax[6]</TD><TD>{15,15,15,60,60,60}</TD><TD>Maximum reference accelerations of all joints [rad/s2]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Controller</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axis 1</TD></TR>
<TR><TD>Real</TD><TD>kp1</TD><TD>5</TD><TD>Gain of position controller</TD></TR>
<TR><TD>Real</TD><TD>ks1</TD><TD>0.5</TD><TD>Gain of speed controller</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts1</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axis 2</TD></TR>
<TR><TD>Real</TD><TD>kp2</TD><TD>5</TD><TD>Gain of position controller</TD></TR>
<TR><TD>Real</TD><TD>ks2</TD><TD>0.5</TD><TD>Gain of speed controller</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts2</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axis 3</TD></TR>
<TR><TD>Real</TD><TD>kp3</TD><TD>5</TD><TD>Gain of position controller</TD></TR>
<TR><TD>Real</TD><TD>ks3</TD><TD>0.5</TD><TD>Gain of speed controller</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts3</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axis 4</TD></TR>
<TR><TD>Real</TD><TD>kp4</TD><TD>5</TD><TD>Gain of position controller</TD></TR>
<TR><TD>Real</TD><TD>ks4</TD><TD>0.5</TD><TD>Gain of speed controller</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts4</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axis 5</TD></TR>
<TR><TD>Real</TD><TD>kp5</TD><TD>5</TD><TD>Gain of position controller</TD></TR>
<TR><TD>Real</TD><TD>ks5</TD><TD>0.5</TD><TD>Gain of speed controller</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts5</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller [s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axis 6</TD></TR>
<TR><TD>Real</TD><TD>kp6</TD><TD>5</TD><TD>Gain of position controller</TD></TR>
<TR><TD>Real</TD><TD>ks6</TD><TD>0.5</TD><TD>Gain of speed controller</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Ts6</TD><TD>0.05</TD><TD>Time constant of integrator of speed controller [s]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> fullRobot <font color="darkgreen">
  &quot;6 degree of freedom robot with path planning, controllers, motors, brakes, gears and mechanics&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">import </font>SI = <A HREF="Modelica_SIunits.html#Modelica.SIunits"
>Modelica.SIunits</A>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>SI.Mass</A> mLoad(min=0) = 15 <font color="darkgreen">&quot;Mass of load&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Position"
>SI.Position</A> rLoad[3]={0.1,0.25,0.1} <font color="darkgreen">
    &quot;Distance from last flange to load mass&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>SI.Acceleration</A> g=9.81 <font color="darkgreen">&quot;Gravity acceleration&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> refStartTime=0 <font color="darkgreen">&quot;Start time of reference motion&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> refSwingTime=0.5 <font color="darkgreen">
    &quot;Additional time after reference motion is in rest before simulation is stopped&quot;</font>;

  <font color="blue">parameter </font>Real startAngle1(unit=&quot;deg&quot;) = -60 <font color="darkgreen">&quot;Start angle of axis 1&quot;</font>;
  <font color="blue">parameter </font>Real startAngle2(unit=&quot;deg&quot;) = 20 <font color="darkgreen">&quot;Start angle of axis 2&quot;</font>;
  <font color="blue">parameter </font>Real startAngle3(unit=&quot;deg&quot;) = 90 <font color="darkgreen">&quot;Start angle of axis 3&quot;</font>;
  <font color="blue">parameter </font>Real startAngle4(unit=&quot;deg&quot;) = 0 <font color="darkgreen">&quot;Start angle of axis 4&quot;</font>;
  <font color="blue">parameter </font>Real startAngle5(unit=&quot;deg&quot;) = -110 <font color="darkgreen">&quot;Start angle of axis 5&quot;</font>;
  <font color="blue">parameter </font>Real startAngle6(unit=&quot;deg&quot;) = 0 <font color="darkgreen">&quot;Start angle of axis 6&quot;</font>;

  <font color="blue">parameter </font>Real endAngle1(unit=&quot;deg&quot;) = 60 <font color="darkgreen">&quot;End angle of axis 1&quot;</font>;
  <font color="blue">parameter </font>Real endAngle2(unit=&quot;deg&quot;) = -70 <font color="darkgreen">&quot;End angle of axis 2&quot;</font>;
  <font color="blue">parameter </font>Real endAngle3(unit=&quot;deg&quot;) = -35 <font color="darkgreen">&quot;End angle of axis 3&quot;</font>;
  <font color="blue">parameter </font>Real endAngle4(unit=&quot;deg&quot;) = 45 <font color="darkgreen">&quot;End angle of axis 4&quot;</font>;
  <font color="blue">parameter </font>Real endAngle5(unit=&quot;deg&quot;) = 110 <font color="darkgreen">&quot;End angle of axis 5&quot;</font>;
  <font color="blue">parameter </font>Real endAngle6(unit=&quot;deg&quot;) = 45 <font color="darkgreen">&quot;End angle of axis 6&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularVelocity"
>SI.AngularVelocity</A> refSpeedMax[6]={3,1.5,5,3.1,3.1,4.1} <font color="darkgreen">
    &quot;Maximum reference speeds of all joints&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.AngularAcceleration"
>SI.AngularAcceleration</A> refAccMax[6]={15,15,15,60,60,60} <font color="darkgreen">
    &quot;Maximum reference accelerations of all joints&quot;</font>;

  <font color="blue">parameter </font>Real kp1=5 <font color="darkgreen">&quot;Gain of position controller&quot;</font>;
  <font color="blue">parameter </font>Real ks1=0.5 <font color="darkgreen">&quot;Gain of speed controller&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts1=0.05 <font color="darkgreen">&quot;Time constant of integrator of speed controller&quot;</font>;
  <font color="blue">parameter </font>Real kp2=5 <font color="darkgreen">&quot;Gain of position controller&quot;</font>;
  <font color="blue">parameter </font>Real ks2=0.5 <font color="darkgreen">&quot;Gain of speed controller&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts2=0.05 <font color="darkgreen">&quot;Time constant of integrator of speed controller&quot;</font>;
  <font color="blue">parameter </font>Real kp3=5 <font color="darkgreen">&quot;Gain of position controller&quot;</font>;
  <font color="blue">parameter </font>Real ks3=0.5 <font color="darkgreen">&quot;Gain of speed controller&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts3=0.05 <font color="darkgreen">&quot;Time constant of integrator of speed controller&quot;</font>;
  <font color="blue">parameter </font>Real kp4=5 <font color="darkgreen">&quot;Gain of position controller&quot;</font>;
  <font color="blue">parameter </font>Real ks4=0.5 <font color="darkgreen">&quot;Gain of speed controller&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts4=0.05 <font color="darkgreen">&quot;Time constant of integrator of speed controller&quot;</font>;
  <font color="blue">parameter </font>Real kp5=5 <font color="darkgreen">&quot;Gain of position controller&quot;</font>;
  <font color="blue">parameter </font>Real ks5=0.5 <font color="darkgreen">&quot;Gain of speed controller&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts5=0.05 <font color="darkgreen">&quot;Time constant of integrator of speed controller&quot;</font>;
  <font color="blue">parameter </font>Real kp6=5 <font color="darkgreen">&quot;Gain of position controller&quot;</font>;
  <font color="blue">parameter </font>Real ks6=0.5 <font color="darkgreen">&quot;Gain of speed controller&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SI.Time</A> Ts6=0.05 <font color="darkgreen">&quot;Time constant of integrator of speed controller&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.MechanicalStructure"
>Components.MechanicalStructure</A> mechanics(
    mLoad=mLoad,
    rLoad=rLoad,
    g=g);
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.PathPlanning6"
>Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.PathPlanning6</A>
    pathPlanning(
    naxis=6,
    angleBegDeg={startAngle1,startAngle2,startAngle3,startAngle4,startAngle5,
        startAngle6},
    angleEndDeg={endAngle1,endAngle2,endAngle3,endAngle4,endAngle5,endAngle6},
    speedMax=refSpeedMax,
    accMax=refAccMax,
    startTime=refStartTime,
    swingTime=refSwingTime);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType1"
>RobotR3.Components.AxisType1</A> axis1(
    w=4590,
    ratio=-105,
    c=43,
    cd=0.005,
    Rv0=0.4,
    Rv1=(0.13/160),
    kp=kp1,
    ks=ks1,
    Ts=Ts1);
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType1"
>RobotR3.Components.AxisType1</A> axis2(
    w=5500,
    ratio=210,
    c=8,
    cd=0.01,
    Rv1=(0.1/130),
    Rv0=0.5,
    kp=kp2,
    ks=ks2,
    Ts=Ts2);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType1"
>RobotR3.Components.AxisType1</A> axis3(
    w=5500,
    ratio=60,
    c=58,
    cd=0.04,
    Rv0=0.7,
    Rv1=(0.2/130),
    kp=kp3,
    ks=ks3,
    Ts=Ts3);
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType2"
>RobotR3.Components.AxisType2</A> axis4(
    k=0.2365,
    w=6250,
    D=0.55,
    J=1.6e-4,
    ratio=-99,
    Rv0=21.8,
    Rv1=9.8,
    peak=26.7/21.8,
    kp=kp4,
    ks=ks4,
    Ts=Ts4);
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType2"
>RobotR3.Components.AxisType2</A> axis5(
    k=0.2608,
    w=6250,
    D=0.55,
    J=1.8e-4,
    ratio=79.2,
    Rv0=30.1,
    Rv1=0.03,
    peak=39.6/30.1,
    kp=kp5,
    ks=ks5,
    Ts=Ts5);
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.AxisType2"
>RobotR3.Components.AxisType2</A> axis6(
    k=0.0842,
    w=7400,
    D=0.27,
    J=4.3e-5,
    ratio=-99,
    Rv0=10.9,
    Rv1=3.92,
    peak=16.8/10.9,
    kp=kp6,
    ks=ks6,
    Ts=Ts6);
<font color="blue">protected </font>
  <A HREF="Modelica_Mechanics_MultiBody_Examples_Systems_RobotR3_Components.html#Modelica.Mechanics.MultiBody.Examples.Systems.RobotR3.Components.ControlBus"
>Components.ControlBus</A> controlBus;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(axis2.flange, mechanics.axis2);
  <font color="red">connect</font>(axis1.flange, mechanics.axis1);
  <font color="red">connect</font>(axis3.flange, mechanics.axis3);
  <font color="red">connect</font>(axis4.flange, mechanics.axis4);
  <font color="red">connect</font>(axis5.flange, mechanics.axis5);
  <font color="red">connect</font>(axis6.flange, mechanics.axis6);
  <font color="red">connect</font>(controlBus, pathPlanning.controlBus);
  <font color="red">connect</font>(controlBus.axisControlBus1, axis1.axisControlBus);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(controlBus.axisControlBus2, axis2.axisControlBus);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(controlBus.axisControlBus3, axis3.axisControlBus);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(controlBus.axisControlBus4, axis4.axisControlBus);
  <font color="red">connect</font>(controlBus.axisControlBus5, axis5.axisControlBus);
  <font color="red">connect</font>(controlBus.axisControlBus6, axis6.axisControlBus);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>fullRobot;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:30:20 2010.
</address></BODY>
</HTML>
