<HTML>
<HEAD>
<TITLE>Modelica.Fluid.Examples</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Demonstration of the usage of the library&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Examples<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Fluid.Examples"></A><A HREF="Modelica_Fluid.html#Modelica.Fluid"
>Modelica.Fluid</A>.Examples</H2>
<B>Demonstration of the usage of the library</B>
<P>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</A> (Icon for packages containing runnable examples).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.PumpingSystemS.png" ALT="Modelica.Fluid.Examples.PumpingSystem" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.PumpingSystem"
>PumpingSystem</A>
</TD><TD>Model of a pumping system for drinking water</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.PumpingSystemS.png" ALT="Modelica.Fluid.Examples.HeatingSystem" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.HeatingSystem"
>HeatingSystem</A>
</TD><TD>Simple model of a heating system</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.DrumBoilerS.png" ALT="Modelica.Fluid.Examples.DrumBoiler" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_DrumBoiler.html#Modelica.Fluid.Examples.DrumBoiler"
>DrumBoiler</A>
</TD><TD>Drum boiler example, see Franke, Rode, Krueger: On-line Optimization of Drum Boiler Startup, 3rd International Modelica Conference, Linkoping, 2003</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.DrumBoilerS.png" ALT="Modelica.Fluid.Examples.Tanks" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_Tanks.html#Modelica.Fluid.Examples.Tanks"
>Tanks</A>
</TD><TD>Library demonstrating the usage of the tank model</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.DrumBoilerS.png" ALT="Modelica.Fluid.Examples.ControlledTankSystem" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_ControlledTankSystem.html#Modelica.Fluid.Examples.ControlledTankSystem"
>ControlledTankSystem</A>
</TD><TD>Tank system with controller, start/stop/shut operation and diagram animation</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.DrumBoilerS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant.html#Modelica.Fluid.Examples.AST_BatchPlant"
>AST_BatchPlant</A>
</TD><TD>Model of the experimental batch plant at Process Control Laboratory at University of Dortmund (Prof. Engell)</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.IncompressibleFluidNetworkS.png" ALT="Modelica.Fluid.Examples.IncompressibleFluidNetwork" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork"
>IncompressibleFluidNetwork</A>
</TD><TD>Multi-way connections of pipes and incompressible medium model</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.IncompressibleFluidNetworkS.png" ALT="Modelica.Fluid.Examples.BranchingDynamicPipes" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.BranchingDynamicPipes"
>BranchingDynamicPipes</A>
</TD><TD>Multi-way connections of pipes with dynamic momentum balance, pressure wave and flow reversal</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.HeatExchangerS.png" ALT="Modelica.Fluid.Examples.HeatExchanger" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_HeatExchanger.html#Modelica.Fluid.Examples.HeatExchanger"
>HeatExchanger</A>
</TD><TD>Demo of a heat exchanger model</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.HeatExchangerS.png" ALT="Modelica.Fluid.Examples.TraceSubstances" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_TraceSubstances.html#Modelica.Fluid.Examples.TraceSubstances"
>TraceSubstances</A>
</TD><TD>Library demonstrating the usage of trace substances</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.InverseParameterizationS.png" ALT="Modelica.Fluid.Examples.InverseParameterization" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.InverseParameterization"
>InverseParameterization</A>
</TD><TD>Demonstrates the parameterization of a pump and a pipe for given nominal values</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.ExplanatoryS.png" ALT="Modelica.Fluid.Examples.Explanatory" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_Explanatory.html#Modelica.Fluid.Examples.Explanatory"
>Explanatory</A>
</TD><TD>A set of examples illustrating when special attention has to be paid</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PumpingSystem<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.PumpingSystemI.png" ALT="Modelica.Fluid.Examples.PumpingSystem" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.PumpingSystem"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples"
>Modelica.Fluid.Examples</A>.PumpingSystem</H2>
<B>Model of a pumping system for drinking water</B><p>
<IMG SRC="Modelica.Fluid.Examples.PumpingSystemD.png" ALT="Modelica.Fluid.Examples.PumpingSystem">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Water is pumped from a source by a pump (fitted with check valves), through a pipe whose outlet is 50 m higher than the source, into a reservoir. The users are represented by an equivalent valve, connected to the reservoir.
</p>
<p>
The water controller is a simple on-off controller, regulating on the gauge pressure measured at the base of the tower; the output of the controller is the rotational speed of the pump, which is represented by the output of a first-order system. A small but nonzero rotational speed is used to represent the standby state of the pumps, in order to avoid singularities in the flow characteristic.
</p>
<p>
Simulate for 2000 s. When the valve is opened at time t=200, the pump starts turning on and off to keep the reservoir level around 2 meters, which roughly corresponds to a gauge pressure of 200 mbar.
</p>
<p>
If using Dymola, turn off "Equidistant time grid" to avoid numerical errors.
</p>

<img src="../Resources/Images/Fluid/Examples/PumpingSystem.png" border="1">
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PumpingSystem <font color="darkgreen">&quot;Model of a pumping system for drinking water&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.FixedBoundary"
>Modelica.Fluid.Sources.FixedBoundary</A> source(
    nPorts = 1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    use_T=true,
    T=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(20),
    p=system.p_ambient);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    allowFlowReversal=true,
    length=100,
    height_ab=50,
    diameter=0.3);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Machines.html#Modelica.Fluid.Machines.PrescribedPump"
>Machines.PrescribedPump</A> pumps(
    checkValve=true,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    N_nominal=1200,
    <font color="blue">redeclare </font><font color="blue">function</font> flowCharacteristic =
        <A HREF="Modelica_Fluid_Machines_BaseClasses_PumpCharacteristics.html#Modelica.Fluid.Machines.BaseClasses.PumpCharacteristics.quadraticFlow"
>Modelica.Fluid.Machines.BaseClasses.PumpCharacteristics.quadraticFlow</A> (
          V_flow_nominal={0,0.25,0.5}, head_nominal={100,60,0}),
    V=50/1000,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(20),
    use_N_in=true,
    nParallel=1,
    energyDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Vessels.html#Modelica.Fluid.Vessels.OpenTank"
>Modelica.Fluid.Vessels.OpenTank</A> reservoir(
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(20),
    use_portsData=true,
    crossArea=50,
    level_start=2.2,
    height=3,
    nPorts=3,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(diameter=0.3),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(diameter=0.3),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(diameter=0.01)});</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveLinear"
>Modelica.Fluid.Valves.ValveLinear</A> userValve(   <font color="blue">redeclare </font><font color="blue">package</font> Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    allowFlowReversal=false,
    dp_nominal=200000,
    m_flow_nominal=400);
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.FixedBoundary"
>Modelica.Fluid.Sources.FixedBoundary</A> sink(
                                       <font color="blue">redeclare </font><font color="blue">package</font> Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient,
    nPorts=2);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> valveOpening(startTime=200, offset=1e-6);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</A> RelativePressureSetPoint(k=2e4);
  <A HREF="Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.OnOffController"
>Modelica.Blocks.Logical.OnOffController</A> controller(bandwidth=4000,
      pre_y_start=false);
  <A HREF="Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.TriggeredTrapezoid"
>Modelica.Blocks.Logical.TriggeredTrapezoid</A> PumpRPMGenerator(
    rising=3,
    falling=3,
    amplitude=1200,
    offset=0.001);
  <A HREF="Modelica_Fluid_Sensors.html#Modelica.Fluid.Sensors.RelativePressure"
>Modelica.Fluid.Sensors.RelativePressure</A> reservoirPressure(
                                                        <font color="blue">redeclare </font><font color="blue">package</font>
      Medium =
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>);
  <A HREF="Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.FirstOrder"
>Modelica.Blocks.Continuous.FirstOrder</A> PT1(
    T=2,
    initType=Modelica.Blocks.Types.Init.InitialState,
    y_start=0);</textblock>

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(userValve.port_b, sink.ports[1]);
  <font color="red">connect</font>(source.ports[1], pumps.port_a);
  <font color="red">connect</font>(valveOpening.y, userValve.opening);
  <font color="red">connect</font>(RelativePressureSetPoint.y, controller.reference);
  <font color="red">connect</font>(controller.y, PumpRPMGenerator.u);
  <font color="red">connect</font>(reservoirPressure.p_rel, controller.u);
  <font color="red">connect</font>(reservoirPressure.port_b, sink.ports[2]);
  <font color="red">connect</font>(PumpRPMGenerator.y, PT1.u);
  <font color="red">connect</font>(PT1.y, pumps.N_in);
  <font color="red">connect</font>(pipe.port_a, pumps.port_b);
  <font color="red">connect</font>(reservoir.ports[1], pipe.port_b);
  <font color="red">connect</font>(reservoir.ports[3], reservoirPressure.port_a);
  <font color="red">connect</font>(reservoir.ports[2], userValve.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PumpingSystem;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatingSystem<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.PumpingSystemI.png" ALT="Modelica.Fluid.Examples.HeatingSystem" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatingSystem"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples"
>Modelica.Fluid.Examples</A>.HeatingSystem</H2>
<B>Simple model of a heating system</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatingSystemD.png" ALT="Modelica.Fluid.Examples.HeatingSystem">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Simple heating system with a closed flow cycle. It is set up for steady-state initial values.
After 2000s of simulation time the valve fully opens. A simple idealized control is embedded
into the respective components, so that the heating system can be regulated with the valve:
the pump controls the pressure, the burner controls the temperature.
</p>
<p>
One can investigate the temperatures and flows for different settings of <code>system.energyDynamics</code>
(see Assumptions tab of the system object).
With <code>system.energyDynamics==Types.Dynamics.SteadyState</code> all but one dynamic states are eliminated.
The left state <code>tank.m</code> is to account for the closed flow cycle. It is constant as outflow and inflow are equal
in a steady-state simulation.
</p>
<p>
Note that a closed flow cycle generally causes circular equalities for the mass flow rates and leaves the pressure undefined.
This is why the tank.massDynamics, i.e., the tank level determining the port pressure, is modified locally to Types.Dynamics.FixedInitial.
</p>
<p>
Also note that the tank is thermally isolated againts its ambient. This way the temperature of the tank is also
well defined for zero flow rate in the heating system, e.g., for valveOpening.offset=0 at the beginning of a simulation.
The pipe however is assumed to be perfectly isolated.
If steady-state values shall be obtained with the valve fully closed, then a thermal
coupling between the pipe and its ambient should be defined as well.
</p>
<p>
Moreover it is worth noting that the idealized direct connection between the heater and the pipe, resulting in equal port pressures,
is treated as high-index DAE, as opposed to a nonlinear equation system for connected pressure loss correlations. A pressure loss correlation
could be additionally introduced to model the fitting between the heater and the pipe, e.g., to adapt different diameters.
</p>

<img src="../Resources/Images/Fluid/Examples/HeatingSystem.png" border="1">
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Water.Standar...</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatingSystem <font color="darkgreen">&quot;Simple model of a heating system&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
   <font color="blue">replaceable </font><font color="blue">package</font> Medium =
      Modelica.Media.Water.StandardWater
     <font color="blue">constrainedby </font>Modelica.Media.Interfaces.PartialMedium;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Vessels.html#Modelica.Fluid.Vessels.OpenTank"
>Modelica.Fluid.Vessels.OpenTank</A> tank(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    crossArea=0.01,
    height=2,
    level_start=1,
    nPorts=2,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    use_HeatTransfer=true,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(diameter=
        0.01),<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(diameter=
        0.01)},
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Vessels_BaseClasses_HeatTransfer.html#Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer"
>Modelica.Fluid.Vessels.BaseClasses.HeatTransfer.IdealHeatTransfer</A> (k=10));
  <A HREF="Modelica_Fluid_Machines.html#Modelica.Fluid.Machines.ControlledPump"
>Machines.ControlledPump</A> pump(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    N_nominal=1500,
    use_T_start=true,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(40),
    m_flow_start=0.01,
    m_flow_nominal=0.01,
    control_m_flow=false,
    allowFlowReversal=false,
    p_a_start=110000,
    p_b_start=130000,
    p_a_nominal=110000,
    p_b_nominal=130000);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveIncompressible"
>Modelica.Fluid.Valves.ValveIncompressible</A> valve(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    CvData=Modelica.Fluid.Types.CvTypes.OpPoint,
    m_flow_nominal=0.01,
    show_T=true,
    allowFlowReversal=false,
    dp_nominal=10000);
<font color="blue">protected </font>
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> m_flow;
<font color="blue">public </font>
  <A HREF="Modelica_Fluid_Sensors.html#Modelica.Fluid.Sensors.MassFlowRate"
>Sensors.MassFlowRate</A> sensor_m_flow(<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium);
  <A HREF="Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.FixedTemperature"
>Modelica.Thermal.HeatTransfer.Sources.FixedTemperature</A> T_ambient(T=system.T_ambient);
  <A HREF="Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalConductor"
>Modelica.Thermal.HeatTransfer.Components.ThermalConductor</A> wall(G=1.6e3/20);
  <A HREF="Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow</A> burner(
                                                     Q_flow=1.6e3,
    T_ref=343.15,
    alpha=-0.5);
  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(energyDynamics=Modelica.Fluid.Types.Dynamics.SteadyStateInitial,
      m_flow_small=1e-4);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Pipes.DynamicPipe</A> heater(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_start=true,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(80),
    length=2,
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>,
    diameter=0.01,
    nNodes=1,
    modelStructure=Modelica.Fluid.Types.ModelStructure.a_vb,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>,
    use_HeatTransfer=true);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Pipes.DynamicPipe</A> radiator(
    use_T_start=true,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    length=10,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(40),
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>,
    diameter=0.01,
    nNodes=1,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>,
    modelStructure=Modelica.Fluid.Types.ModelStructure.av_b,
    use_HeatTransfer=true);</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">protected </font>
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> T_forward;
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> T_return;
<font color="blue">public </font>
  <A HREF="Modelica_Fluid_Sensors.html#Modelica.Fluid.Sensors.Temperature"
>Modelica.Fluid.Sensors.Temperature</A> sensor_T_forward(<font color="blue">redeclare </font><font color="blue">package</font> Medium
      = Medium);
  <A HREF="Modelica_Fluid_Sensors.html#Modelica.Fluid.Sensors.Temperature"
>Modelica.Fluid.Sensors.Temperature</A> sensor_T_return(<font color="blue">redeclare </font><font color="blue">package</font> Medium
      = Medium);
<font color="blue">protected </font>
  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</A> tankLevel;
<font color="blue">public </font>
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> handle(
    startTime=2000,
    height=0.9,
    offset=0.1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Pipes.DynamicPipe</A> pipe(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_start=true,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(80),
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>,
    diameter=0.01,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>,
    length=10);</textblock>

<font color="blue">equation </font>
tankLevel = tank.level;
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(sensor_m_flow.m_flow, m_flow);
  <font color="red">connect</font>(sensor_m_flow.port_b, heater.port_a);
  <font color="red">connect</font>(T_ambient.port, wall.port_a);
  <font color="red">connect</font>(sensor_T_forward.T, T_forward);
  <font color="red">connect</font>(radiator.port_a, valve.port_b);
  <font color="red">connect</font>(sensor_T_return.port, radiator.port_b);
  <font color="red">connect</font>(tank.ports[2], pump.port_a);
  <font color="red">connect</font>(handle.y, valve.opening);
  <font color="red">connect</font>(pump.port_b, sensor_m_flow.port_a);
  <font color="red">connect</font>(sensor_T_return.T, T_return);
  <font color="red">connect</font>(burner.port, heater.heatPorts[1]);
  <font color="red">connect</font>(wall.port_b, radiator.heatPorts[1]);
  <font color="red">connect</font>(sensor_T_forward.port, heater.port_b);
  <font color="red">connect</font>(heater.port_b, pipe.port_a);
  <font color="red">connect</font>(pipe.port_b, valve.port_a);
  <font color="red">connect</font>(radiator.port_b, tank.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatingSystem;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE IncompressibleFluidNetwork<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.PumpingSystemI.png" ALT="Modelica.Fluid.Examples.IncompressibleFluidNetwork" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.IncompressibleFluidNetwork"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples"
>Modelica.Fluid.Examples</A>.IncompressibleFluidNetwork</H2>
<B>Multi-way connections of pipes and incompressible medium model</B><p>
<IMG SRC="Modelica.Fluid.Examples.IncompressibleFluidNetworkD.png" ALT="Modelica.Fluid.Examples.IncompressibleFluidNetwork">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This example demonstrates two aspects: the efficient treatment of multi-way connections
and the usage of an incompressible medium model.
</p>
<p>
Normally one would expect bad equation systems in multi-way connections
and possibly introduce mixing volumes to work around this.
Here the problem is treated with the the modelStructure=av_vb in the
<A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>DynamicPipe</a> model.
Each pipe exposes the states of the outer fluid segments to the respective fluid ports.
Consequently the pressures of all connected pipe segments get lumped together into one mass balance
spanning the whole connection set. With the stream concept in the fluid ports, the energy and substance
balances remain independent in the connected pipe segments.
</p>
<p>
The model does not contain pressure dynamics as an incompressible medium is used (Essotherm650).
Pressure dynamics becomes present with a compressible medium model (e.g., StandardWater).
</p>

<img src="../Resources/Images/Fluid/Examples/IncompressibleFluidNetwork.png" border="1">
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Incompressibl...</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> IncompressibleFluidNetwork <font color="darkgreen">
  &quot;Multi-way connections of pipes and incompressible medium model&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium =
      <A HREF="Modelica_Media_Incompressible_Examples_Essotherm650.html#Modelica.Media.Incompressible.Examples.Essotherm650"
>Modelica.Media.Incompressible.Examples.Essotherm650</A>
    <font color="blue">constrainedby </font>Modelica.Media.Interfaces.PartialMedium;

  <font color="blue">model</font> Pipe = <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A>;
  <font color="darkgreen">//model Pipe = Modelica.Fluid.Pipes.DynamicPipe(nNodes=1,modelStructure=Types.ModelStructure.a_v_b);</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Sources.Boundary_pT</A> source(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    p=5.0e5,
    T=300);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe1(
    use_T_start=true,
    length=10,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe2(
    use_T_start=true,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    length=0.5,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe3(
    use_T_start=true,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    length=0.5,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe4(
    use_T_start=true,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    length=2,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe6(
    use_T_start=true,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    length=20,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveIncompressible"
>Modelica.Fluid.Valves.ValveIncompressible</A> valve1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    CvData=Modelica.Fluid.Types.CvTypes.OpPoint,
    m_flow_nominal=1,
    rho_nominal=1000,
    dp_nominal=30000);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveIncompressible"
>Modelica.Fluid.Valves.ValveIncompressible</A> valve2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    CvData=Modelica.Fluid.Types.CvTypes.OpPoint,
    m_flow_nominal=1,
    rho_nominal=1000,
    dp_nominal=30000);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe7(
    use_T_start=true,
    length=10,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveIncompressible"
>Modelica.Fluid.Valves.ValveIncompressible</A> valve3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    CvData=Modelica.Fluid.Types.CvTypes.OpPoint,
    m_flow_nominal=1,
    rho_nominal=1000,
    dp_nominal=30000);
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Sources.Boundary_pT</A> sink(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    T=300,
    p=1.0e5);
  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> valveOpening1(
    height=-0.2,
    offset=1,
    startTime=1);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> valveOpening2(
    height=-0.2,
    offset=1,
    startTime=2);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</A> valveOpening3(
    height=-0.2,
    offset=1,
    startTime=3);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe8(
    use_T_start=true,
    length=10,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe9(
    use_T_start=true,
    length=10,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe10(
    use_T_start=true,
    length=10,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);
  <A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"
>Pipe</A> pipe5(
    use_T_start=true,
    diameter=2.5e-2,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    length=20,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.TurbulentPipeFlow</A>,
    p_a_start=500000);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(source.ports[1], pipe1.port_a);
  <font color="red">connect</font>(pipe1.port_b, pipe3.port_a);
  <font color="red">connect</font>(pipe1.port_b, pipe2.port_a);
  <font color="red">connect</font>(pipe2.port_b, valve1.port_a);
  <font color="red">connect</font>(valve2.port_b, pipe4.port_a);
  <font color="red">connect</font>(pipe3.port_b, valve2.port_a);
  <font color="red">connect</font>(valve1.port_b, pipe7.port_a);
  <font color="red">connect</font>(pipe6.port_b, valve3.port_a);
  <font color="red">connect</font>(valve3.port_b, sink.ports[1]);
  <font color="red">connect</font>(valveOpening1.y, valve1.opening);
  <font color="red">connect</font>(valveOpening2.y, valve2.opening);
  <font color="red">connect</font>(valveOpening3.y, valve3.opening);
  <font color="red">connect</font>(pipe7.port_b, pipe9.port_a);
  <font color="red">connect</font>(pipe7.port_b, pipe8.port_a);
  <font color="red">connect</font>(pipe9.port_b, valve3.port_a);
  <font color="red">connect</font>(pipe8.port_b, pipe10.port_a);
  <font color="red">connect</font>(pipe10.port_b, valve3.port_a);
  <font color="red">connect</font>(pipe4.port_b, pipe6.port_a);
  <font color="red">connect</font>(pipe8.port_b, pipe4.port_b);
  <font color="red">connect</font>(pipe5.port_a, pipe4.port_b);
  <font color="red">connect</font>(pipe5.port_b, valve3.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>IncompressibleFluidNetwork;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BranchingDynamicPipes<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.PumpingSystemI.png" ALT="Modelica.Fluid.Examples.BranchingDynamicPipes" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.BranchingDynamicPipes"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples"
>Modelica.Fluid.Examples</A>.BranchingDynamicPipes</H2>
<B>Multi-way connections of pipes with dynamic momentum balance, pressure wave and flow reversal</B><p>
<IMG SRC="Modelica.Fluid.Examples.BranchingDynamicPipesD.png" ALT="Modelica.Fluid.Examples.BranchingDynamicPipes">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
This model demonstrates the use of distributed pipe models with dynamic energy, mass and momentum balances.
At time=2s the pressure of boundary4 jumps, which causes a pressure wave and flow reversal.
</p>
<p>
Change system.momentumDynamics on the Assumptions tab of the system object from DynamicFreeInitial to SteadyState,
in order to assume a steady-state momentum balance. This is the default for all models of the library.
</p>
<p>
Change the Medium from MoistAir to StandardWater, in order to investigate a medium with significantly different density.
Note the static head caused by the elevation of the pipes.
</p>

<p>
Note, pipe4.modelStructure = av_b, i.e., the pipe has no volume at port_b.
It is not possible to have a volume at port_b, since otherwise the pressure of the volume is
defined by the connected boundary source. This in turn means that the
derivative of the pressure of the boundary source is needed, since the volume
requires this derivative. It is, however, not possible to compute this
derivative because the input pressure is changing disontinuously and its
derivative would be a dirac impulse.
</p>

<img src="../Resources/Images/Fluid/Examples/BranchingDynamicPipes.png" border="1">
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Air.MoistAir</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BranchingDynamicPipes <font color="darkgreen">
  &quot;Multi-way connections of pipes with dynamic momentum balance, pressure wave and flow reversal&quot;</font>
<font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
<font color="blue">replaceable </font><font color="blue">package</font> Medium=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>;
<font color="darkgreen">//replaceable package Medium=Modelica.Media.Water.StandardWater;</font>

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system(momentumDynamics=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial);
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> boundary1(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, p=150000);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A> pipe1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium=Medium,
    use_T_start=true,
    nNodes=5,
    diameter=2.54e-2,
    m_flow_start=0.02,
    height_ab=50,
    length=50,
    p_a_start=150000,
    p_b_start=130000);
 <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A> pipe2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_T_start=true,
    nNodes=5,
    <font color="blue">redeclare </font><font color="blue">model</font> HeatTransfer =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.LocalPipeFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.LocalPipeFlowHeatTransfer</A>,
    use_HeatTransfer=true,
    diameter=2.54e-2,
    m_flow_start=0.01,
    length=50,
    height_ab=25,
    p_a_start=130000,
    p_b_start=120000);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A> pipe3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium=Medium,
    use_T_start=true,
    nNodes=5,
    diameter=2.54e-2,
    m_flow_start=0.01,
    length=25,
    p_a_start=130000,
    p_b_start=120000,
    height_ab=25);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A> pipe4(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium=Medium,
    use_T_start=true,
    nNodes=5,
    modelStructure=Modelica.Fluid.Types.ModelStructure.av_b,
    diameter=2.54e-2,
    m_flow_start=0.02,
    p_a_start=120000,
    p_b_start=100000,
    height_ab=50,
    length=50);
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> boundary4(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    use_p_in=true,
    use_T_in=false,
    p=100000);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> ramp1(
    offset=1e5,
    duration=0,
    startTime=2,
    height=1e5);
  <A HREF="Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow</A>[
                                              pipe2.nNodes] heat2(Q_flow=200*
        pipe2.dxs);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ramp1.y, boundary4.p_in);
  <font color="red">connect</font>(boundary1.ports[1],pipe1. port_a);
  <font color="red">connect</font>(pipe1.port_b,pipe2. port_a);
  <font color="red">connect</font>(pipe1.port_b,pipe3. port_a);
  <font color="red">connect</font>(pipe2.port_b,pipe4. port_a);
  <font color="red">connect</font>(pipe3.port_b,pipe4. port_a);
  <font color="red">connect</font>(pipe4.port_b, boundary4.ports[1]);
  <font color="red">connect</font>(heat2.port,pipe2. heatPorts);</textblock>

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BranchingDynamicPipes;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InverseParameterization<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.PumpingSystemI.png" ALT="Modelica.Fluid.Examples.InverseParameterization" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.InverseParameterization"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples"
>Modelica.Fluid.Examples</A>.InverseParameterization</H2>
<B>Demonstrates the parameterization of a pump and a pipe for given nominal values</B><p>
<IMG SRC="Modelica.Fluid.Examples.InverseParameterizationD.png" ALT="Modelica.Fluid.Examples.InverseParameterization">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
A pump, an orifice and two pipes are parameterized with simple nominal values.
Note that pipe1 and pipe2 use the flowModel NominalTurbulentFlow and NominalLaminarFlow, respectively,
which do not require the specification of geometry data.
Instead pathLengths_nominal are obtained internally for given nominal pressure loss and nominal mass flow rate.
</p>
<p>
The pump controls a pressure ramp from 1.9 bar to 2.1 bar.
This causes an appropriate ramp on the mass flow rate of the orifice, which has a boundary pressure of 1 bar.
Flow reversal occurs in the pipes, which have a boundary pressure of 2 bar.
The Command plotResults can be used to see the pump speed N, which is controlled ideally to obtain the pressure ramp.
Moreover the internally obtained nominal design values that fulfill the nominal operating conditions as well as
the Reynolds number, m_flows_turbulent, and dps_fg_turbulent are plotted.
</p>
<p>
Note that the large value for pipe2.flowModel.pathLengths_nominal[1] is only meaningful under the made assumption of laminar flow,
 which is hardly possible for a real pipe.
</p>
<p>
Once the geometries have been designed, the NominalTurbulentPipeFlow correlations can easily be replaced with
TurbulentPipeFlow or DetailedPipeFlow correlations. Similarily the ControlledPump can be replaced with a PrescribedPump
to investigate a real controller or with a Pump with rotational shaft to investigate inertia effects.
</p>

<img src="../Resources/Images/Fluid/Examples/InverseParametrization.png" border="1">
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>Modelica.Media.Water.Standar...</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> InverseParameterization <font color="darkgreen">
  &quot;Demonstrates the parameterization of a pump and a pipe for given nominal values&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = Modelica.Media.Water.StandardWater;
  <font color="darkgreen">    //Modelica.Media.Water.ConstantPropertyLiquidWater;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> source(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    nPorts=1,
    use_p_in=false,
    p=100000);
  <A HREF="Modelica_Fluid_Machines.html#Modelica.Fluid.Machines.ControlledPump"
>Modelica.Fluid.Machines.ControlledPump</A> pump(
    m_flow_nominal=1,
    control_m_flow=false,
    use_p_set=true,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    p_a_nominal=100000,
    p_b_nominal=200000);
  <A HREF="Modelica_Fluid_Fittings.html#Modelica.Fluid.Fittings.SimpleGenericOrifice"
>Modelica.Fluid.Fittings.SimpleGenericOrifice</A> orifice(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    diameter=2.54e-2,
    m_flow_nominal=1,
    use_zeta=false,
    zeta=0,
    dp_nominal=100000);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> sink(nPorts=1,<font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, p=
        100000);</textblock>

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    diameter=2.54e-2,
    length=0,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.NominalTurbulentPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.NominalTurbulentPipeFlow</A> (
        m_flow_nominal=1,
        show_Res=true,
        dp_nominal=100000));
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> sink1(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, p=200000);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</A> p_set(
    height=0.2e5,
    offset=1.9e5,
    duration=8,
    startTime=1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    diameter=2.54e-2,
    length=1000,
    <font color="blue">redeclare </font><font color="blue">model</font> FlowModel =
        <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.NominalLaminarFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.NominalLaminarFlow</A> (
        show_Res=true,
        dp_nominal=100000,
        m_flow_nominal=1));
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> sink2(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium, p=200000);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(orifice.port_b, sink.ports[1]);
  <font color="red">connect</font>(source.ports[1], pump.port_a);
  <font color="red">connect</font>(pump.port_b, orifice.port_a);
  <font color="red">connect</font>(pipe1.port_b, sink1.ports[1]);
  <font color="red">connect</font>(pipe1.port_a, pump.port_b);
  <font color="red">connect</font>(p_set.y, pump.p_set);
  <font color="red">connect</font>(pipe2.port_b, sink2.ports[1]);</textblock>

<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(pump.port_b, pipe2.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>InverseParameterization;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Pipe<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.IncompressibleFluidNetwork.PipeI.png" ALT="Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe"></A><A HREF="Modelica_Fluid_Examples.html#Modelica.Fluid.Examples.IncompressibleFluidNetwork"
>Modelica.Fluid.Examples.IncompressibleFluidNetwork</A>.Pipe</H2>
<IMG SRC="Modelica.Fluid.Examples.IncompressibleFluidNetwork.PipeD.png" ALT="Modelica.Fluid.Examples.IncompressibleFluidNetwork.Pipe">
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</TD></TR>
<TR><TD>Real</TD><TD>nParallel</TD><TD>1</TD><TD>Number of identical parallel pipes</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>length</TD><TD>&nbsp;</TD><TD>Length [m]</TD></TR>
<TR><TD>Boolean</TD><TD>isCircular</TD><TD>true</TD><TD>= true if cross sectional area is circular</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Diameter"
>Diameter</A></TD><TD>diameter</TD><TD>&nbsp;</TD><TD>Diameter of circular pipe [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>crossArea</TD><TD>Modelica.Constants.pi*diamet...</TD><TD>Inner cross section area [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>perimeter</TD><TD>Modelica.Constants.pi*diameter</TD><TD>Inner perimeter [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Height"
>Height</A></TD><TD>roughness</TD><TD>2.5e-5</TD><TD>Average height of surface asperities (default: smooth steel pipe) [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Static head</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>height_ab</TD><TD>0</TD><TD>Height(port_b) - Height(port_a) [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Pressure loss</TD></TR>
<TR><TD colspan="2">replaceable model FlowModel</TD><TD><A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>DetailedPipeFlow</A></TD><TD>Wall friction, gravity, momentum flow</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Dynamics</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>system.energyDynamics</TD><TD>Formulation of energy balances</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>system.massDynamics</TD><TD>Formulation of mass balances</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>momentumDynamics</TD><TD>system.momentumDynamics</TD><TD>Formulation of momentum balances</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Heat transfer</TD></TR>
<TR><TD>Boolean</TD><TD>use_HeatTransfer</TD><TD>false</TD><TD>= true to use the HeatTransfer model</TD></TR>
<TR><TD colspan="2">replaceable model HeatTransfer</TD><TD><A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>IdealFlowHeatTransfer</A></TD><TD>Wall heat transfer</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_a_start</TD><TD>system.p_start</TD><TD>Start value of pressure at port a [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_b_start</TD><TD>p_a_start</TD><TD>Start value of pressure at port b [Pa]</TD></TR>
<TR><TD>Boolean</TD><TD>use_T_start</TD><TD>true</TD><TD>Use T_start if true, otherwise h_start</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T_start</TD><TD>if use_T_start then system.T...</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_start</TD><TD>if use_T_start then Medium.s...</TD><TD>Start value of specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_start[Medium.nX]</TD><TD>Medium.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A></TD><TD>C_start[Medium.nC]</TD><TD>fill(0, Medium.nC)</TD><TD>Start value of trace substances</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_start</TD><TD>system.m_flow_start</TD><TD>Start value for mass flow rate [kg/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Integer</TD><TD>nNodes</TD><TD>2</TD><TD>Number of discrete flow volumes</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.ModelStructure"
>ModelStructure</A></TD><TD>modelStructure</TD><TD>Types.ModelStructure.av_vb</TD><TD>Determines whether flow or volume models are present at the ports</TD></TR>
<TR><TD>Boolean</TD><TD>useLumpedPressure</TD><TD>false</TD><TD>=true to lump pressure states together</TD></TR>
<TR><TD>Boolean</TD><TD>useInnerPortProperties</TD><TD>false</TD><TD>=true to take port properties for flow models from internal control volumes</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a</TD><TD>Fluid connector a (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b</TD><TD>Fluid connector b (positive design flow direction is from port_a to port_b)</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.HeatPorts_a"
>HeatPorts_a</A></TD><TD>heatPorts[nNodes]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Pipe = <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A>;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:30:54 2010.
</address></BODY>
</HTML>
