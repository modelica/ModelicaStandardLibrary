<HTML>
<HEAD>
<TITLE>Modelica.StateGraph</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Library of hierarchical state machine components to model discrete event and reactive systems&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE StateGraph<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.StateGraph"></A><A HREF="Modelica.html#Modelica"
>Modelica</A>.StateGraph</H2>
<B>Library of hierarchical state machine components to model discrete event and reactive systems</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
Note, there is a much improved version of this library called
"Modelica_StateGraph2". If this library is not yet distributed with your
Modelica tool, you can download it from
<a href="http://www.modelica.org/libraries/Modelica_StateGraph2">http://www.modelica.org/libraries/Modelica_StateGraph2</a>.
In the
<A HREF="Modelica_StateGraph_UsersGuide.html#Modelica.StateGraph.UsersGuide.ComparisonWithStateGraph2"
>Users Guide</a>
a detailed comparison is given. It is highly recommended to use Modelica_StateGraph2 instead
of Modelica.StateGraph.
</p>

<p>
Library <b>StateGraph</b> is a <b>free</b> Modelica package providing
components to model <b>discrete event</b> and <b>reactive</b>
systems in a convenient
way. It is based on the JGraphChart method and
takes advantage of Modelica features for
the "action" language. JGraphChart is a further development of
Grafcet to include elements of StateCharts that are not present
in Grafcet/Sequential Function Charts. Therefore, the StateGraph
library has a similar modeling power as StateCharts but avoids
some deficiences of StateCharts.
</p>
<p>
For an introduction, have especially a look at:
</p>
<ul>
<li> <A HREF="Modelica_StateGraph_UsersGuide.html#Modelica.StateGraph.UsersGuide"
>StateGraph.UsersGuide</a>
     discusses the most important aspects how to use this library.</li>
<li> <A HREF="Modelica_StateGraph_Examples.html#Modelica.StateGraph.Examples"
>StateGraph.Examples</a>
     contains examples that demonstrate the usage of this library.</li>
</ul>
<p>
A typical model generated with this library is shown
in the next figure where on the left hand side a two-tank
system with a tank controller and on the right hand side the
top-level part of the tank controller as a StateGraph is shown:
</p>

<img src="../Resources/Images/StateGraph/Examples/ControlledTanks1_small.png">

<img src="../Resources/Images/StateGraph/Examples/ControlledTanks2_small.png">

<p>
The unique feature of the StateGraph library with respect to JGraphCharts,
Grafcet, Sequential Function Charts, and StateCharts, is Modelica's
"single assignment rule" that requires that every variable is defined
by exactly one equation. This leads to a different "action" definition
as in these formalisms. The advantage is that the translator can either
determine a useful evaluation sequence by equation sorting or
reports an error if this is not possible, e.g., because a model
would lead to a non-determinism or to a dead-lock. As a side effect,
this leads also to simpler and more easier to understand models and
global variables are no longer needed (whereas in JGraphCharts,
Grafcet, Sequential Function Charts and StateCharts global variables
are nearly always needed).
</p>

<p>
Copyright &copy; 1998-2010, Modelica Association and DLR
</p>
<p>
<i>This Modelica package is <u>free</u> software and the use is completely at <u>your own risk</u>; it can be redistributed and/or modified under the terms of the Modelica License 2. For license conditions (including the disclaimer of warranty) see <A HREF="Modelica_UsersGuide.html#Modelica.UsersGuide.ModelicaLicense2"
>Modelica.UsersGuide.ModelicaLicense2</a> or visit <a href="http://www.modelica.org/licenses/ModelicaLicense2"> http://www.modelica.org/licenses/ModelicaLicense2</a>.</i>
</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.UsersGuideS.png" ALT="Modelica.StateGraph.UsersGuide" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph_UsersGuide.html#Modelica.StateGraph.UsersGuide"
>UsersGuide</A>
</TD><TD>User&#39;s Guide of StateGraph Library</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.ExamplesS.png" ALT="Modelica.StateGraph.Examples" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph_Examples.html#Modelica.StateGraph.Examples"
>Examples</A>
</TD><TD>Examples to demonstrate the usage of the components of the StateGraph library</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.InterfacesS.png" ALT="Modelica.StateGraph.Interfaces" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces"
>Interfaces</A>
</TD><TD>Connectors and partial models</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.InitialStepS.png" ALT="Modelica.StateGraph.InitialStep" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.InitialStep"
>InitialStep</A>
</TD><TD>Initial step (= step that is active when simulation starts)</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.InitialStepWithSignalS.png" ALT="Modelica.StateGraph.InitialStepWithSignal" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.InitialStepWithSignal"
>InitialStepWithSignal</A>
</TD><TD>Initial step (= step that is active when simulation starts). Connector &#39;active&#39; is true when the step is active</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.StepS.png" ALT="Modelica.StateGraph.Step" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Step"
>Step</A>
</TD><TD>Ordinary step (= step that is not active when simulation starts)</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.StepWithSignalS.png" ALT="Modelica.StateGraph.StepWithSignal" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.StepWithSignal"
>StepWithSignal</A>
</TD><TD>Ordinary step (= step that is not active when simulation starts). Connector &#39;active&#39; is true when the step is active</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.TransitionS.png" ALT="Modelica.StateGraph.Transition" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Transition"
>Transition</A>
</TD><TD>Transition where the fire condition is set by a modification of variable condition</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.TransitionWithSignalS.png" ALT="Modelica.StateGraph.TransitionWithSignal" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.TransitionWithSignal"
>TransitionWithSignal</A>
</TD><TD>Transition where the fire condition is set by a Boolean input signal</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.AlternativeS.png" ALT="Modelica.StateGraph.Alternative" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative"
>Alternative</A>
</TD><TD>Alternative splitting of execution path (use component between two steps)</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.ParallelS.png" ALT="Modelica.StateGraph.Parallel" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel"
>Parallel</A>
</TD><TD>Parallel splitting of execution path (use component between two transitions)</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.PartialCompositeStepS.png" ALT="Modelica.StateGraph.PartialCompositeStep" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep"
>PartialCompositeStep</A>
</TD><TD>Superclass of a subgraph, i.e., a composite step that has internally a StateGraph</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.StateGraphRootS.png" ALT="Modelica.StateGraph.StateGraphRoot" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph.html#Modelica.StateGraph.StateGraphRoot"
>StateGraphRoot</A>
</TD><TD>Root of a StateGraph (has to be present on the highest level of a StateGraph)</TD></TR>
<TR><TD><IMG SRC="Modelica.StateGraph.TemporaryS.png" ALT="Modelica.StateGraph.Temporary" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_StateGraph_Temporary.html#Modelica.StateGraph.Temporary"
>Temporary</A>
</TD><TD>Components that will be provided by other libraries in the future</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InitialStep<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.InitialStepI.png" ALT="Modelica.StateGraph.InitialStep" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.InitialStep"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.InitialStep</H2>
<B>Initial step (= step that is active when simulation starts)</B><p>
<IMG SRC="Modelica.StateGraph.InitialStepD.png" ALT="Modelica.StateGraph.InitialStep">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A> (Partial step with one input and one output transition port).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nIn</TD><TD>1</TD><TD>Number of input connections</TD></TR>
<TR><TD>Integer</TD><TD>nOut</TD><TD>1</TD><TD>Number of output connections</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</A></TD><TD>inPort[nIn]</TD><TD>Vector of step input connectors</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</A></TD><TD>outPort[nOut]</TD><TD>Vector of step output connectors</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> InitialStep <font color="darkgreen">
  &quot;Initial step (= step that is active when simulation starts)&quot;</font>

  <font color="blue">output </font>Boolean active <font color="darkgreen">
    &quot;= true if step is active, otherwise the step is not active&quot;</font>;

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A>;

<font color="blue">initial </font><font color="blue">equation </font>
  active = true;
<font color="blue">equation </font>
  active = localActive;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>InitialStep;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InitialStepWithSignal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.InitialStepWithSignalI.png" ALT="Modelica.StateGraph.InitialStepWithSignal" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.InitialStepWithSignal"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.InitialStepWithSignal</H2>
<B>Initial step (= step that is active when simulation starts). Connector &#39;active&#39; is true when the step is active</B><p>
<IMG SRC="Modelica.StateGraph.InitialStepWithSignalD.png" ALT="Modelica.StateGraph.InitialStepWithSignal">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A> (Partial step with one input and one output transition port).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nIn</TD><TD>1</TD><TD>Number of input connections</TD></TR>
<TR><TD>Integer</TD><TD>nOut</TD><TD>1</TD><TD>Number of output connections</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</A></TD><TD>inPort[nIn]</TD><TD>Vector of step input connectors</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</A></TD><TD>outPort[nOut]</TD><TD>Vector of step output connectors</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>active</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> InitialStepWithSignal <font color="darkgreen">
  &quot;Initial step (= step that is active when simulation starts). Connector &#39;active&#39; is true when the step is active&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</A> active;</textblock>
<font color="blue">initial </font><font color="blue">equation </font>
  active = true;
<font color="blue">equation </font>
  active = localActive;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>InitialStepWithSignal;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Step<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.StepI.png" ALT="Modelica.StateGraph.Step" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Step"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.Step</H2>
<B>Ordinary step (= step that is not active when simulation starts)</B><p>
<IMG SRC="Modelica.StateGraph.StepD.png" ALT="Modelica.StateGraph.Step">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A> (Partial step with one input and one output transition port).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nIn</TD><TD>1</TD><TD>Number of input connections</TD></TR>
<TR><TD>Integer</TD><TD>nOut</TD><TD>1</TD><TD>Number of output connections</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</A></TD><TD>inPort[nIn]</TD><TD>Vector of step input connectors</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</A></TD><TD>outPort[nOut]</TD><TD>Vector of step output connectors</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Step <font color="darkgreen">
  &quot;Ordinary step (= step that is not active when simulation starts)&quot;</font>

  <font color="blue">output </font>Boolean active <font color="darkgreen">
    &quot;= true if step is active, otherwise the step is not active&quot;</font>;

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A>;

<font color="blue">initial </font><font color="blue">equation </font>
  active = false;
<font color="blue">equation </font>
  active = localActive;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Step;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE StepWithSignal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.StepWithSignalI.png" ALT="Modelica.StateGraph.StepWithSignal" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.StepWithSignal"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.StepWithSignal</H2>
<B>Ordinary step (= step that is not active when simulation starts). Connector &#39;active&#39; is true when the step is active</B><p>
<IMG SRC="Modelica.StateGraph.StepWithSignalD.png" ALT="Modelica.StateGraph.StepWithSignal">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A> (Partial step with one input and one output transition port).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nIn</TD><TD>1</TD><TD>Number of input connections</TD></TR>
<TR><TD>Integer</TD><TD>nOut</TD><TD>1</TD><TD>Number of output connections</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</A></TD><TD>inPort[nIn]</TD><TD>Vector of step input connectors</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</A></TD><TD>outPort[nOut]</TD><TD>Vector of step output connectors</TD></TR>
<TR><TD>output <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</A></TD><TD>active</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> StepWithSignal <font color="darkgreen">
  &quot;Ordinary step (= step that is not active when simulation starts). Connector &#39;active&#39; is true when the step is active&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialStep"
>Interfaces.PartialStep</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>Modelica.Blocks.Interfaces.BooleanOutput</A> active;</textblock>
<font color="blue">initial </font><font color="blue">equation </font>
  active = false;
<font color="blue">equation </font>
  active = localActive;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>StepWithSignal;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Transition<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.TransitionI.png" ALT="Modelica.StateGraph.Transition" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Transition"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.Transition</H2>
<B>Transition where the fire condition is set by a modification of variable condition</B><p>
<IMG SRC="Modelica.StateGraph.TransitionD.png" ALT="Modelica.StateGraph.Transition">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialTransition"
>Interfaces.PartialTransition</A> (Partial transition with input and output connections).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>localCondition</TD><TD>condition</TD><TD>= true, if transition may fire</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fire condition</TD></TR>
<TR><TD>Boolean</TD><TD>condition</TD><TD>true</TD><TD>= true, if transition may fire (time varying expression)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Timer</TD></TR>
<TR><TD>Boolean</TD><TD>enableTimer</TD><TD>false</TD><TD>= true, if timer is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>waitTime</TD><TD>0</TD><TD>Wait time before transition fires [s]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_in"
>Transition_in</A></TD><TD>inPort</TD><TD>Vector of transition input connectors</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_out"
>Transition_out</A></TD><TD>outPort</TD><TD>Vector of transition output connectors</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Transition <font color="darkgreen">
  &quot;Transition where the fire condition is set by a modification of variable condition&quot;</font>

  <font color="blue">input </font>Boolean condition=true <font color="darkgreen">
    &quot;= true, if transition may fire (time varying expression)&quot;</font>;

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialTransition"
>Interfaces.PartialTransition</A>(<font color="blue">final </font>localCondition=condition);

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>Transition;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TransitionWithSignal<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.TransitionWithSignalI.png" ALT="Modelica.StateGraph.TransitionWithSignal" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.TransitionWithSignal"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.TransitionWithSignal</H2>
<B>Transition where the fire condition is set by a Boolean input signal</B><p>
<IMG SRC="Modelica.StateGraph.TransitionWithSignalD.png" ALT="Modelica.StateGraph.TransitionWithSignal">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialTransition"
>Interfaces.PartialTransition</A> (Partial transition with input and output connections).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>localCondition</TD><TD>condition</TD><TD>= true, if transition may fire</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Timer</TD></TR>
<TR><TD>Boolean</TD><TD>enableTimer</TD><TD>false</TD><TD>= true, if timer is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>waitTime</TD><TD>0</TD><TD>Wait time before transition fires [s]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput"
>BooleanInput</A></TD><TD>condition</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_in"
>Transition_in</A></TD><TD>inPort</TD><TD>Vector of transition input connectors</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_out"
>Transition_out</A></TD><TD>outPort</TD><TD>Vector of transition output connectors</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> TransitionWithSignal <font color="darkgreen">
  &quot;Transition where the fire condition is set by a Boolean input signal&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanInput"
>Modelica.Blocks.Interfaces.BooleanInput</A> condition;</textblock>

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.PartialTransition"
>Interfaces.PartialTransition</A>(<font color="blue">final </font>localCondition=condition);

<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>TransitionWithSignal;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Alternative<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.AlternativeI.png" ALT="Modelica.StateGraph.Alternative" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Alternative"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.Alternative</H2>
<B>Alternative splitting of execution path (use component between two steps)</B><p>
<IMG SRC="Modelica.StateGraph.AlternativeD.png" ALT="Modelica.StateGraph.Alternative">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nBranches</TD><TD>2</TD><TD>Number of alternative branches</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_in"
>Transition_in</A></TD><TD>inPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_out"
>Transition_out</A></TD><TD>outPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative.Step_in_forAlternative"
>Step_in_forAlternative</A></TD><TD>join[nBranches]</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative.Step_out_forAlternative"
>Step_out_forAlternative</A></TD><TD>split[nBranches]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Alternative <font color="darkgreen">
  &quot;Alternative splitting of execution path (use component between two steps)&quot;</font>

  <font color="blue">parameter </font>Integer nBranches(min=1)=2 <font color="darkgreen">&quot;Number of alternative branches&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_in"
>Interfaces.Transition_in</A> inPort;
  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Transition_out"
>Interfaces.Transition_out</A> outPort;
  <A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative.Step_in_forAlternative"
>Step_in_forAlternative</A> join[nBranches];
  <A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative.Step_out_forAlternative"
>Step_out_forAlternative</A> split[nBranches];</textblock>

<font color="blue">protected </font>
<textblock type="model" expanded="false" path="Modelica.StateGraph.Alternative.Step_in_forAlternative"><font color="blue">connector</font> Step_in_forAlternative <font color="darkgreen">
    &quot;Input port of a step (has special icon for usage in component &#39;Alternative&#39;)&quot;</font>

  <font color="blue">output </font>Boolean occupied <font color="darkgreen">&quot;true, if step is active&quot;</font>;
  <font color="blue">input </font>Boolean set <font color="darkgreen">&quot;true, if transition fires and step is activated&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Step_in_forAlternative</textblock>;

<textblock type="model" expanded="false" path="Modelica.StateGraph.Alternative.Step_out_forAlternative"><font color="blue">connector</font> Step_out_forAlternative <font color="darkgreen">
    &quot;Output port of a step (has special icon for usage in component &#39;Alternative&#39;)&quot;</font>

  <font color="blue">output </font>Boolean available <font color="darkgreen">&quot;true, if step is active&quot;</font>;
  <font color="blue">input </font>Boolean reset <font color="darkgreen">&quot;true, if transition fires and step is deactivated&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Step_out_forAlternative</textblock>;

<font color="blue">equation </font>
  <font color="darkgreen">// Check connections of connectors</font>

  <font color="red">assert</font>(<font color="red">cardinality</font>(inPort) == 1,
    &quot;Connector inPort is not connected to exactly one other connector&quot;);

  <font color="red">assert</font>(<font color="red">cardinality</font>(outPort) == 1,
    &quot;Connector outPort is not connected to exactly one other connector&quot;);

  <font color="blue">for </font>i<font color="blue"> in </font>1:nBranches<font color="blue"> loop</font>

    <font color="red"> assert</font>(<font color="red">cardinality</font>(split[i]) == 1,
       &quot;Connector is not connected to exactly one other connector&quot;);

    <font color="red"> assert</font>(<font color="red">cardinality</font>(join[i]) == 1,
       &quot;Connector is not connected to exactly one other connector&quot;);

  <font color="blue">end for</font>;

  <font color="darkgreen">// Propagate flags between the connectors</font>

  <font color="blue">for </font>i<font color="blue"> in </font>1:nBranches<font color="blue"> loop</font>
     split[i].available = <font color="blue">if </font>i==1<font color="blue"> then </font>inPort.available<font color="blue"> else </font>
                                       split[i-1].available<font color="blue"> and </font><font color="blue">not </font>split[i-1].reset;

  <font color="blue">end for</font>;
  join.occupied =<font color="red"> fill</font>(outPort.occupied, nBranches);
  inPort.reset  =<font color="red"> StateGraph.Temporary.anyTrue</font>(split.reset);
  outPort.set   =<font color="red"> StateGraph.Temporary.anyTrue</font>(join.set);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Alternative;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Parallel<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.ParallelI.png" ALT="Modelica.StateGraph.Parallel" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Parallel"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.Parallel</H2>
<B>Parallel splitting of execution path (use component between two transitions)</B><p>
<IMG SRC="Modelica.StateGraph.ParallelD.png" ALT="Modelica.StateGraph.Parallel">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nBranches</TD><TD>2</TD><TD>Number of parallel branches that are executed in parallel</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</A></TD><TD>inPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</A></TD><TD>outPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel.Transition_in_forParallel"
>Transition_in_forParallel</A></TD><TD>join[nBranches]</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel.Transition_out_forParallel"
>Transition_out_forParallel</A></TD><TD>split[nBranches]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> Parallel <font color="darkgreen">
  &quot;Parallel splitting of execution path (use component between two transitions)&quot;</font>

  <font color="blue">parameter </font>Integer nBranches(min=1)=2 <font color="darkgreen">
    &quot;Number of parallel branches that are executed in parallel&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Interfaces.Step_in</A> inPort;
  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Interfaces.Step_out</A> outPort;
  <A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel.Transition_in_forParallel"
>Transition_in_forParallel</A> join[nBranches];
  <A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel.Transition_out_forParallel"
>Transition_out_forParallel</A> split[nBranches];</textblock>

<font color="blue">protected </font>
<textblock type="model" expanded="false" path="Modelica.StateGraph.Parallel.Transition_in_forParallel"><font color="blue">connector</font> Transition_in_forParallel <font color="darkgreen">
    &quot;Input port of a transition (has special icon for usage in component &#39;Parallel&#39;)&quot;</font>

  <font color="blue">input </font>Boolean available <font color="darkgreen">
      &quot;true, if step connected to the transition input is active&quot;</font>;
  <font color="blue">output </font>Boolean reset <font color="darkgreen">
      &quot;true, if transition fires and the step connected to the transition input is deactivated&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Transition_in_forParallel</textblock>;

<textblock type="model" expanded="false" path="Modelica.StateGraph.Parallel.Transition_out_forParallel"><font color="blue">connector</font> Transition_out_forParallel <font color="darkgreen">
    &quot;Output port of a transition (has special icon for usage in component &#39;Parallel&#39;)&quot;</font>

  <font color="blue">input </font>Boolean occupied <font color="darkgreen">
      &quot;true, if step connected to the transition output is active&quot;</font>;
  <font color="blue">output </font>Boolean set <font color="darkgreen">
      &quot;true, if transition fires and step connected to the transition output becomes active&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Transition_out_forParallel</textblock>;

<font color="blue">equation </font>
  <font color="darkgreen">// Check connections of connectors</font>

  <font color="red">assert</font>(<font color="red">cardinality</font>(inPort) == 1,
    &quot;Connector inPort is not connected to exactly one other connector&quot;);

  <font color="red">assert</font>(<font color="red">cardinality</font>(outPort) == 1,
    &quot;Connector outPort is not connected to exactly one other connector&quot;);

  <font color="blue">for </font>i<font color="blue"> in </font>1:nBranches<font color="blue"> loop</font>

    <font color="red"> assert</font>(<font color="red">cardinality</font>(split[i]) == 1,
       &quot;Connector is not connected to exactly one other connector&quot;);

    <font color="red"> assert</font>(<font color="red">cardinality</font>(join[i]) == 1,
       &quot;Connector is not connected to exactly one other connector&quot;);

  <font color="blue">end for</font>;

  <font color="darkgreen">// Propagate flags between the connectors</font>
  split.set  =<font color="red"> fill</font>(inPort.set, nBranches);
  join.reset =<font color="red"> fill</font>(outPort.reset, nBranches);
  inPort.occupied   =<font color="red"> StateGraph.Temporary.anyTrue</font>(split.occupied);
  outPort.available =<font color="red"> StateGraph.Temporary.allTrue</font>(join.available);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Parallel;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PartialCompositeStep<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.PartialCompositeStepI.png" ALT="Modelica.StateGraph.PartialCompositeStep" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.PartialCompositeStep"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.PartialCompositeStep</H2>
<B>Superclass of a subgraph, i.e., a composite step that has internally a StateGraph</B><p>
<IMG SRC="Modelica.StateGraph.PartialCompositeStepD.png" ALT="Modelica.StateGraph.PartialCompositeStep">
<P><H3>Information</H3></P>
<PRE></pre>

<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Exception connections</TD></TR>
<TR><TD>Integer</TD><TD>nSuspend</TD><TD>1</TD><TD>Number of suspend ports</TD></TR>
<TR><TD>Integer</TD><TD>nResume</TD><TD>1</TD><TD>Number of resume ports</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</A></TD><TD>inPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</A></TD><TD>outPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_suspend"
>CompositeStep_suspend</A></TD><TD>suspend[nSuspend]</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_resume"
>CompositeStep_resume</A></TD><TD>resume[nResume]</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">partial </font><font color="blue">model</font> PartialCompositeStep <font color="darkgreen">
  &quot;Superclass of a subgraph, i.e., a composite step that has internally a StateGraph&quot;</font>

  <font color="blue">parameter </font>Integer nSuspend = 1 <font color="darkgreen">&quot;Number of suspend ports&quot;</font>;
  <font color="blue">parameter </font>Integer nResume = 1 <font color="darkgreen">&quot;Number of resume ports&quot;</font>;

  <font color="darkgreen">/* The modification of stateGraphRoot is with respect to the &quot;inner&quot;
     definition, i.e., it is reported to all components that are
     within the CompositeStep
  */</font>
  <font color="blue">inner </font><font color="blue">outer </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepState"
>StateGraph.Interfaces.CompositeStepState</A> stateGraphRoot(
                  suspend =<font color="red"> StateGraph.Temporary.anyTrue</font>(suspend.reset)<font color="blue"> or </font>outerState.subgraphStatePort.suspend,
                  resume =<font color="red">  StateGraph.Temporary.anyTrue</font>(resume.set)<font color="blue"> or </font>outerState.subgraphStatePort.resume) <font color="darkgreen">
    &quot;Communication port between the CompositeStep and the steps within the CompositeStep&quot;</font>;
  <font color="blue">output </font>Boolean active <font color="darkgreen">
    &quot;= true if step is active, otherwise the step is not active&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>StateGraph.Interfaces.Step_in</A> inPort;
  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>StateGraph.Interfaces.Step_out</A> outPort;
  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_suspend"
>StateGraph.Interfaces.CompositeStep_suspend</A> suspend[nSuspend];
  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStep_resume"
>StateGraph.Interfaces.CompositeStep_resume</A> resume[nResume];</textblock>

  <textblock type="model" expanded="false" path="Modelica.StateGraph.PartialCompositeStep.OuterState"><font color="blue">model</font> OuterState <font color="darkgreen">
    &quot;Block containing the port that is connected to the outer stateGraphRoot&quot;</font>
    <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepStatePort_in"
>Interfaces.CompositeStepStatePort_in</A> subgraphStatePort <font color="darkgreen">
      &quot;Port connected to outer stateGraphRoot&quot;</font>;
  <font color="blue">end </font>OuterState</textblock>;
  <A HREF="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep.OuterState"
>OuterState</A> outerState;

<font color="blue">protected </font>
  <textblock type="model" expanded="false" path="Modelica.StateGraph.PartialCompositeStep.InnerState"><font color="blue">model</font> InnerState
    <font color="blue">outer </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepState"
>Interfaces.CompositeStepState</A> stateGraphRoot;
  <font color="blue">end </font>InnerState</textblock>;
  <A HREF="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep.InnerState"
>InnerState</A> innerState;

  Boolean newActive <font color="darkgreen">&quot;Value of active in the next iteration&quot;</font>;
  Integer activeSteps <font color="darkgreen">&quot;Number of active steps within the CompositeStep&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>

  <font color="red">pre</font>(newActive) =<font color="red"> pre</font>(active);
<font color="blue">equation </font>
  <font color="darkgreen">// connect to outer CompositeStep</font>

  <font color="red">connect</font>(outerState.subgraphStatePort, stateGraphRoot.subgraphStatePort);
  outerState.subgraphStatePort.activeSteps = <font color="blue">if </font>active<font color="blue"> then </font>1.0<font color="blue"> else </font>0.0;

  <font color="darkgreen">// set active flag  of CompositeStep</font>
  activeSteps = -<font color="red">integer</font>(innerState.stateGraphRoot.subgraphStatePort.activeSteps);
  active =<font color="red"> pre</font>(newActive);

  <font color="darkgreen">/* The CompositeStep is active if
     - at least one step within the CompositeStep is active, and
     - the suspend transition does not fire, and
     - the suspend transition of a higher level CompositeStep does not fire or
     - no step within the CompositeStep is active, and
     - the resume transition fires or the resume transition of
       a higher level CompositeStep fires.
  */</font>
  <font color="darkgreen">// newActive = activeSteps &gt; 0 and not suspend.reset or resume.set;</font>
  newActive = activeSteps &gt; 0<font color="blue"> and </font><font color="blue">not </font><font color="red">StateGraph.Temporary.anyTrue</font>(suspend.reset)<font color="blue"> and </font><font color="blue">not </font>
              outerState.subgraphStatePort.suspend<font color="blue"> or </font>
              <font color="red">StateGraph.Temporary.anyTrue</font>(resume.set)<font color="blue"> or </font>outerState.subgraphStatePort.resume;

  <font color="darkgreen">// Report state to suspend and resume transitions</font>

  <font color="blue">for </font>i<font color="blue"> in </font>1:nResume<font color="blue"> loop</font>
    resume[i].occupied = <font color="blue">if </font>i == 1<font color="blue"> then </font>active<font color="blue"> else </font>
                                        resume[i-1].occupied<font color="blue"> or </font>
                                        resume[i-1].set;

  <font color="blue">end for</font>;

  <font color="blue">for </font>i<font color="blue"> in </font>1:nSuspend<font color="blue"> loop</font>
     suspend[i].available = <font color="blue">if </font>i == 1<font color="blue"> then </font>active<font color="blue"> else </font>
                                           suspend[i-1].available<font color="blue"> and </font><font color="blue">not </font>
                                           suspend[i-1].reset;

  <font color="blue">end for</font>;

  <font color="darkgreen">/* Check that connections to the connectors are correct
     and set appropriate defaults if necessary
  */</font>

  <font color="blue">for </font>i<font color="blue"> in </font>1:nSuspend<font color="blue"> loop</font>

  <font color="red">assert</font>(<font color="red">cardinality</font>(suspend[i]) &lt;= 1,
&quot;Connector suspend[&quot; +<font color="red"> String</font>(i) + &quot;] of the CompositeStep is connected
to more than one transition&quot;);

    <font color="blue">if </font><font color="red">cardinality</font>(suspend[i]) == 0<font color="blue"> then</font>
      suspend[i].reset = false;

    <font color="blue">end if</font>;

  <font color="blue">end for</font>;

  <font color="blue">for </font>i<font color="blue"> in </font>1:nResume<font color="blue"> loop</font>

  <font color="red">assert</font>(<font color="red">cardinality</font>(resume[i]) &lt;= 1,
&quot;Connector resume[&quot; +<font color="red"> String</font>(i) + &quot;] of the CompositeStep is connected
to more than one transition&quot;);

    <font color="blue">if </font><font color="red">cardinality</font>(resume[i]) == 0<font color="blue"> then</font>
      resume[i].set = false;

    <font color="blue">end if</font>;

  <font color="blue">end for</font>;

  <font color="darkgreen">/* Zero sized connectors are not yet fully supported in
     Dymola. This requires to set the dimension of the connector
     to 1, if it should have a dimension of zero. This requires
     to set the connector variables to a default value in this case
  */</font>

  <font color="blue">if </font><font color="red">cardinality</font>(inPort) &lt; 2<font color="blue"> then</font>
    inPort.occupied = false;
    inPort.set = false;

  <font color="blue">end if</font>;

  <font color="blue">if </font><font color="red">cardinality</font>(outPort) &lt; 2<font color="blue"> then</font>
    outPort.available = false;
    outPort.reset = false;

  <font color="blue">end if</font>;

  <font color="darkgreen">// Check inPort/outPort connections</font>

  <font color="red">assert</font>(<font color="red">cardinality</font>(inPort) &lt;= 2,
&quot;Connector inPort of the CompositeStep has more than 2 connections.
It should have only one connection from the outside to the
inPort and one connection to a step inside the CompositeStep.&quot;);

  <font color="red">assert</font>(<font color="red">cardinality</font>(outPort) &lt;= 2,
&quot;Connector outPort of the CompositeStep has more than 2 connections.
It should have only one connection from the outPort to the
outside to the CompositeStep and one connection from a step
inside the CompositeStep to the outPort connector.&quot;);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PartialCompositeStep;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE StateGraphRoot<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.StateGraphRootI.png" ALT="Modelica.StateGraph.StateGraphRoot" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.StateGraphRoot"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph"
>Modelica.StateGraph</A>.StateGraphRoot</H2>
<B>Root of a StateGraph (has to be present on the highest level of a StateGraph)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>
On the highest level of a StateGraph, an instance of StateGraphRoot
has to be present. If it is not within in a model, it is automatically
included by a Modelica translator due to an appropriate annotation.
Practically, this means that it need not be present in a
StateGraph model.
</p>
<p>
The StateGraphRoot object is needed, since all Step objects have
an "outer" reference to communicate with the "nearest" CompositeStep
(which inherits from PartialCompositeStep), especially to abort
a CompositeStep via the "suspend" port. Even if no "CompositeStep" is present,
on highest level a corresponding "inner" definition is needed
and is provided by the StateGraphRoot object.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepState"
>StateGraph.Interfaces.CompositeStepState</A> (Communication channel between CompositeSteps and steps in the CompositeStep).
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepStatePort_out"
>CompositeStepStatePort_out</A></TD><TD>subgraphStatePort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> StateGraphRoot <font color="darkgreen">
  &quot;Root of a StateGraph (has to be present on the highest level of a StateGraph)&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepState"
>StateGraph.Interfaces.CompositeStepState</A>;
  <font color="blue">output </font>Integer activeSteps <font color="darkgreen">&quot;Number of active steps within the stategraph&quot;</font>;

<font color="blue">equation </font>
  activeSteps = -<font color="red">integer</font>(subgraphStatePort.activeSteps);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>StateGraphRoot;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Step_in_forAlternative<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.Alternative.Step_in_forAlternativeI.png" ALT="Modelica.StateGraph.Alternative.Step_in_forAlternative" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Alternative.Step_in_forAlternative"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative"
>Modelica.StateGraph.Alternative</A>.Step_in_forAlternative</H2>
<B>Input port of a step (has special icon for usage in component &#39;Alternative&#39;)</B><p>
<IMG SRC="Modelica.StateGraph.Alternative.Step_in_forAlternativeD.png" ALT="Modelica.StateGraph.Alternative.Step_in_forAlternative">
<P><H3>Contents</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output Boolean</TD><TD>occupied</TD><TD>true, if step is active</TD></TR>
<TR><TD>input Boolean</TD><TD>set</TD><TD>true, if transition fires and step is activated</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Step_in_forAlternative <font color="darkgreen">
  &quot;Input port of a step (has special icon for usage in component &#39;Alternative&#39;)&quot;</font>

  <font color="blue">output </font>Boolean occupied <font color="darkgreen">&quot;true, if step is active&quot;</font>;
  <font color="blue">input </font>Boolean set <font color="darkgreen">&quot;true, if transition fires and step is activated&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Step_in_forAlternative;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Step_out_forAlternative<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.Alternative.Step_in_forAlternativeI.png" ALT="Modelica.StateGraph.Alternative.Step_out_forAlternative" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Alternative.Step_out_forAlternative"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Alternative"
>Modelica.StateGraph.Alternative</A>.Step_out_forAlternative</H2>
<B>Output port of a step (has special icon for usage in component &#39;Alternative&#39;)</B><p>
<IMG SRC="Modelica.StateGraph.Alternative.Step_in_forAlternativeD.png" ALT="Modelica.StateGraph.Alternative.Step_out_forAlternative">
<P><H3>Contents</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>output Boolean</TD><TD>available</TD><TD>true, if step is active</TD></TR>
<TR><TD>input Boolean</TD><TD>reset</TD><TD>true, if transition fires and step is deactivated</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Step_out_forAlternative <font color="darkgreen">
  &quot;Output port of a step (has special icon for usage in component &#39;Alternative&#39;)&quot;</font>

  <font color="blue">output </font>Boolean available <font color="darkgreen">&quot;true, if step is active&quot;</font>;
  <font color="blue">input </font>Boolean reset <font color="darkgreen">&quot;true, if transition fires and step is deactivated&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Step_out_forAlternative;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Transition_in_forParallel<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.Parallel.Transition_in_forParallelI.png" ALT="Modelica.StateGraph.Parallel.Transition_in_forParallel" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Parallel.Transition_in_forParallel"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel"
>Modelica.StateGraph.Parallel</A>.Transition_in_forParallel</H2>
<B>Input port of a transition (has special icon for usage in component &#39;Parallel&#39;)</B><p>
<IMG SRC="Modelica.StateGraph.Parallel.Transition_in_forParallelD.png" ALT="Modelica.StateGraph.Parallel.Transition_in_forParallel">
<P><H3>Contents</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input Boolean</TD><TD>available</TD><TD>true, if step connected to the transition input is active</TD></TR>
<TR><TD>output Boolean</TD><TD>reset</TD><TD>true, if transition fires and the step connected to the transition input is deactivated</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Transition_in_forParallel <font color="darkgreen">
  &quot;Input port of a transition (has special icon for usage in component &#39;Parallel&#39;)&quot;</font>

  <font color="blue">input </font>Boolean available <font color="darkgreen">
    &quot;true, if step connected to the transition input is active&quot;</font>;
  <font color="blue">output </font>Boolean reset <font color="darkgreen">
    &quot;true, if transition fires and the step connected to the transition input is deactivated&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Transition_in_forParallel;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Transition_out_forParallel<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.StateGraph.Parallel.Transition_in_forParallelI.png" ALT="Modelica.StateGraph.Parallel.Transition_out_forParallel" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.StateGraph.Parallel.Transition_out_forParallel"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.Parallel"
>Modelica.StateGraph.Parallel</A>.Transition_out_forParallel</H2>
<B>Output port of a transition (has special icon for usage in component &#39;Parallel&#39;)</B><p>
<IMG SRC="Modelica.StateGraph.Parallel.Transition_in_forParallelD.png" ALT="Modelica.StateGraph.Parallel.Transition_out_forParallel">
<P><H3>Contents</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input Boolean</TD><TD>occupied</TD><TD>true, if step connected to the transition output is active</TD></TR>
<TR><TD>output Boolean</TD><TD>set</TD><TD>true, if transition fires and step connected to the transition output becomes active</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">connector</font> Transition_out_forParallel <font color="darkgreen">
  &quot;Output port of a transition (has special icon for usage in component &#39;Parallel&#39;)&quot;</font>

  <font color="blue">input </font>Boolean occupied <font color="darkgreen">
    &quot;true, if step connected to the transition output is active&quot;</font>;
  <font color="blue">output </font>Boolean set <font color="darkgreen">
    &quot;true, if transition fires and step connected to the transition output becomes active&quot;</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Transition_out_forParallel;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE OuterState<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.StateGraph.PartialCompositeStep.OuterState"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep"
>Modelica.StateGraph.PartialCompositeStep</A>.OuterState</H2>
<B>Block containing the port that is connected to the outer stateGraphRoot</B><p>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepStatePort_in"
>CompositeStepStatePort_in</A></TD><TD>subgraphStatePort</TD><TD>Port connected to outer stateGraphRoot</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> OuterState <font color="darkgreen">
  &quot;Block containing the port that is connected to the outer stateGraphRoot&quot;</font>
  <A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepStatePort_in"
>Interfaces.CompositeStepStatePort_in</A> subgraphStatePort <font color="darkgreen">
    &quot;Port connected to outer stateGraphRoot&quot;</font>;
<font color="blue">end </font>OuterState;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InnerState<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.StateGraph.PartialCompositeStep.InnerState"></A><A HREF="Modelica_StateGraph.html#Modelica.StateGraph.PartialCompositeStep"
>Modelica.StateGraph.PartialCompositeStep</A>.InnerState</H2>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> InnerState
  <font color="blue">outer </font><A HREF="Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.CompositeStepState"
>Interfaces.CompositeStepState</A> stateGraphRoot;
<font color="blue">end </font>InnerState;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:27:41 2010.
</address></BODY>
</HTML>
