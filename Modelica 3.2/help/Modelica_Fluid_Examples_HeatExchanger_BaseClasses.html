<HTML>
<HEAD>
<TITLE>Modelica.Fluid.Examples.HeatExchanger.BaseClasses</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Additional models for heat exchangers&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger.html#Modelica.Fluid.Examples.HeatExchanger"
>Modelica.Fluid.Examples.HeatExchanger</A>.BaseClasses</H2>
<B>Additional models for heat exchangers</B>
<P>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</A> (Icon for packages containing base classes).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHXS.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX"
>BasicHX</A>
</TD><TD>Simple heat exchanger model</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstPropsS.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstProps" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstProps"
>WallConstProps</A>
</TD><TD>Pipe wall with capacitance, assuming 1D heat conduction and constant material properties</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BasicHX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHXI.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses"
>Modelica.Fluid.Examples.HeatExchanger.BaseClasses</A>.BasicHX</H2>
<B>Simple heat exchanger model</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHXD.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX">
<P><H3>Information</H3></P>
<PRE></pre>
<p>Simple model of a heat exchanger consisting of two pipes and one wall in between.
For both fluids geometry parameters, such as heat transfer area and cross section as well as heat transfer and pressure drop correlations may be chosen.
The flow scheme may be concurrent or counterflow, defined by the respective flow directions of the fluids entering the component.
The design flow direction with positive m_flow variables is counterflow.</p>
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>nNodes</TD><TD>2</TD><TD>Spatial segmentation</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>length</TD><TD>&nbsp;</TD><TD>Length of flow path for both fluids [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>s_wall</TD><TD>&nbsp;</TD><TD>Wall thickness [m]</TD></TR>
<TR><TD>Boolean</TD><TD>use_HeatTransfer</TD><TD>false</TD><TD>= true to use the HeatTransfer_1/_2 model</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fluid 1</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>crossArea_1</TD><TD>&nbsp;</TD><TD>Cross sectional area [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>perimeter_1</TD><TD>&nbsp;</TD><TD>Flow channel perimeter [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>area_h_1</TD><TD>&nbsp;</TD><TD>Heat transfer area [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>roughness_1</TD><TD>2.5e-5</TD><TD>Absolute roughness of pipe (default = smooth steel pipe) [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fluid 2</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>crossArea_2</TD><TD>&nbsp;</TD><TD>Cross sectional area [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>perimeter_2</TD><TD>&nbsp;</TD><TD>Flow channel perimeter [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>area_h_2</TD><TD>&nbsp;</TD><TD>Heat transfer area [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>roughness_2</TD><TD>2.5e-5</TD><TD>Absolute roughness of pipe (default = smooth steel pipe) [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Solid material properties</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>rho_wall</TD><TD>&nbsp;</TD><TD>Density of wall material [kg/m3]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>c_wall</TD><TD>&nbsp;</TD><TD>Specific heat capacity of wall material [J/(kg.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>ThermalConductivity</A></TD><TD>k_wall</TD><TD>&nbsp;</TD><TD>Thermal conductivity of wall material [W/(m.K)]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Dynamics</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>system.energyDynamics</TD><TD>Formulation of energy balance</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>massDynamics</TD><TD>system.massDynamics</TD><TD>Formulation of mass balance</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>momentumDynamics</TD><TD>system.momentumDynamics</TD><TD>Formulation of momentum balance, if pressureLoss options available</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Initialization</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Wall</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Twall_start</TD><TD>&nbsp;</TD><TD>Start value of wall temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>dT</TD><TD>&nbsp;</TD><TD>Start value for pipe_1.T - pipe_2.T [K]</TD></TR>
<TR><TD>Boolean</TD><TD>use_T_start</TD><TD>true</TD><TD>Use T_start if true, otherwise h_start</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fluid 1</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_a_start1</TD><TD>Medium_1.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_b_start1</TD><TD>Medium_1.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T_start_1</TD><TD>if use_T_start then Medium_1...</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_start_1</TD><TD>if use_T_start then Medium_1...</TD><TD>Start value of specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_start_1[Medium_1.nX]</TD><TD>Medium_1.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_start_1</TD><TD>system.m_flow_start</TD><TD>Start value of mass flow rate [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Fluid 2</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_a_start2</TD><TD>Medium_2.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_b_start2</TD><TD>Medium_2.p_default</TD><TD>Start value of pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T_start_2</TD><TD>if use_T_start then Medium_2...</TD><TD>Start value of temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_start_2</TD><TD>if use_T_start then Medium_2...</TD><TD>Start value of specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_start_2[Medium_2.nX]</TD><TD>Medium_2.X_default</TD><TD>Start value of mass fractions m_i/m [kg/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_start_2</TD><TD>system.m_flow_start</TD><TD>Start value of mass flow rate [kg/s]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b1</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a1</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</A></TD><TD>port_b2</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</A></TD><TD>port_a2</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> BasicHX <font color="darkgreen">&quot;Simple heat exchanger model&quot;</font>
  <font color="blue">outer </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system <font color="darkgreen">&quot;System properties&quot;</font>;
  <font color="darkgreen">//General</font>
  <font color="blue">parameter </font>Integer nNodes(min=1) = 2 <font color="darkgreen">&quot;Spatial segmentation&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium_1 = Modelica.Media.Water.StandardWater <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialMedium <font color="darkgreen">&quot;Fluid 1&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium_2 = Modelica.Media.Water.StandardWater <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialMedium <font color="darkgreen">&quot;Fluid 2&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> crossArea_1 <font color="darkgreen">&quot;Cross sectional area&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> crossArea_2 <font color="darkgreen">&quot;Cross sectional area&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> perimeter_1 <font color="darkgreen">&quot;Flow channel perimeter&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> perimeter_2 <font color="darkgreen">&quot;Flow channel perimeter&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> length(min=0) <font color="darkgreen">&quot;Length of flow path for both fluids&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> s_wall(min=0) <font color="darkgreen">&quot;Wall thickness&quot;</font>;
  <font color="blue">parameter </font>Boolean use_HeatTransfer = false <font color="darkgreen">
    &quot;= true to use the HeatTransfer_1/_2 model&quot;</font>;

  <font color="darkgreen">// Heat transfer</font>
  <font color="blue">replaceable </font><font color="blue">model</font> HeatTransfer_1 =
      <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>
    <font color="blue">constrainedby </font>
    Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.PartialFlowHeatTransfer <font color="darkgreen">
    &quot;Heat transfer model&quot;</font>;

  <font color="blue">replaceable </font><font color="blue">model</font> HeatTransfer_2 =
      <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>
    <font color="blue">constrainedby </font>
    Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.PartialFlowHeatTransfer <font color="darkgreen">
    &quot;Heat transfer model&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> area_h_1 <font color="darkgreen">&quot;Heat transfer area&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> area_h_2 <font color="darkgreen">&quot;Heat transfer area&quot;</font>;
 <font color="darkgreen">//Wall</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> rho_wall <font color="darkgreen">&quot;Density of wall material&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SI.SpecificHeatCapacity</A> c_wall <font color="darkgreen">
    &quot;Specific heat capacity of wall material&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> area_h=(area_h_1 + area_h_2)/2 <font color="darkgreen">&quot;Heat transfer area&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>SI.Mass</A> m_wall=rho_wall*area_h*s_wall <font color="darkgreen">&quot;Wall mass&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>SI.ThermalConductivity</A> k_wall <font color="darkgreen">
    &quot;Thermal conductivity of wall material&quot;</font>;

  <font color="darkgreen">// Assumptions</font>
  <font color="blue">parameter </font>Boolean allowFlowReversal = system.allowFlowReversal <font color="darkgreen">
    &quot;allow flow reversal, false restricts to design direction (port_a -&gt; port_b)&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Types.Dynamics</A> energyDynamics=system.energyDynamics <font color="darkgreen">
    &quot;Formulation of energy balance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Types.Dynamics</A> massDynamics=system.massDynamics <font color="darkgreen">
    &quot;Formulation of mass balance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Types.Dynamics</A> momentumDynamics=system.momentumDynamics <font color="darkgreen">
    &quot;Formulation of momentum balance, if pressureLoss options available&quot;</font>;

  <font color="darkgreen">//Initialization pipe 1</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Twall_start <font color="darkgreen">&quot;Start value of wall temperature&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> dT <font color="darkgreen">&quot;Start value for pipe_1.T - pipe_2.T&quot;</font>;
  <font color="blue">parameter </font>Boolean use_T_start=true <font color="darkgreen">&quot;Use T_start if true, otherwise h_start&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>Medium_1.AbsolutePressure</A> p_a_start1=Medium_1.p_default <font color="darkgreen">
    &quot;Start value of pressure&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>Medium_1.AbsolutePressure</A> p_b_start1=Medium_1.p_default <font color="darkgreen">
    &quot;Start value of pressure&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Medium_1.Temperature</A> T_start_1=<font color="blue">if </font>use_T_start<font color="blue"> then </font>Medium_1.
      T_default<font color="blue"> else </font><font color="red">Medium_1.temperature_phX</font>(
        (p_a_start1 + p_b_start1)/2,
        h_start_1,
        X_start_1) <font color="darkgreen">&quot;Start value of temperature&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>Medium_1.SpecificEnthalpy</A> h_start_1=<font color="blue">if </font>use_T_start<font color="blue"> then </font><font color="red">Medium_1.specificEnthalpy_pTX</font>(
        (p_a_start1 + p_b_start1)/2,
        T_start_1,
        X_start_1[1:Medium_1.nXi])<font color="blue"> else </font>Medium_1.h_default <font color="darkgreen">
    &quot;Start value of specific enthalpy&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>Medium_1.MassFraction</A> X_start_1[Medium_1.nX]=Medium_1.X_default <font color="darkgreen">
    &quot;Start value of mass fractions m_i/m&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>Medium_1.MassFlowRate</A> m_flow_start_1 = system.m_flow_start <font color="darkgreen">
    &quot;Start value of mass flow rate&quot;</font>;
  <font color="darkgreen">//Initialization pipe 2</font>

  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>Medium_2.AbsolutePressure</A> p_a_start2=Medium_2.p_default <font color="darkgreen">
    &quot;Start value of pressure&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>Medium_2.AbsolutePressure</A> p_b_start2=Medium_2.p_default <font color="darkgreen">
    &quot;Start value of pressure&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Medium_2.Temperature</A> T_start_2=<font color="blue">if </font>use_T_start<font color="blue"> then </font>Medium_2.
      T_default<font color="blue"> else </font><font color="red">Medium_2.temperature_phX</font>(
        (p_a_start2 + p_b_start2)/2,
        h_start_2,
        X_start_2) <font color="darkgreen">&quot;Start value of temperature&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>Medium_2.SpecificEnthalpy</A> h_start_2=<font color="blue">if </font>use_T_start<font color="blue"> then </font><font color="red">Medium_2.specificEnthalpy_pTX</font>(
        (p_a_start2 + p_b_start2)/2,
        T_start_2,
        X_start_2[1:Medium_2.nXi])<font color="blue"> else </font>Medium_2.h_default <font color="darkgreen">
    &quot;Start value of specific enthalpy&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>Medium_2.MassFraction</A> X_start_2[Medium_2.nX]=Medium_2.X_default <font color="darkgreen">
    &quot;Start value of mass fractions m_i/m&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>Medium_2.MassFlowRate</A> m_flow_start_2 = system.m_flow_start <font color="darkgreen">
    &quot;Start value of mass flow rate&quot;</font>;

  <font color="darkgreen">//Pressure drop and heat transfer</font>
  <font color="blue">replaceable </font><font color="blue">model</font> FlowModel_1 =
      <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>
    <font color="blue">constrainedby </font>
    Modelica.Fluid.Pipes.BaseClasses.FlowModels.PartialStaggeredFlowModel <font color="darkgreen">
    &quot;Characteristic of wall friction&quot;</font>;
  <font color="blue">replaceable </font><font color="blue">model</font> FlowModel_2 =
      <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>
    <font color="blue">constrainedby </font>
    Modelica.Fluid.Pipes.BaseClasses.FlowModels.PartialStaggeredFlowModel <font color="darkgreen">
    &quot;Characteristic of wall friction&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> roughness_1=2.5e-5 <font color="darkgreen">
    &quot;Absolute roughness of pipe (default = smooth steel pipe)&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> roughness_2=2.5e-5 <font color="darkgreen">
    &quot;Absolute roughness of pipe (default = smooth steel pipe)&quot;</font>;

  <font color="darkgreen">//Display variables</font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>SI.HeatFlowRate</A> Q_flow_1 <font color="darkgreen">&quot;Total heat flow rate of pipe 1&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>SI.HeatFlowRate</A> Q_flow_2 <font color="darkgreen">&quot;Total heat flow rate of pipe 2&quot;</font>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstProps"
>BaseClasses.WallConstProps</A> wall(
    rho_wall=rho_wall,
    c_wall=c_wall,
    T_start=Twall_start,
    k_wall=k_wall,
    dT=dT,
    s=s_wall,
    energyDynamics=energyDynamics,
    n=nNodes,
    area_h=(crossArea_1 + crossArea_2)/2);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A> pipe_1(
    <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses_Medium_1.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.Medium_1"
>Medium_1</A>,
    <font color="blue">final </font>isCircular=false,
    <font color="blue">final </font>diameter=0,
    <font color="blue">final </font>nNodes=nNodes,
    <font color="blue">final </font>allowFlowReversal=allowFlowReversal,
    <font color="blue">final </font>energyDynamics=energyDynamics,
    <font color="blue">final </font>massDynamics=massDynamics,
    <font color="blue">final </font>momentumDynamics=momentumDynamics,
    <font color="blue">final </font>length=length,
    <font color="blue">final </font>use_HeatTransfer=use_HeatTransfer,
    <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">model</font> HeatTransfer = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_1"
>HeatTransfer_1</A>,
    <font color="blue">final </font>use_T_start=use_T_start,
    <font color="blue">final </font>T_start=T_start_1,
    <font color="blue">final </font>h_start=h_start_1,
    <font color="blue">final </font>X_start=X_start_1,
    <font color="blue">final </font>m_flow_start=m_flow_start_1,
    <font color="blue">final </font>perimeter=perimeter_1,
    <font color="blue">final </font>crossArea=crossArea_1,
    <font color="blue">final </font>roughness=roughness_1,
    <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">model</font> FlowModel = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_1"
>FlowModel_1</A>);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.DynamicPipe"
>Modelica.Fluid.Pipes.DynamicPipe</A> pipe_2(
    <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses_Medium_2.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.Medium_2"
>Medium_2</A>,
    <font color="blue">final </font>nNodes=nNodes,
    <font color="blue">final </font>allowFlowReversal=allowFlowReversal,
    <font color="blue">final </font>energyDynamics=energyDynamics,
    <font color="blue">final </font>massDynamics=massDynamics,
    <font color="blue">final </font>momentumDynamics=momentumDynamics,
    <font color="blue">final </font>length=length,
    <font color="blue">final </font>isCircular=false,
    <font color="blue">final </font>diameter=0,
    <font color="blue">final </font>use_HeatTransfer=use_HeatTransfer,
    <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">model</font> HeatTransfer = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_2"
>HeatTransfer_2</A>,
    <font color="blue">final </font>use_T_start=use_T_start,
    <font color="blue">final </font>T_start=T_start_2,
    <font color="blue">final </font>h_start=h_start_2,
    <font color="blue">final </font>X_start=X_start_2,
    <font color="blue">final </font>m_flow_start=m_flow_start_2,
    <font color="blue">final </font>perimeter=perimeter_2,
    <font color="blue">final </font>crossArea=crossArea_2,
    <font color="blue">final </font>p_a_start=p_a_start1,
    <font color="blue">final </font>p_b_start=p_b_start2,
    <font color="blue">final </font>roughness=roughness_2,
    <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">model</font> FlowModel = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_2"
>FlowModel_2</A>);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> port_b1(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium
      = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses_Medium_1.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.Medium_1"
>Medium_1</A>);
  <A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>Modelica.Fluid.Interfaces.FluidPort_a</A> port_a1(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium
      = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses_Medium_1.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.Medium_1"
>Medium_1</A>);
  <A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>Modelica.Fluid.Interfaces.FluidPort_b</A> port_b2(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium
      = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses_Medium_2.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.Medium_2"
>Medium_2</A>);
  <A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>Modelica.Fluid.Interfaces.FluidPort_a</A> port_a2(<font color="blue">redeclare </font><font color="blue">final </font><font color="blue">package</font> Medium
      = <A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses_Medium_2.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.Medium_2"
>Medium_2</A>);</textblock>

<font color="blue">equation </font>
  Q_flow_1 =<font color="red"> sum</font>(pipe_1.heatTransfer.Q_flows);
  Q_flow_2 =<font color="red"> sum</font>(pipe_2.heatTransfer.Q_flows);
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(pipe_2.port_b, port_b2);
  <font color="red">connect</font>(pipe_1.port_b, port_b1);
  <font color="red">connect</font>(pipe_1.port_a, port_a1);
  <font color="red">connect</font>(pipe_2.port_a, port_a2);
  <font color="red">connect</font>(wall.heatPort_b, pipe_1.heatPorts);
  <font color="red">connect</font>(pipe_2.heatPorts[nNodes:-1:1], wall.heatPort_a[1:nNodes]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BasicHX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE WallConstProps<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstPropsI.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstProps" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstProps"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses"
>Modelica.Fluid.Examples.HeatExchanger.BaseClasses</A>.WallConstProps</H2>
<B>Pipe wall with capacitance, assuming 1D heat conduction and constant material properties</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstPropsD.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.WallConstProps">
<P><H3>Information</H3></P>
<PRE></pre>
Simple model of circular (or any other closed shape) wall to be used for pipe (or duct) models. Heat conduction is regarded one dimensional, capacitance is lumped at the arithmetic mean temperature. The spatial discretization (parameter <code>n</code>) is meant to correspond to a connected fluid model discretization.
<pre></PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>1</TD><TD>Segmentation perpendicular to heat conduction</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>Wall thickness [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</A></TD><TD>area_h</TD><TD>&nbsp;</TD><TD>Heat transfer area [m2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>rho_wall</TD><TD>&nbsp;</TD><TD>Density of wall material [kg/m3]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>c_wall</TD><TD>&nbsp;</TD><TD>Specific heat capacity of wall material [J/(kg.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>ThermalConductivity</A></TD><TD>k_wall</TD><TD>&nbsp;</TD><TD>Thermal conductivity of wall material [W/(m.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>Mass</A></TD><TD>m[n]</TD><TD>fill(rho_wall*area_h*s/n, n)</TD><TD>Distribution of wall mass [kg]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_start</TD><TD>&nbsp;</TD><TD>Wall temperature start value [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>dT</TD><TD>&nbsp;</TD><TD>Start value for port_b.T - port_a.T [K]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Assumptions</B></TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Dynamics</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>energyDynamics</TD><TD>system.energyDynamics</TD><TD>Formulation of energy balance</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort_a[n]</TD><TD>Thermal port</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort_b[n]</TD><TD>Thermal port</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> WallConstProps <font color="darkgreen">
  &quot;Pipe wall with capacitance, assuming 1D heat conduction and constant material properties&quot;</font>
  <font color="blue">parameter </font>Integer n(min=1)=1 <font color="darkgreen">&quot;Segmentation perpendicular to heat conduction&quot;</font>;
<font color="darkgreen">//Geometry</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SI.Length</A> s <font color="darkgreen">&quot;Wall thickness&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Area"
>SI.Area</A> area_h <font color="darkgreen">&quot;Heat transfer area&quot;</font>;
<font color="darkgreen">//Material properties</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> rho_wall <font color="darkgreen">&quot;Density of wall material&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SI.SpecificHeatCapacity</A> c_wall <font color="darkgreen">
    &quot;Specific heat capacity of wall material&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>SI.ThermalConductivity</A> k_wall <font color="darkgreen">
    &quot;Thermal conductivity of wall material&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Mass"
>SI.Mass</A>[n] m=<font color="red">fill</font>(rho_wall*area_h*s/n,n) <font color="darkgreen">
    &quot;Distribution of wall mass&quot;</font>;
<font color="darkgreen">//Initialization</font>
  <font color="blue">outer </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <font color="blue">parameter </font><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Types.Dynamics</A> energyDynamics=system.energyDynamics <font color="darkgreen">
    &quot;Formulation of energy balance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T_start <font color="darkgreen">&quot;Wall temperature start value&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> dT <font color="darkgreen">&quot;Start value for port_b.T - port_a.T&quot;</font>;
<font color="darkgreen">//Temperatures</font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A>[n] Tb(<font color="blue">each </font>start=T_start+0.5*dT);
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A>[n] Ta(<font color="blue">each </font>start=T_start-0.5*dT);
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A>[n] T(start=<font color="red">ones</font>(n)*T_start, stateSelect=StateSelect.prefer) <font color="darkgreen">
    &quot;Wall temperature&quot;</font>;
<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A>[n] heatPort_a <font color="darkgreen">
    &quot;Thermal port&quot;</font>;
  <A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</A>[n] heatPort_b <font color="darkgreen">
    &quot;Thermal port&quot;</font>;</textblock>

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="blue">if </font>energyDynamics == Types.Dynamics.SteadyState<font color="blue"> then</font>
    <font color="red">der</font>(T) =<font color="red"> zeros</font>(n);
  <font color="blue">elseif </font>energyDynamics == Types.Dynamics.FixedInitial<font color="blue"> then</font>
    T =<font color="red"> ones</font>(n)*T_start;
  <font color="blue">end if</font>;
<font color="blue">equation </font>
  <font color="blue">for </font>i<font color="blue"> in </font>1:n<font color="blue"> loop</font>
   <font color="red">assert</font>(m[i]&gt;0, &quot;Wall has negative dimensions&quot;);
   <font color="blue">if </font>energyDynamics == Types.Dynamics.SteadyState<font color="blue"> then</font>
     0 = heatPort_a[i].Q_flow + heatPort_b[i].Q_flow;
   <font color="blue">else</font>
     c_wall*m[i]*<font color="red">der</font>(T[i]) = heatPort_a[i].Q_flow + heatPort_b[i].Q_flow;
   <font color="blue">end if</font>;
   heatPort_a[i].Q_flow=k_wall/s*(Ta[i]-T[i])*area_h/n;
   heatPort_b[i].Q_flow=k_wall/s*(Tb[i]-T[i])*area_h/n;
  <font color="blue">end for</font>;
  Ta=heatPort_a.T;
  Tb=heatPort_b.T;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>WallConstProps;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatTransfer_1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_1I.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_1"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX"
>Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX</A>.HeatTransfer_1</H2>
<B>Heat transfer model</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_1D.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_1">
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Ambient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</A></TD><TD>k</TD><TD>0</TD><TD>Heat transfer coefficient to ambient [W/(m2.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_ambient</TD><TD>system.T_ambient</TD><TD>Ambient temperature [K]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Internal Interface</B></TD></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>1</TD><TD>Number of heat transfer segments</TD></TR>
<TR><TD>Boolean</TD><TD>use_k</TD><TD>false</TD><TD>= true to use k value for thermal isolation</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</TD></TR>
<TR><TD>Real</TD><TD>nParallel</TD><TD>&nbsp;</TD><TD>number of identical parallel flow devices</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.HeatPorts_a"
>HeatPorts_a</A></TD><TD>heatPorts[n]</TD><TD>Heat port to component boundary</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">replaceable </font><font color="blue">model</font> HeatTransfer_1 =
    <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>
  <font color="blue">constrainedby </font>
  Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.PartialFlowHeatTransfer <font color="darkgreen">
  &quot;Heat transfer model&quot;</font>;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowModel_1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_1I.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_1"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX"
>Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX</A>.FlowModel_1</H2>
<B>Characteristic of wall friction</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_1D.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_1">
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</A></TD><TD>dp_nominal</TD><TD>1e3*dp_small</TD><TD>Nominal pressure loss (for nominal models) [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1e2*m_flow_small</TD><TD>Mass flow rate for dp_nominal (for nominal models) [kg/s]</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp</TD><TD>momentumDynamics &gt;= Types.Dy...</TD><TD> = true, use m_flow = f(dp), otherwise dp = f(m_flow)</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</A></TD><TD>dp_small</TD><TD>system.dp_small</TD><TD>Within regularization if |dp| &lt; dp_small (may be wider for large discontinuities in static head) [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_small</TD><TD>system.m_flow_small</TD><TD>Within regularization if |m_flows| &lt; m_flow_small (may be wider for large discontinuities in static head) [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Advanced</TD></TR>
<TR><TD>Boolean</TD><TD>useUpstreamScheme</TD><TD>true</TD><TD>= false to average upstream and downstream properties across flow segments</TD></TR>
<TR><TD>Boolean</TD><TD>use_Ib_flows</TD><TD>momentumDynamics &lt;&gt; Types.Dy...</TD><TD>= true to consider differences in flow of momentum through boundaries</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_Res</TD><TD>false</TD><TD>= true, if Reynolds numbers are included for plotting</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Internal Interface</B></TD></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>2</TD><TD>Number of discrete flow volumes</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</TD></TR>
<TR><TD>Real</TD><TD>nParallel</TD><TD>&nbsp;</TD><TD>number of identical parallel flow devices</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Static head</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Acceleration</A></TD><TD>g</TD><TD>system.g</TD><TD>Constant gravity acceleration [m/s2]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Assumptions</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (states[1] -&gt; states[n+1])</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>momentumDynamics</TD><TD>system.momentumDynamics</TD><TD>Formulation of momentum balance</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_start</TD><TD>system.m_flow_start</TD><TD>Start value of mass flow rates [kg/s]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_a_start</TD><TD>&nbsp;</TD><TD>Start value for p[1] at design inflow [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_b_start</TD><TD>&nbsp;</TD><TD>Start value for p[n+1] at design outflow [Pa]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">replaceable </font><font color="blue">model</font> FlowModel_1 =
    <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>
  <font color="blue">constrainedby </font>
  Modelica.Fluid.Pipes.BaseClasses.FlowModels.PartialStaggeredFlowModel <font color="darkgreen">
  &quot;Characteristic of wall friction&quot;</font>;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatTransfer_2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_2I.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_2"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX"
>Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX</A>.HeatTransfer_2</H2>
<B>Heat transfer model</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_2D.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.HeatTransfer_2">
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Ambient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</A></TD><TD>k</TD><TD>0</TD><TD>Heat transfer coefficient to ambient [W/(m2.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_ambient</TD><TD>system.T_ambient</TD><TD>Ambient temperature [K]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Internal Interface</B></TD></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>1</TD><TD>Number of heat transfer segments</TD></TR>
<TR><TD>Boolean</TD><TD>use_k</TD><TD>false</TD><TD>= true to use k value for thermal isolation</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</TD></TR>
<TR><TD>Real</TD><TD>nParallel</TD><TD>&nbsp;</TD><TD>number of identical parallel flow devices</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.HeatPorts_a"
>HeatPorts_a</A></TD><TD>heatPorts[n]</TD><TD>Heat port to component boundary</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">replaceable </font><font color="blue">model</font> HeatTransfer_2 =
    <A HREF="Modelica_Fluid_Pipes_BaseClasses_HeatTransfer.html#Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer"
>Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.IdealFlowHeatTransfer</A>
  <font color="blue">constrainedby </font>
  Modelica.Fluid.Pipes.BaseClasses.HeatTransfer.PartialFlowHeatTransfer <font color="darkgreen">
  &quot;Heat transfer model&quot;</font>;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE FlowModel_2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_2I.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_2"></A><A HREF="Modelica_Fluid_Examples_HeatExchanger_BaseClasses.html#Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX"
>Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX</A>.FlowModel_2</H2>
<B>Characteristic of wall friction</B><p>
<IMG SRC="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_2D.png" ALT="Modelica.Fluid.Examples.HeatExchanger.BaseClasses.BasicHX.FlowModel_2">
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</A></TD><TD>dp_nominal</TD><TD>1e3*dp_small</TD><TD>Nominal pressure loss (for nominal models) [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_nominal</TD><TD>1e2*m_flow_small</TD><TD>Mass flow rate for dp_nominal (for nominal models) [kg/s]</TD></TR>
<TR><TD>Boolean</TD><TD>from_dp</TD><TD>momentumDynamics &gt;= Types.Dy...</TD><TD> = true, use m_flow = f(dp), otherwise dp = f(m_flow)</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</A></TD><TD>dp_small</TD><TD>system.dp_small</TD><TD>Within regularization if |dp| &lt; dp_small (may be wider for large discontinuities in static head) [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_small</TD><TD>system.m_flow_small</TD><TD>Within regularization if |m_flows| &lt; m_flow_small (may be wider for large discontinuities in static head) [kg/s]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Advanced</TD></TR>
<TR><TD>Boolean</TD><TD>useUpstreamScheme</TD><TD>true</TD><TD>= false to average upstream and downstream properties across flow segments</TD></TR>
<TR><TD>Boolean</TD><TD>use_Ib_flows</TD><TD>momentumDynamics &lt;&gt; Types.Dy...</TD><TD>= true to consider differences in flow of momentum through boundaries</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Diagnostics</TD></TR>
<TR><TD>Boolean</TD><TD>show_Res</TD><TD>false</TD><TD>= true, if Reynolds numbers are included for plotting</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Internal Interface</B></TD></TR>
<TR><TD colspan="2">replaceable package Medium</TD><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</A></TD><TD>Medium in the component</TD></TR>
<TR><TD>Integer</TD><TD>n</TD><TD>2</TD><TD>Number of discrete flow volumes</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</TD></TR>
<TR><TD>Real</TD><TD>nParallel</TD><TD>&nbsp;</TD><TD>number of identical parallel flow devices</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Static head</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Acceleration"
>Acceleration</A></TD><TD>g</TD><TD>system.g</TD><TD>Constant gravity acceleration [m/s2]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Assumptions</TD></TR>
<TR><TD>Boolean</TD><TD>allowFlowReversal</TD><TD>system.allowFlowReversal</TD><TD>= true to allow flow reversal, false restricts to design direction (states[1] -&gt; states[n+1])</TD></TR>
<TR><TD><A HREF="Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</A></TD><TD>momentumDynamics</TD><TD>system.momentumDynamics</TD><TD>Formulation of momentum balance</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initialization</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A></TD><TD>m_flow_start</TD><TD>system.m_flow_start</TD><TD>Start value of mass flow rates [kg/s]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_a_start</TD><TD>&nbsp;</TD><TD>Start value for p[1] at design inflow [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p_b_start</TD><TD>&nbsp;</TD><TD>Start value for p[n+1] at design outflow [Pa]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">replaceable </font><font color="blue">model</font> FlowModel_2 =
    <A HREF="Modelica_Fluid_Pipes_BaseClasses_FlowModels.html#Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow"
>Modelica.Fluid.Pipes.BaseClasses.FlowModels.DetailedPipeFlow</A>
  <font color="blue">constrainedby </font>
  Modelica.Fluid.Pipes.BaseClasses.FlowModels.PartialStaggeredFlowModel <font color="darkgreen">
  &quot;Characteristic of wall friction&quot;</font>;
</PRE>
<HR>
<address><a href="http://www.3ds.com/">Automatically generated</a> Fri Nov 12 16:31:11 2010.
</address></BODY>
</HTML>
