<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Modelica.Electrical.Batteries.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of battery examples&quot;">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; vertical-align: top; }
th      { padding: 2px; vertical-align: top; font-weight: bold; }
table   { border-collapse: collapse; }
table[class^="ModelicaTable"] td { border: 1px solid #808080; }
table[class^="ModelicaTable"] th { border: 1px solid #808080; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
li.unchecked::marker { content: "\2610  "; font-size: 1.5em; }
li.checked::marker { content: "\2611  "; font-size: 1.5em; }
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Modelica.Electrical.Batteries.Examples"></a><a href="Modelica_Electrical_Batteries.html#Modelica.Electrical.Batteries"
>Modelica.Electrical.Batteries</a>.Examples</h2>
<p>
<span class="ModelicaDescription">Collection of battery examples</span>
</p>
<h3>Information</h3>

<p>
Collection of examples demonstrating the usage of the <a href="Modelica_Electrical_Batteries_BatteryStacks.html#Modelica.Electrical.Batteries.BatteryStacks"
>battery models without</a>
and <a href="Modelica_Electrical_Batteries_BatteryStacksWithSensors.html#Modelica.Electrical.Batteries.BatteryStacksWithSensors"
>with sensors</a>.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</span></p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.BatteryDischargeCharge" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.BatteryDischargeCharge"
>BatteryDischargeCharge</a>
</td>
<td>Discharge and charge idealized battery</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.SuperCapDischargeCharge" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.SuperCapDischargeCharge"
>SuperCapDischargeCharge</a>
</td>
<td>Discharge and charge idealized supercap</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.CCCVcharging" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.CCCVcharging"
>CCCVcharging</a>
</td>
<td>Charge a battery with constant current - constant voltage characteristic</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_Cell" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.CCCV_Cell"
>CCCV_Cell</a>
</td>
<td>Charge a cell with constant current - constant voltage characteristic</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_CellRC" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.CCCV_CellRC"
>CCCV_CellRC</a>
</td>
<td>Charge a transient cell with constant current - constant voltage characteristic</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_Stack" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.CCCV_Stack"
>CCCV_Stack</a>
</td>
<td>Charge a stack with constant current - constant voltage characteristic</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_StackRC" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.CCCV_StackRC"
>CCCV_StackRC</a>
</td>
<td>Charge a transient stack with constant current - constant voltage characteristic</td>
</tr>
<tr>
<td><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeS.png" alt="Modelica.Electrical.Batteries.Examples.ShowImpedance" width="20" height="20" align="top">&nbsp;<a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples.ShowImpedance"
>ShowImpedance</a>
</td>
<td>Show complex cell impedance</td>
</tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BatteryDischargeCharge<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.BatteryDischargeCharge" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.BatteryDischargeCharge"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.BatteryDischargeCharge</h2>
<p>
<span class="ModelicaDescription">Discharge and charge idealized battery</span>
</p>
<h3>Information</h3>

<p>Two batteries with a nominal charge of 10 A.h starting with an initial SOC = 95 % are compared:</p>
<ul>
<li><code>battery1</code> is a battery OCV linearly dependent on SOC, without self-discharge and not comprising RC-elements.</li>
<li><code>battery2</code> is a battery OCV dependency on SOC is specified by a table, with self-discharge and including RC-elements.</li>
</ul>
<p>
Two <a href="Modelica_Electrical_Batteries_ParameterRecords.html#Modelica.Electrical.Batteries.ParameterRecords.CellData"
>parameter records</a> <code>cellData1</code> and <code>cellData2</code> are used to parameterize the battery models.
</p>
<p>
First the batteries are discharged with 7 current pulses of 50 A for 1 minute, and breaks between the pulses of 1 minute, ending at SOC = 5 %.<br>
Subsequently, the batteries are charged again with 7 current pulses of 50 A for 1 minute, and breaks between the pulses of 1 minute, ending at SOC = 95 % again.<br>
In the end, the batteries are in no-load condition to reveal self-discharge effects.
Note that self-discharge of <code>battery2</code> is set to an unrealistic high value, to show self-discharge within a rather short time span.<br>
The parameters of the RC-elements of <code>battery2</code> are set to estimated values, just to demonstrate the effects.
</p>
<p>Simulate and plot terminal voltage <code>battery1.v</code> and <code>battery2.v</code> as well as state of charge <code>battery1.SOC</code> and <code>battery2.SOC</code>.</p>
<p>
Plotting <code>energy1.y</code> and <code>energy2.y</code>, it is remarkable that first energy is delivered by the battery,
but then due to the losses more energy is consumed to recharge the battery.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>Isc</td><td>Short-circuit current of cell at OCVmax [A]</td></tr>
<tr><td>cellData1</td><td>&nbsp;</td></tr>
<tr><td>cellData2</td><td>&nbsp;</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SuperCapDischargeCharge<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.SuperCapDischargeCharge" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.SuperCapDischargeCharge"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.SuperCapDischargeCharge</h2>
<p>
<span class="ModelicaDescription">Discharge and charge idealized supercap</span>
</p>
<h3>Information</h3>

<p>A supercap with a capacitance of 500 F, starting initially at nominal voltage 48 V,
is discharged with 5 current pulses of 240 A for 10 seconds, and breaks between the pulses of 10 seconds.
Subsequently, the supercap is charged again with 5 current pulses of 240 A for 10 seconds, and breaks between the pulses of 10 seconds.
In the end, the supercap is in no-load condition to reveal self-discharge effects.
</p>
<p>
Note that self-discharge is set to an unrealistic high value, to show self-discharge within a rather short time span.<br>
The other parameters of the supercap is set to estimated but realistic values:
</p>
<ul>
<li><code>C = 500 F</code></li>
<li><code>Vnom = 48 V</code></li>
<li><code>Qnom = C*Vnom = 24,000 As</code></li>
<li><code>Ri = 2 m&Omega;</code></li>
</ul>
<p>Simulate and plot terminal voltage <code>supercap.v</code>.</p>
<p>
Plotting <code>energy.y</code>, it is remarkable that first energy is delivered by the supercap,
but then due to the losses more energy is consumed to recharge the supercap.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CCCVcharging<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.CCCVcharging" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.CCCVcharging"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.CCCVcharging</h2>
<p>
<span class="ModelicaDescription">Charge a battery with constant current - constant voltage characteristic</span>
</p>
<h3>Information</h3>

<p>
A battery depleted to <code>SOC = 0.1</code> is recharged with a CC-CV charger.
Charging current in CC mode is 5C which means the battery is theoretically nearly fulled charged after <code>0.9*3600 s/5 = 648 s</code> and the charger switches to CV mode.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>Isc</td><td>Short-circuit current of cell at OCVmax [A]</td></tr>
<tr><td>cellData</td><td>&nbsp;</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CCCV_Cell<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_Cell" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.CCCV_Cell"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.CCCV_Cell</h2>
<p>
<span class="ModelicaDescription">Charge a cell with constant current - constant voltage characteristic</span>
</p>
<h3>Information</h3>

<p>
A single cell depleted to <code>SOC = 0.1</code> is recharged with a CC-CV charger.
Charging current in CC mode is 5C which means the battery is theoretically nearly fulled charged after <code>0.9*3600 s/5 = 648 s</code> and the charger switches to CV mode.
Simulate for 1200 s and plot <code>cell.cellBus.soc</code> versus <code>time</code>.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>Isc</td><td>Short-circuit current of cell at OCVmax [A]</td></tr>
<tr><td>cellData</td><td>Cell data</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CCCV_CellRC<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_CellRC" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.CCCV_CellRC"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.CCCV_CellRC</h2>
<p>
<span class="ModelicaDescription">Charge a transient cell with constant current - constant voltage characteristic</span>
</p>
<h3>Information</h3>

<p>
A single transient cell depleted to <code>SOC = 0.1</code> is recharged with a CC-CV charger.
Charging current in CC mode is 5C which means the battery is theoretically nearly fulled charged after <code>0.9*3600 s/5 = 648 s</code> and the charger switches to CV mode.
Simulate for 1200 s and plot <code>cell.cellBus.soc</code> versus <code>time</code>.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>Isc</td><td>Short-circuit current of cell at OCVmax [A]</td></tr>
<tr><td>cellData</td><td>Cell data</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CCCV_Stack<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_Stack" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.CCCV_Stack"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.CCCV_Stack</h2>
<p>
<span class="ModelicaDescription">Charge a stack with constant current - constant voltage characteristic</span>
</p>
<h3>Information</h3>

<p>
A stack of cells with one degraded cell (with indices <code>[1,1]</code>, with double inner resistance), all cells depleted to <code>SOC = 0.1</code>, is recharged with a CC-CV charger.
Simulate for 1200 s and plot versus <code>time</code>:
</p>
<ul>
<li><code>stack.batteryBus.soc</code></li>
<li><code>busTransription.stackBusArrays.soc[1,1]</code></li>
<li><code>busTransription.stackBusArrays.soc[1,2]</code></li>
</ul>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>Isc</td><td>Short-circuit current of cell at OCVmax [A]</td></tr>
<tr><td>cellDataOriginal</td><td>Original cell data</td></tr>
<tr><td>cellDataDegraded</td><td>Degraded cell data</td></tr>
<tr><td>stackData</td><td>Stack data</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CCCV_StackRC<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.CCCV_StackRC" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.CCCV_StackRC"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.CCCV_StackRC</h2>
<p>
<span class="ModelicaDescription">Charge a transient stack with constant current - constant voltage characteristic</span>
</p>
<h3>Information</h3>

<p>
A stack of transient cells with one degraded cell (with indices <code>[1,1]</code>, with double inner resistance), all cells depleted to <code>SOC = 0.1</code>, is recharged with a CC-CV charger.
Simulate for 1200 s and plot versus <code>time</code>:
</p>
<ul>
<li><code>stack.batteryBus.soc</code></li>
<li><code>busTransription.stackBusArrays.soc[1,1]</code></li>
<li><code>busTransription.stackBusArrays.soc[1,2]</code></li>
</ul>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>Isc</td><td>Short-circuit current of cell at OCVmax [A]</td></tr>
<tr><td>cellDataOriginal</td><td>Original cell data</td></tr>
<tr><td>cellDataDegraded</td><td>Degraded cell data</td></tr>
<tr><td>stackData</td><td>Stack data</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ShowImpedance<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Electrical.Batte837d70f187da9a5bhargeI.png" alt="Modelica.Electrical.Batteries.Examples.ShowImpedance" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Electrical.Batteries.Examples.ShowImpedance"></a><a href="Modelica_Electrical_Batteries_Examples.html#Modelica.Electrical.Batteries.Examples"
>Modelica.Electrical.Batteries.Examples</a>.ShowImpedance</h2>
<p>
<span class="ModelicaDescription">Show complex cell impedance</span>
</p>
<h3>Information</h3>

<p>
Plot <code>impedance.z.im</code> versus <code>impedance.z.re</code>
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>cellData</td><td>&nbsp;</td></tr>
</table>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Feb 23 14:10:39 2026.
</address>
</body>
</html>
