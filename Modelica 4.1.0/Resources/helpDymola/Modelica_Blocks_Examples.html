<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Modelica.Blocks.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Library of examples to demonstrate the usage of package Blocks&quot;">
<style type="text/css">
*       { font-size: 100%; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 90%; font-family: Courier, monospace; white-space: pre; } /* For the Modelica code (in exported html). */
h4      { font-size: 100%; font-weight: bold; color: green; } 
h3      { font-size: 110%; font-weight: bold; color: green; }
h2      { font-size: 130%; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { padding: 2px; vertical-align: top; }
th      { padding: 2px; vertical-align: top; font-weight: bold; }
table   { border-collapse: collapse; }
table[class^="ModelicaTable"] td { border: 1px solid #808080; }
table[class^="ModelicaTable"] th { border: 1px solid #808080; }
pre, code {font-family: "Courier New", monospace;}
pre {white-space: pre; overflow-x : hidden;}
li.unchecked::marker { content: "\2610  "; font-size: 1.5em; }
li.checked::marker { content: "\2611  "; font-size: 1.5em; }
.ModelicaDescription {font-weight: bold;} /* For the description string of the class. */
.ModelicaBaseClass {} /* For the list of base-classes at the of the description. */
.ModelicaKeyword { color: blue; font-weight: normal; font-style: normal; } /* Keywords in Modelica. */
.ModelicaComment { color: #006400;  font-weight: normal; font-style: normal;} /* All three variants of comments in Modelica.  */
.ModelicaString { color: #006400;  font-weight: normal; font-style: normal;} /* String constants. */
.ModelicaClass { color: red; font-weight: normal; font-style: normal;} /* Formatting the names of referenced classes (for base-class and components). */
.ModelicaFunction { color: red; font-weight: normal; font-style: normal;} /* Formatting for called functions. */
.ModelicaTablePackageContent { } /* The table of contents for each package. */
.ModelicaTableCrossReference { } /* The optional cross-reference table. */
.ModelicaTableInputs {} /* The table of inputs for a function. */
.ModelicaTableOutputs {} /* The table of outputs for a function. */
.ModelicaTableParameters {} /* The table of parameters for a model/block. */
.ModelicaTableConnectors {} /* The table of connectors for a model/block. */
.ModelicaTableContents {} /* The table of contents for a connector. */
.ModelicaStartAttribute { font-weight: bold; } /* The formatting used for start-attribute in the table of parameters, to separate them from parameter values. */
.ModelicaParameterTab { background-color: #c0c0c0; font-weight: bold; } /* The tab-heading in the table of parameters */
.ModelicaParameterGroup { background-color: #e0e0e0; } /* The group-heading in the table of parameters */
</style>
</head>
<body>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Modelica.Blocks.Examples"></a><a href="Modelica_Blocks.html#Modelica.Blocks"
>Modelica.Blocks</a>.Examples</h2>
<p>
<span class="ModelicaDescription">Library of examples to demonstrate the usage of package Blocks</span>
</p>
<h3>Information</h3>

<p>
This package contains example models to demonstrate the
usage of package blocks.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</span></p>
<h3>Package Content</h3>
<table summary="Package Content" class="ModelicaTablePackageContent">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.PID_Controller" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.PID_Controller"
>PID_Controller</a>
</td>
<td>Demonstrates the usage of a Continuous.LimPID controller</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.Filter" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.Filter"
>Filter</a>
</td>
<td>Demonstrates the Continuous.Filter block with various options</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.FilterWithDifferentiation" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.FilterWithDifferentiation"
>FilterWithDifferentiation</a>
</td>
<td>Demonstrates the use of low pass filters to determine derivatives of filters</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.FilterWithRiseTime" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.FilterWithRiseTime"
>FilterWithRiseTime</a>
</td>
<td>Demonstrates to use the rise time instead of the cut-off frequency to define a filter</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.SlewRateLimiter" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.SlewRateLimiter"
>SlewRateLimiter</a>
</td>
<td>Demonstrate usage of Nonlinear.SlewRateLimiter</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.InverseModel" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.InverseModel"
>InverseModel</a>
</td>
<td>Demonstrates the construction of an inverse model</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.ShowLogicalSources" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.ShowLogicalSources"
>ShowLogicalSources</a>
</td>
<td>Demonstrates the usage of logical sources together with their diagram animation</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.LogicalNetwork1" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.LogicalNetwork1"
>LogicalNetwork1</a>
</td>
<td>Demonstrates the usage of logical blocks</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.RealNetwork1" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.RealNetwork1"
>RealNetwork1</a>
</td>
<td>Demonstrates the usage of blocks from Modelica.Blocks.Math</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.IntegerNetwork1" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.IntegerNetwork1"
>IntegerNetwork1</a>
</td>
<td>Demonstrates the usage of blocks from Modelica.Blocks.MathInteger</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.BooleanNetwork1" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.BooleanNetwork1"
>BooleanNetwork1</a>
</td>
<td>Demonstrates the usage of blocks from Modelica.Blocks.MathBoolean</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.Interaction1" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.Interaction1"
>Interaction1</a>
</td>
<td>Demonstrates the usage of blocks from Modelica.Blocks.Interaction.Show</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.BusUsage" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.BusUsage"
>BusUsage</a>
</td>
<td>Demonstrates the usage of a signal bus</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.Rectifier6pulseFFT" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.Rectifier6pulseFFT"
>Rectifier6pulseFFT</a>
</td>
<td>Example of FFT block</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.Rectifier12pulseFFT" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.Rectifier12pulseFFT"
>Rectifier12pulseFFT</a>
</td>
<td>Example of FFT block</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.TotalHarmonicDistortion" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.TotalHarmonicDistortion"
>TotalHarmonicDistortion</a>
</td>
<td>Calculation of total harmonic distortion of voltage</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.Modulation" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.Modulation"
>Modulation</a>
</td>
<td>Demonstrate amplitude modulation and frequency modulation</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.SinCosEncoder" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.SinCosEncoder"
>SinCosEncoder</a>
</td>
<td>Evaluation of a sinusoidal encoder</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.CompareSincExpSine" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.CompareSincExpSine"
>CompareSincExpSine</a>
</td>
<td>Compare sinc and exponential sine signal</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.DemonstrateSignalExtrema" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.DemonstrateSignalExtrema"
>DemonstrateSignalExtrema</a>
</td>
<td>Test detection of signal extrema</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.DemonstrateContinuousSignalExtrema" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.DemonstrateContinuousSignalExtrema"
>DemonstrateContinuousSignalExtrema</a>
</td>
<td>Test the ContinuousSignalExtrema block</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.PID_ControllerS.png" alt="Modelica.Blocks.Examples.DemoSignalCharacteristic" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples.DemoSignalCharacteristic"
>DemoSignalCharacteristic</a>
</td>
<td>Demonstrate characteristic values of a signal</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.ExamplesS.png" alt="Modelica.Blocks.Examples.Noise" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples_Noise.html#Modelica.Blocks.Examples.Noise"
>Noise</a>
</td>
<td>Library of examples to demonstrate the usage of package Blocks.Noise</td>
</tr>
<tr>
<td><img src="Modelica.Blocks.Examples.77e9f5d54e5edca7itiesS.png" alt="Modelica.Blocks.Examples.BusUsage_Utilities" width="20" height="20" align="top">&nbsp;<a href="Modelica_Blocks_Examples_BusUsage_Utilities.html#Modelica.Blocks.Examples.BusUsage_Utilities"
>BusUsage_Utilities</a>
</td>
<td>Utility models and connectors for example Modelica.Blocks.Examples.BusUsage</td>
</tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PID_Controller<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.PID_Controller" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.PID_Controller"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.PID_Controller</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of a Continuous.LimPID controller</span>
</p>
<h3>Information</h3>


<p>
This is a simple drive train controlled by a PID controller:
</p>

<ul>
<li> The two blocks "kinematic_PTP" and "integrator" are used to generate
     the reference speed (= constant acceleration phase, constant speed phase,
     constant deceleration phase until inertia is at rest). To check
     whether the system starts in steady state, the reference speed is
     zero until time = 0.5 s and then follows the sketched trajectory.</li>

<li> The block "PI" is an instance of "Blocks.Continuous.LimPID" which is
     a PID controller where several practical important aspects, such as
     anti-windup-compensation has been added. In this case, the control block
     is used as PI controller.</li>

<li> The output of the controller is a torque that drives a motor inertia
     "inertia1". Via a compliant spring/damper component, the load
     inertia "inertia2" is attached. A constant external torque of 10 Nm
     is acting on the load inertia.</li>
</ul>

<p>
The PI controller is initialized in steady state (initType=SteadyState)
and the drive shall also be initialized in steady state.
However, it is not possible to initialize "inertia1" in SteadyState, because
"der(inertia1.phi)=inertia1.w=0" is an input to the PI controller that
defines that the derivative of the integrator state is zero (= the same
condition that was already defined by option SteadyState of the PI controller).
Furthermore, one initial condition is missing, because the absolute position
of inertia1 or inertia2 is not defined. The solution shown in this examples is
to initialize the angle and the angular acceleration of "inertia1".
</p>

<p>
In the following figure, results of a typical simulation are shown:
</p>

<img src="../Images/Blocks/Examples/PID_controller.png"
     alt="PID_controller.png"><br>

<img src="../Images/Blocks/Examples/PID_controller2.png"
     alt="PID_controller2.png">

<p>
In the upper figure the reference speed (= integrator.y) and
the actual speed (= inertia1.w) are shown. As can be seen,
the system initializes in steady state, since no transients
are present. The inertia follows the reference speed quite good
until the end of the constant speed phase. Then there is a deviation.
In the lower figure the reason can be seen: The output of the
controller (PI.y) is in its limits. The anti-windup compensation
works reasonably, since the input to the limiter (PI.limiter.u)
is forced back to its limit after a transient phase.
</p>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>driveAngle</td><td>Reference distance to move [rad]</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Filter<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.Filter" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.Filter"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.Filter</h2>
<p>
<span class="ModelicaDescription">Demonstrates the Continuous.Filter block with various options</span>
</p>
<h3>Information</h3>


<p>
This example demonstrates various options of the
<a href="Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Filter"
>Filter</a> block.
A step input starts at 0.1 s with an offset of 0.1, in order to demonstrate
the initialization options. This step input drives 4 filter blocks that
have identical parameters, with the only exception of the used analog filter type
(CriticalDamping, Bessel, Butterworth, Chebyshev of type I). All the main options
can be set via parameters and are then applied to all the 4 filters.
The default setting uses low pass filters of order 3 with a cut-off frequency of
2 Hz resulting in the following outputs:
</p>

<img src="../Images/Blocks/Examples/Filter1.png"
     alt="Filter1.png">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>order</td><td>Number of order of filter</td></tr>
<tr><td>f_cut</td><td>Cut-off frequency [Hz]</td></tr>
<tr><td>filterType</td><td>Type of filter (LowPass/HighPass)</td></tr>
<tr><td>init</td><td>Type of initialization (no init/steady state/initial state/initial output)</td></tr>
<tr><td>normalized</td><td>= true, if amplitude at f_cut = -3db, otherwise unmodified filter</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE FilterWithDifferentiation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.FilterWithDifferentiation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.FilterWithDifferentiation"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.FilterWithDifferentiation</h2>
<p>
<span class="ModelicaDescription">Demonstrates the use of low pass filters to determine derivatives of filters</span>
</p>
<h3>Information</h3>


<p>
This example demonstrates that the output of the
<a href="Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Filter"
>Filter</a> block
can be differentiated up to the order of the filter. This feature can be
used in order to make an inverse model realizable or to "smooth" a potential
discontinuous control signal.
</p>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>f_cut</td><td>Cut-off frequency [Hz]</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE FilterWithRiseTime<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.FilterWithRiseTime" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.FilterWithRiseTime"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.FilterWithRiseTime</h2>
<p>
<span class="ModelicaDescription">Demonstrates to use the rise time instead of the cut-off frequency to define a filter</span>
</p>
<h3>Information</h3>

<p>
Filters are usually parameterized with the cut-off frequency.
Sometimes, it is more meaningful to parameterize a filter with its
rise time, i.e., the time it needs until the output reaches the end value
of a step input. This is performed with the formula:
</p>

<blockquote><pre>
f_cut = fac/(2*pi*riseTime);
</pre></blockquote>

<p>
where "fac" is typically 3, 4, or 5. The following image shows
the results of a simulation of this example model
(riseTime = 2 s, fac=3, 4, and 5):
</p>

<img src="../Images/Blocks/Examples/FilterWithRiseTime.png"
     alt="FilterWithRiseTime.png">

<p>
Since the step starts at 1 s, and the rise time is 2 s, the filter output y
shall reach the value of 1 after 1+2=3 s. Depending on the factor "fac" this is
reached with different precisions. This is summarized in the following table:
</p>

<blockquote><table border="1" cellspacing="0" cellpadding="2">
<tr>
   <td>Filter order</td>
   <td>Factor fac</td>
   <td>Percentage of step value reached after rise time</td>
</tr>
<tr>
   <td align="center">1</td>
   <td align="center">3</td>
   <td align="center">95.1 %</td>
</tr>
<tr>
   <td align="center">1</td>
   <td align="center">4</td>
   <td align="center">98.2 %</td>
</tr>
<tr>
   <td align="center">1</td>
   <td align="center">5</td>
   <td align="center">99.3 %</td>
</tr>

<tr>
   <td align="center">2</td>
   <td align="center">3</td>
   <td align="center">94.7 %</td>
</tr>
<tr>
   <td align="center">2</td>
   <td align="center">4</td>
   <td align="center">98.6 %</td>
</tr>
<tr>
   <td align="center">2</td>
   <td align="center">5</td>
   <td align="center">99.6 %</td>
</tr>
</table></blockquote>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>order</td><td>Filter order</td></tr>
<tr><td>riseTime</td><td>Time to reach the step input [s]</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SlewRateLimiter<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.SlewRateLimiter" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.SlewRateLimiter"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.SlewRateLimiter</h2>
<p>
<span class="ModelicaDescription">Demonstrate usage of Nonlinear.SlewRateLimiter</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates how to use the Nonlinear.SlewRateLimiter block to limit a position step with regards to velocity and acceleration:
</p>
<ul>
<li> The Sources.Step block <code>positionStep</code> demands an unphysical position step.</li>
<li> The first SlewRateLimiter block  <code>limit_v</code> limits velocity.</li>
<li> The first Der block <code>v</code> calculates velocity from the smoothed position signal.</li>
<li> The second SlewRateLimiter block <code>limit_a</code> limits acceleration of the smoothed velocity signal.</li>
<li> The second Der block <code>a</code> calculates acceleration from the smoothed velocity signal.</li>
<li> The Integrator block <code>positionSmoothed</code> calculates smoothed position from the smoothed velocity signal.</li>
</ul>
<p>
A position controlled drive with limited velocity and limited acceleration (i.e. torque) is able to follow the smoothed reference position.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>vMax</td><td>Max. velocity [m/s]</td></tr>
<tr><td>aMax</td><td>Max. acceleration [m/s2]</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE InverseModel<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.InverseModel" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.InverseModel"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.InverseModel</h2>
<p>
<span class="ModelicaDescription">Demonstrates the construction of an inverse model</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates how to construct an inverse model in Modelica
(for more details see <a href="https://www.modelica.org/events/Conference2005/online_proceedings/Session3/Session3c3.pdf">Looye, Th&uuml;mmel, Kurze, Otter, Bals: Nonlinear Inverse Models for Control</a>).
</p>

<p>
For a linear, single input, single output system
</p>

<blockquote><pre>
y = n(s)/d(s) * u   // plant model
</pre></blockquote>

<p>
the inverse model is derived by simply exchanging the numerator and
the denominator polynomial:
</p>

<blockquote><pre>
u = d(s)/n(s) * y   // inverse plant model
</pre></blockquote>

<p>
If the denominator polynomial d(s) has a higher degree as the
numerator polynomial n(s) (which is usually the case for plant models),
then the inverse model is no longer proper, i.e., it is not causal.
To avoid this, an approximate inverse model is constructed by adding
a sufficient number of poles to the denominator of the inverse model.
This can be interpreted as filtering the desired output signal y:
</p>

<blockquote><pre>
u = d(s)/(n(s)*f(s)) * y  // inverse plant model with filtered y
</pre></blockquote>

<p>
With Modelica it is in principal possible to construct inverse models not only
for linear but also for non-linear models and in particular for every
Modelica model. The basic construction mechanism is explained at hand
of this example:
</p>

<img src="../Images/Blocks/Examples/InverseModelSchematic.png"
     alt="InverseModelSchematic.png">

<p>
Here the first order block "firstOrder1" shall be inverted. This is performed
by connecting its inputs and outputs with an instance of block
Modelica.Blocks.Math.<strong>InverseBlockConstraints</strong>. By this connection,
the inputs and outputs are exchanged. The goal is to compute the input of the
"firstOrder1" block so that its output follows a given sine signal.
For this, the sine signal "sin" is first filtered with a "CriticalDamping"
filter of order 1 and then the output of this filter is connected to the output
of the "firstOrder1" block (via the InverseBlockConstraints block, since
2 outputs cannot be connected directly together in a block diagram).
</p>

<p>
In order to check the inversion, the computed input of "firstOrder1" is used
as input in an identical block "firstOrder2". The output of "firstOrder2" should
be the given "sine" function. The difference is constructed with the "feedback"
block. Since the "sine" function is filtered, one cannot expect that this difference
is zero. The higher the cut-off frequency of the filter, the closer is the
agreement. A typical simulation result is shown in the next figure:
</p>

<img src="../Images/Blocks/Examples/InverseModel.png"
     alt="InverseModel.png">

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ShowLogicalSources<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.ShowLogicalSources" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.ShowLogicalSources"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.ShowLogicalSources</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of logical sources together with their diagram animation</span>
</p>
<h3>Information</h3>

<p>
This simple example demonstrates the logical sources in
<a href="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources"
>Modelica.Blocks.Sources</a> and demonstrate
their diagram animation (see "small circle" close to the output connector).
The "booleanExpression" source shows how a logical expression can be defined
in its parameter menu referring to variables available on this level of the
model.
</p>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE LogicalNetwork1<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.LogicalNetwork1" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.LogicalNetwork1"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.LogicalNetwork1</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of logical blocks</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates a network of logical blocks. Note, that
the Boolean values of the input and output signals are visualized
in the diagram animation, by the small "circles" close to the connectors.
If a "circle" is "white", the signal is <strong>false</strong>. It a
"circle" is "green", the signal is <strong>true</strong>.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RealNetwork1<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.RealNetwork1" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.RealNetwork1"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.RealNetwork1</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of blocks from Modelica.Blocks.Math</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates a network of mathematical Real blocks.
from package <a href="Modelica_Blocks_Math.html#Modelica.Blocks.Math"
>Modelica.Blocks.Math</a>.
Note, that
</p>

<ul>
<li> at the right side of the model, several Math.ShowValue blocks
     are present, that visualize the actual value of the respective Real
     signal in a diagram animation.</li>

<li> the Boolean values of the input and output signals are visualized
     in the diagram animation, by the small "circles" close to the connectors.
     If a "circle" is "white", the signal is <strong>false</strong>. If a
     "circle" is "green", the signal is <strong>true</strong>.</li>
</ul>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE IntegerNetwork1<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.IntegerNetwork1" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.IntegerNetwork1"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.IntegerNetwork1</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of blocks from Modelica.Blocks.MathInteger</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates a network of Integer blocks.
from package <a href="Modelica_Blocks_MathInteger.html#Modelica.Blocks.MathInteger"
>Modelica.Blocks.MathInteger</a>.
Note, that
</p>

<ul>
<li> at the right side of the model, several MathInteger.ShowValue blocks
     are present, that visualize the actual value of the respective Integer
     signal in a diagram animation.</li>

<li> the Boolean values of the input and output signals are visualized
     in the diagram animation, by the small "circles" close to the connectors.
     If a "circle" is "white", the signal is <strong>false</strong>. If a
     "circle" is "green", the signal is <strong>true</strong>.</li>

</ul>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BooleanNetwork1<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.BooleanNetwork1" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.BooleanNetwork1"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.BooleanNetwork1</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of blocks from Modelica.Blocks.MathBoolean</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates a network of Boolean blocks
from package <a href="Modelica_Blocks_MathBoolean.html#Modelica.Blocks.MathBoolean"
>Modelica.Blocks.MathBoolean</a>.
Note, that
</p>

<ul>
<li> at the right side of the model, several MathBoolean.ShowValue blocks
     are present, that visualize the actual value of the respective Boolean
     signal in a diagram animation ("green" means "true").</li>

<li> the Boolean values of the input and output signals are visualized
     in the diagram animation, by the small "circles" close to the connectors.
     If a "circle" is "white", the signal is <strong>false</strong>. If a
     "circle" is "green", the signal is <strong>true</strong>.</li>

</ul>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Interaction1<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.Interaction1" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.Interaction1"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.Interaction1</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of blocks from Modelica.Blocks.Interaction.Show</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates a network of blocks
from package <a href="Modelica_Blocks_Interaction.html#Modelica.Blocks.Interaction"
>Modelica.Blocks.Interaction</a>
to show how diagram animations can be constructed.
</p>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BusUsage<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.BusUsage" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.BusUsage"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.BusUsage</h2>
<p>
<span class="ModelicaDescription">Demonstrates the usage of a signal bus</span>
</p>
<h3>Information</h3>

<p><strong>Signal bus concept</strong></p>
<p>
In technical systems, such as vehicles, robots or satellites, many signals
are exchanged between components. In a simulation system, these signals
are usually modelled by signal connections of input/output blocks.
Unfortunately, the signal connection structure may become very complicated,
especially for hierarchical models.
</p>

<p>
The same is also true for real technical systems. To reduce complexity
and get higher flexibility, many technical systems use data buses to
exchange data between components. For the same reasons, it is often better
to use a "signal bus" concept also in a Modelica model. This is demonstrated
at hand of this model (Modelica.Blocks.Examples.BusUsage):
</p>

<img src="../Images/Blocks/Examples/BusUsage.png"
     alt="BusUsage.png">

<ul>
<li> Connector instance "controlBus" is a hierarchical connector that is
     used to exchange signals between different components. It is
     defined as "expandable connector" in order that <strong>no</strong> central definition
     of the connector is needed but is automatically constructed by the
     signals connected to it (see also <a href="https://specification.modelica.org/maint/3.6/connectors-and-connections.html#expandable-connectors">Section&nbsp;9.1.3 <em>Expandable Connectors</em> of the Modelica&nbsp;3.6 specification</a>).</li>
<li> Input/output signals can be directly connected to the "controlBus".</li>
<li> A component, such as "part", can be directly connected to the "controlBus",
     provided it has also a bus connector, or the "part" connector is a
     sub-connector contained in the "controlBus".</li>
</ul>

<p>
The control and sub-control bus icons are provided within Modelica.Icons.
In <a href="Modelica_Blocks_Examples_BusUsage_Utilities_Interfaces.html#Modelica.Blocks.Examples.BusUsage_Utilities.Interfaces"
>Modelica.Blocks.Examples.BusUsage_Utilities.Interfaces</a>
the buses for this example are defined. Both the "ControlBus" and the "SubControlBus" are
<strong>expandable</strong> connectors that do not define any variable. For example,
<a href="../../Blocks/Examples/BusUsage_Utilities/Interfaces/ControlBus">Interfaces.ControlBus</a>
is defined as:
</p>
<blockquote><pre>
<strong>expandable connector</strong> ControlBus
    <strong>extends</strong> Modelica.Icons.ControlBus;
    <strong>annotation</strong> ();
<strong>end</strong> ControlBus;
</pre></blockquote>
<p>
Note, the "annotation" in the connector is important since the color
and thickness of a connector line are taken from the first
line element in the icon annotation of a connector class. Above, a small rectangle in the
color of the bus is defined (and therefore this rectangle is not
visible). As a result, when connecting from an instance of this
connector to another connector instance, the connecting line has
the color of the "ControlBus" with double width (due to "thickness=0.5").
</p>

<p>
An <strong>expandable</strong> connector is a connector where the content of the connector
is constructed by the variables connected to instances of this connector.
For example, if "sine.y" is connected to the "controlBus", a pop-up menu may appear:
</p>

<img src="../Images/Blocks/Examples/BusUsage2.png"
     alt="BusUsage2.png">

<p>
The "Add variable/New name" field allows the user to define the name of the signal on
the "controlBus". When typing "realSignal1" as "New name", a connection of the form:
</p>

<blockquote><pre>
<strong>connect</strong>(sine.y, controlBus.realSignal1)
</pre></blockquote>

<p>
is generated and the "controlBus" contains the new signal "realSignal1". Modelica tools
may give more support in order to list potential signals for a connection. Therefore, in
<a href="Modelica_Blocks_Examples_BusUsage_Utilities_Interfaces.html#Modelica.Blocks.Examples.BusUsage_Utilities.Interfaces"
>BusUsage_Utilities.Interfaces</a>
the expected implementation of the "ControlBus" and of the "SubControlBus" are given.
For example "Internal.ControlBus" is defined as:
</p>

<blockquote><pre>
<strong>expandable connector</strong> StandardControlBus
  <strong>extends</strong> BusUsage_Utilities.Interfaces.ControlBus;

  <strong>import</strong> Modelica.Units.SI;
  SI.AngularVelocity    realSignal1   "First Real signal";
  SI.Velocity           realSignal2   "Second Real signal";
  Integer               integerSignal "Integer signal";
  Boolean               booleanSignal "Boolean signal";
  StandardSubControlBus subControlBus "Combined signal";
<strong>end</strong> StandardControlBus;
</pre></blockquote>

<p>
Consequently, when connecting now from "sine.y" to "controlBus", the menu
looks differently:
</p>

<img src="../Images/Blocks/Examples/BusUsage3.png"
     alt="BusUsage3.png">

<p>
Note, even if the signals from "Internal.StandardControlBus" are listed, these are
just potential signals. The user might still add different signal names.
</p>


<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Rectifier6pulseFFT<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.Rectifier6pulseFFT" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.Rectifier6pulseFFT"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.Rectifier6pulseFFT</h2>
<p>
<span class="ModelicaDescription">Example of FFT block</span>
</p>
<h3>Information</h3>

<p>
This example is based on a&nbsp;<a href="Modelica_Electrical_Machines_Examples_Transformers.html#Modelica.Electrical.Machines.Examples.Transformers.Rectifier6pulse"
>6-pulse rectifier example</a>,
calculating the harmonics with the <a href="Modelica_Blocks_Math.html#Modelica.Blocks.Math.RealFFT"
>FFT block</a>.
</p>
<p>
Sampling starts after the initial transients are settled - waiting for
<code>2&nbsp;periods&nbsp;= 2/f&nbsp;= 0.04&nbsp;s&nbsp;= realFFT.startTime</code>.
Choosing a&nbsp;maximum frequency <code>f_max&nbsp;=&nbsp;2000&nbsp;Hz</code>,
a&nbsp;frequency resolution <code>f_res&nbsp;=&nbsp;5&nbsp;Hz</code>
(both given in the block <code>realFFT</code>) and
the default oversampling factor <code>f_max_factor&nbsp;=&nbsp;5</code>,
we have to acquire <code>n&nbsp;= 2*f_max/f_res*f_max_factor&nbsp;=&nbsp;4000</code>
sampling intervals.
The resulting sampling interval is <code>samplePeriod&nbsp;=&nbsp;1/(n*f_res)&nbsp;=&nbsp;0.05&nbsp;ms</code>.
Thus, we have to sample for a&nbsp;period of <code>n*samplePeriod&nbsp;=&nbsp;1/f_res&nbsp;=&nbsp;0.2&nbsp;s</code>.
</p>
<p>
The result file &quot;rectifier6pulseFFTresult.mat&quot; can be used to plot
amplitudes versus frequencies.
Note that for each frequency three rows exit: one with amplitude zero,
one with the calculated amplitude, one with amplitude zero.
Thus, the second column (amplitude) can be easily plotted versus the first column (frequency).
As expected, one can see the 5<sup>th</sup>, 7<sup>th</sup>, 11<sup>th</sup>,
13<sup>th</sup>, 17<sup>th</sup>, 19<sup>th</sup>, 23<sup>th</sup>, 25<sup>th</sup>,
&hellip; harmonic in the result.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Electrical_Machines_Examples_Transformers.html#Modelica.Electrical.Machines.Examples.Transformers.Rectifier6pulse"
>Modelica.Electrical.Machines.Examples.Transformers.Rectifier6pulse</a> (6-pulse rectifier with 1 transformer).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>V</td><td>Amplitude of star-voltage [V]</td></tr>
<tr><td>f</td><td>Frequency [Hz]</td></tr>
<tr><td>RL</td><td>Load resistance [Ohm]</td></tr>
<tr><td>C</td><td>Total DC-capacitance [F]</td></tr>
<tr><td>VC0</td><td>Initial voltage of capacitance [V]</td></tr>
<tr><td>transformerData1</td><td>Data of transformer 1</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Rectifier12pulseFFT<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.Rectifier12pulseFFT" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.Rectifier12pulseFFT"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.Rectifier12pulseFFT</h2>
<p>
<span class="ModelicaDescription">Example of FFT block</span>
</p>
<h3>Information</h3>

<p>
This example is based on a&nbsp;<a href="Modelica_Electrical_Machines_Examples_Transformers.html#Modelica.Electrical.Machines.Examples.Transformers.Rectifier12pulse"
>12-pulse rectifier example</a>,
calculating the harmonics with the <a href="Modelica_Blocks_Math.html#Modelica.Blocks.Math.RealFFT"
>FFT block</a>.
</p>
<p>
Sampling starts after the initial transients are settled - waiting for
<code>2&nbsp;periods&nbsp;= 2/f&nbsp;= 0.04&nbsp;s&nbsp;= realFFT.startTime</code>.
Choosing a&nbsp;maximum frequency <code>f_max&nbsp;=&nbsp;2000&nbsp;Hz</code>,
a&nbsp;frequency resolution <code>f_res&nbsp;=&nbsp;5&nbsp;Hz</code>
(both given in the block <code>realFFT</code>) and
the default oversampling factor <code>f_max_factor&nbsp;=&nbsp;5</code>,
we have to acquire <code>n&nbsp;= 2*f_max/f_res*f_max_factor&nbsp;=&nbsp;4000</code>
sampling intervals.
The resulting sampling interval is <code>samplePeriod&nbsp;=&nbsp;1/(n*f_res)&nbsp;=&nbsp;0.05&nbsp;ms</code>.
Thus, we have to sample for a&nbsp;period of <code>n*samplePeriod = 1/f_res = 0.2 s</code>.
</p>
<p>
The result file &quot;rectifier12pulseFFTresult.mat&quot; can be used to plot amplitudes versus frequencies.
Note that for each frequency three rows exit: one with amplitude zero,
one with the calculated amplitude, one with amplitude zero.
Thus, the second column (amplitude) can be easily plotted versus the first column (frequency).
As expected, one can see the 11<sup>th</sup>, 13<sup>th</sup>, 23<sup>th</sup>, 25<sup>th</sup>,
&hellip; harmonic in the result.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Electrical_Machines_Examples_Transformers.html#Modelica.Electrical.Machines.Examples.Transformers.Rectifier12pulse"
>Modelica.Electrical.Machines.Examples.Transformers.Rectifier12pulse</a> (12-pulse rectifier with 2 transformers).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>V</td><td>Amplitude of star-voltage [V]</td></tr>
<tr><td>f</td><td>Frequency [Hz]</td></tr>
<tr><td>RL</td><td>Load resistance [Ohm]</td></tr>
<tr><td>C</td><td>Total DC-capacitance [F]</td></tr>
<tr><td>VC0</td><td>Initial voltage of capacitance [V]</td></tr>
<tr><td>transformerData1</td><td>Data of transformer 1</td></tr>
<tr><td>transformerData2</td><td>Data of transformer 2</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TotalHarmonicDistortion<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.TotalHarmonicDistortion" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.TotalHarmonicDistortion"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.TotalHarmonicDistortion</h2>
<p>
<span class="ModelicaDescription">Calculation of total harmonic distortion of voltage</span>
</p>
<h3>Information</h3>

<p>This example compares the result of the
<a href="Modelica_Blocks_Math.html#Modelica.Blocks.Math.TotalHarmonicDistortion"
>total harmonic distortion (THD)</a>
with respect to the fundamental wave and with respect to the total root mean square (RMS).
In this simulation model a non-sinusoidal voltage
wave form is created by the superposition two voltage waves:</p>

<ul>
<li>Fundamental wave with RMS voltage <code>V1</code> and frequency <code>f1</code></li>
<li>Third harmonic wave with RMS voltage <code>V3</code> and frequency <code>3*f1</code></li>
</ul>

<p>This simulation model compares numerically determined THD values with results, obtained by
theoretical calculations:</p>

<ul>
<li>Compare the numerically determined THD value <code>thd1.y</code> and the theoretical value <code>THD1</code>,
    both with respect to the fundamental wave; also plot <code>thd1.valid</code></li>
<li>Compare the numerically determined THD value <code>thdRMS.y</code> and the theoretical value <code>THDrms</code>,
    both with respect to the RMS value; also plot <code>thdRMS.valid</code></li>
</ul>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>f1</td><td>Fundamental wave frequency [Hz]</td></tr>
<tr><td>V1</td><td>Fundamental wave RMS voltage [V]</td></tr>
<tr><td>V3</td><td>Third harmonic wave RMS voltage [V]</td></tr>
</table>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Modulation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.Modulation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.Modulation"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.Modulation</h2>
<p>
<span class="ModelicaDescription">Demonstrate amplitude modulation and frequency modulation</span>
</p>
<h3>Information</h3>

<p>
This example demonstrates amplitude modulation (AM) and frequency modulation (FM).
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SinCosEncoder<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.SinCosEncoder" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.SinCosEncoder"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.SinCosEncoder</h2>
<p>
<span class="ModelicaDescription">Evaluation of a sinusoidal encoder</span>
</p>
<h3>Information</h3>

<p>
This examples demonstrates robust evaluation of a sin-cos-encoder.
</p>
<p>
The sin-cos-encoder provides four tracks:
</p>
<ul>
<li>cosine</li>
<li>minus sine</li>
<li>sine</li>
<li>minus cosine</li>
</ul>
<p>
All four tracks have the same amplitude and the same offset &gt; amplitude. Offset is used to detect loss of a track.
To remove offset, (minus sine) is subtracted from (sine) and (minus cosine) from (cosine),
resulting in a cosine and a sine signal with doubled amplitude but without offset.
</p>
<p>
Interpreting cosine and sine as real and imaginary part of a phasor, one could calculate the angle of the phasor (i.e. transform rectangular coordinates to polar coordinates).
This is not very robust if the signals are superimposed with some noise.
Therefore the phasor is rotated by an angle that is obtained by a controller. The controller aims at imaginary part equal to zero.
The resulting angle is continuous, i.e. differentiating the angle results in 2*&pi;*frequency.
If desired, the angle can be wrapped to the interval [-&pi;, +&pi;].
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CompareSincExpSine<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.CompareSincExpSine" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.CompareSincExpSine"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.CompareSincExpSine</h2>
<p>
<span class="ModelicaDescription">Compare sinc and exponential sine signal</span>
</p>
<h3>Information</h3>

<p>
Compare the sinc signal and an exponentially damped sine.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DemonstrateSignalExtrema<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.DemonstrateSignalExtrema" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.DemonstrateSignalExtrema"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.DemonstrateSignalExtrema</h2>
<p>
<span class="ModelicaDescription">Test detection of signal extrema</span>
</p>
<h3>Information</h3>

<p>
This example uses a sinusoidal signal with amplitude varying sinusoidally in the range of [1,5] with a frequency of 63 Hz,
and frequency varying according to a cosine function in the range of [10, 100] Hz with a frequency of 77 Hz.
</p>
<p>
Note that signalExtrema1 doesn't find the extrema exactly since sampling frequency 100 Hz is too small compared to maximum frequency of the input signal,
whereas signalExtrema2 catches the extrema rather good due to the fact that sampling frequency 10 kHz is high enough.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DemonstrateContinuousSignalExtrema<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.DemonstrateContinuousSignalExtrema" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.DemonstrateContinuousSignalExtrema"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.DemonstrateContinuousSignalExtrema</h2>
<p>
<span class="ModelicaDescription">Test the ContinuousSignalExtrema block</span>
</p>
<h3>Information</h3>

<p>
The amplitudes of both a differentiable sinusoidal signal (frequency 9 Hz) and a non-differentiable sawtooth signal (period 1/9 s) are modulated sinusoidally (frequency 0.75 Hz).
</p>
<p>
Note that the ContinuousSignalExtremaBlock detects extrema of both signals without sampling.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DemoSignalCharacteristic<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Modelica.Blocks.Examples.PID_ControllerI.png" alt="Modelica.Blocks.Examples.DemoSignalCharacteristic" align="right" style="border: 1px solid" width="80" height="80">
<a name="Modelica.Blocks.Examples.DemoSignalCharacteristic"></a><a href="Modelica_Blocks_Examples.html#Modelica.Blocks.Examples"
>Modelica.Blocks.Examples</a>.DemoSignalCharacteristic</h2>
<p>
<span class="ModelicaDescription">Demonstrate characteristic values of a signal</span>
</p>
<h3>Information</h3>

<p>This example demonstrates how to calculate characteristic values of the pulse signal <code>y</code></p>

<table cellspacing="0" cellpadding="2" border="1">
<tr>
<td>Characteristic quantity</td>
<td>Numerically calculated</td>
<td>Analytically calculated</td>
</tr>
<tr>
<td>Mean</td>
<td><code>mean.y</code></td>
<td><code>y_mean</code></td>
</tr>
<tr>
<td>Rectified mean</td>
<td><code>rectifiedMean.y</code></td>
<td><code>y_rect</code></td>
</tr>
<tr>
<td>Root mean square</td>
<td><code>rootMeanSquare.y</code></td>
<td><code>y_rms</code></td>
</tr>
<tr>
<td>First harmonic</td>
<td><code>harmonic.y_rms</code><br><code>harmonic.y_arg</code></td>
<td><code>y1_rms</code><br><code>y1_arg</code></td>
</tr>
</table>

<p>The output of these blocks is updated after each period of the signal.</p>
<p>
Using a simple pulse series, these values can be calculated analytically. 
Propagating these values as initial values for the output, 
we can compare the numerical solution with the analytical solution: 
The output is constant from the beginning.
</p>

<p><span class="ModelicaBaseClass">Extends from <a href="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</span></p>
<h3>Parameters</h3>
<table summary="Parameters" class="ModelicaTableParameters">
<tr><th>Name</th><th>Description</th></tr>
<tr><td>app</td><td>Peak-to-peak value of pulse signal</td></tr>
<tr><td>dutyCycle</td><td>Duty cycle of pulse signal</td></tr>
<tr><td>offset</td><td>Offset of pulse signal</td></tr>
<tr><td>f</td><td>Base frequency of pulse signal [Hz]</td></tr>
<tr><td>y_mean</td><td>Mean value</td></tr>
<tr><td>y_rect</td><td>Rectified mean</td></tr>
<tr><td>y_rms</td><td>Root mean square</td></tr>
<tr><td>y1_cos</td><td>First harmonic cosine rms component</td></tr>
<tr><td>y1_sin</td><td>First harmonic sine rms component</td></tr>
<tr><td>y1_rms</td><td>RMS value of first harmonic</td></tr>
<tr><td>y1_arg</td><td>Argument of first harmonic</td></tr>
</table>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Tue Feb 24 16:58:54 2026.
</address>
</body>
</html>
