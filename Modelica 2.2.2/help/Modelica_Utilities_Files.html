<HTML>
<HEAD>
<TITLE>Modelica.Utilities.Files</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Functions to work with files and directories&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal}
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Files<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Utilities.Files"></A><A HREF="Modelica_Utilities.html#Modelica.Utilities"
>Modelica.Utilities</A>.Files</H2>
<B>Functions to work with files and directories</B>
<P>
<H3>Information</H3>
<PRE></pre>
<p>
This package contains functions to work with files and directories.
As a general convention of this package, '/' is used as directory
separator both for input and output arguments of all functions.
For example:
</p>
<pre>
   exist("Modelica/Mechanics/Rotational.mo");
</pre>
<p>
The functions provide the mapping to the directory separator of the
underlying operating system. Note, that on Windows system the usage
of '\' as directory separator would be inconvenient, because this
character is also the escape character in Modelica and C Strings.
</p>
<p>
In the table below an example call to every function is given:
</p>
<table border=1 cellspacing=0 cellpadding=2>
  <tr><th><b><i>Function/type</i></b></th><th><b><i>Description</i></b></th></tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.list"
>list</a>(name)</td>
      <td valign="top"> List content of file or of directory.</td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.copy"
>copy</a>(oldName, newName)<br>
          <A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.copy"
>copy</a>(oldName, newName, replace=false)</td>
      <td valign="top"> Generate a copy of a file or of a directory.</td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.move"
>move</a>(oldName, newName)<br>
          <A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.move"
>move</a>(oldName, newName, replace=false)</td>
      <td valign="top"> Move a file or a directory to another place.</td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.remove"
>remove</a>(name)</td>
      <td valign="top"> Remove file or directory (ignore call, if it does not exist).</td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.removeFile"
>removeFile</a>(name)</td>
      <td valign="top"> Remove file (ignore call, if it does not exist)</td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#d94c9e9a907880c3.createDirectory"
>createDirectory</a>(name)</td>
      <td valign="top"> Create directory (if directory already exists, ignore call).</td>
  </tr>
  <tr><td valign="top">result = <A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.exist"
>exist</a>(name)</td>
      <td valign="top"> Inquire whether file or directory exists.</td>
  </tr>
  <tr><td valign="top"><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.assertNew"
>assertNew</a>(name,message)</td>
      <td valign="top"> Trigger an assert, if a file or directory exists.</td>
  </tr>
  <tr><td valign="top">fullName = <A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.fullPathName"
>fullPathName</a>(name)</td>
      <td valign="top"> Get full path name of file or directory name.</td>
  </tr>
  <tr><td valign="top">(directory, name, extension) = <A HREF="Modelica_Utilities_Files.html#684b5adb443494aaes.splitPathName"
>splitPathName</a>(name)</td>
      <td valign="top"> Split path name in directory, file name kernel, file name extension.</td>
  </tr>
  <tr><td valign="top">fileName = <A HREF="Modelica_Utilities_Files.html#d95ab089e9b5b3bdemporaryFileName"
>temporaryFileName</a>()</td>
      <td valign="top"> Return arbitrary name of a file that does not exist<br>
           and is in a directory where access rights allow to <br>
           write to this file (useful for temporary output of files).</td>
  </tr>
</table>
<pre></PRE><P>
<H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.list" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.list"
>list</A>
</TD><TD>List content of file or directory</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.copy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.copy"
>copy</A>
</TD><TD>Generate a copy of a file or of a directory</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.move" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.move"
>move</A>
</TD><TD>Move a file or a directory to another place</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.remove" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.remove"
>remove</A>
</TD><TD>Remove file or directory (ignore call, if it does not exist)</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.removeFile" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.removeFile"
>removeFile</A>
</TD><TD>Remove file (ignore call, if it does not exist)</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.createDirectory" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#d94c9e9a907880c3.createDirectory"
>createDirectory</A>
</TD><TD>Create directory (if directory already exists, ignore call)</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.exist" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.exist"
>exist</A>
</TD><TD>Inquire whether file or directory exists</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.assertNew" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.assertNew"
>assertNew</A>
</TD><TD>Trigger an assert, if a file or directory exists</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.fullPathName" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files.fullPathName"
>fullPathName</A>
</TD><TD>Get full path name of file or directory name</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.splitPathName" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#684b5adb443494aaes.splitPathName"
>splitPathName</A>
</TD><TD>Split path name in directory, file name kernel, file name extension</TD></TR>
<TR><TD><IMG SRC="Modelica.Utilities.Files.listS.png" ALT="Modelica.Utilities.Files.temporaryFileName" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Utilities_Files.html#d95ab089e9b5b3bdemporaryFileName"
>temporaryFileName</A>
</TD><TD>Return arbitrary name of a file that does not exist and is in a directory where access rights allow to write to this file (useful for temporary output of files)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE list<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.list" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.list"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.list</H2>
<B>List content of file or directory</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>list</b>(name);
</pre></blockquote>
<h4>Description</h4>
<p>
If "name" is a regular file, the content of the
file is printed.
</p>
<p>
If "name" is a directory, the directory and file names
in the "name" directory are printed in sorted order.
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>name</TD><TD>&nbsp;</TD><TD>If name is a directory, list directory content. If it is a file, list the file content</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> list <font color="darkgreen">&quot;List content of file or directory&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String name <font color="darkgreen">
    &quot;If name is a directory, list directory content. If it is a file, list the file content&quot;</font>;
<font color="darkgreen">//..............................................................</font>
<font color="blue">protected </font>
<font color="blue">encapsulated </font><font color="blue">package</font> Local <font color="darkgreen">&quot;Local utility functions&quot;</font>
      <font color="blue">import </font><A HREF="Modelica_Utilities.html#Modelica.Utilities"
>Modelica.Utilities</A>.*;
      <font color="blue">import </font><A HREF="Modelica_Utilities_Internal.html#Modelica.Utilities.Internal"
>Modelica.Utilities.Internal</A>;

  <font color="blue">function</font> listFile <font color="darkgreen">&quot;List content of file&quot;</font>
     <font color="blue">input </font>String name;
    <font color="blue">protected </font>
     String file[<font color="red">Streams.countLines</font>(name)] =<font color="red">  Streams.readFile</font>(name);
  <font color="blue">algorithm </font>
     <font color="blue">for </font>i<font color="blue"> in </font>1:<font color="red">min</font>(<font color="red">size</font>(file,1), 100)<font color="blue"> loop</font>
        <font color="red">Streams.print</font>(file[i]);
     <font color="blue">end for</font>;
  <font color="blue">end </font>listFile;

  <font color="blue">function</font> sortDirectory <font color="darkgreen">
      &quot;Sort directory in directories and files with alphabetic order&quot;</font>
     <font color="blue">input </font>String directory <font color="darkgreen">
        &quot;Directory that was read (including a trailing '/')&quot;</font>;
     <font color="blue">input </font>String names[:] <font color="darkgreen">
        &quot;File and directory names of a directory in any order&quot;</font>;
     <font color="blue">output </font>String orderedNames[<font color="red">size</font>(names,1)] <font color="darkgreen">
        &quot;Names of directories followed by names of files&quot;</font>;
     <font color="blue">output </font>Integer nDirectories <font color="darkgreen">
        &quot;The first nDirectories entries in orderedNames are directories&quot;</font>;
    <font color="blue">protected </font>
     Integer nEntries = <font color="red">size</font>(names,1);
     Integer nFiles;
     Integer lenDirectory = <font color="red">Strings.length</font>(directory);
     String directory2;
  <font color="blue">algorithm </font>
     <font color="darkgreen">// Construct directory with a trailing &quot;/&quot;</font>
     directory2 := <font color="blue">if </font><font color="red">Strings.substring</font>(directory,lenDirectory,lenDirectory) == &quot;/&quot;<font color="blue"> then </font>
                      directory<font color="blue"> else </font>directory + &quot;/&quot;;

     <font color="darkgreen">// Distinguish directories and files</font>
     nDirectories := 0;
     nFiles := 0;
     <font color="blue">for </font>i<font color="blue"> in </font>1:nEntries<font color="blue"> loop</font>
        <font color="blue">if </font><font color="red">Internal.stat</font>(directory2 + names[i]) == Types.FileType.Directory<font color="blue"> then</font>
           nDirectories := nDirectories + 1;
           orderedNames[nDirectories] := names[i];
        <font color="blue">else</font>
           nFiles := nFiles + 1;
           orderedNames[nEntries - nFiles + 1] := names[i];
        <font color="blue">end if</font>;
     <font color="blue">end for</font>;

     <font color="darkgreen">// Sort files and directories alphabetically</font>
     <font color="blue">if </font>nDirectories &gt; 0<font color="blue"> then</font>
        orderedNames[1:nDirectories] := <font color="red">Strings.sort</font>(orderedNames[1:nDirectories], caseSensitive=false);
     <font color="blue">end if</font>;
     <font color="blue">if </font>nFiles &gt; 0<font color="blue"> then</font>
        orderedNames[nDirectories+1:nEntries] :=
                <font color="red">Strings.sort</font>(orderedNames[nDirectories+1:nEntries], caseSensitive=false);
     <font color="blue">end if</font>;
  <font color="blue">end </font>sortDirectory;

  <font color="blue">function</font> listDirectory <font color="darkgreen">&quot;List content of directory&quot;</font>
     <font color="blue">input </font>String directoryName;
     <font color="blue">input </font>Integer nEntries;
    <font color="blue">protected </font>
     String files[nEntries];
     Integer nDirectories;
  <font color="blue">algorithm </font>
     <font color="blue">if </font>nEntries &gt; 0<font color="blue"> then</font>
        <font color="red">Streams.print</font>(&quot;\nDirectory \&quot;&quot; + directoryName + &quot;\&quot;:&quot;);
        files :=<font color="red">  Internal.readDirectory</font>(directoryName, nEntries);
        (files, nDirectories) := <font color="red">sortDirectory</font>(directoryName, files);

        <font color="darkgreen">// List directories</font>
        <font color="blue">if </font>nDirectories &gt; 0<font color="blue"> then</font>
           <font color="red">Streams.print</font>(&quot;  Subdirectories:&quot;);
           <font color="blue">for </font>i<font color="blue"> in </font>1:nDirectories<font color="blue"> loop</font>
            <font color="red">  Streams.print</font>(&quot;    &quot; + files[i]);
           <font color="blue">end for</font>;
           <font color="red">Streams.print</font>(&quot; &quot;);
        <font color="blue">end if</font>;

        <font color="darkgreen">// List files</font>
        <font color="blue">if </font>nDirectories &lt; nEntries<font color="blue"> then</font>
           <font color="red">Streams.print</font>(&quot;  Files:&quot;);
           <font color="blue">for </font>i<font color="blue"> in </font>nDirectories+1:nEntries<font color="blue"> loop</font>
            <font color="red">  Streams.print</font>(&quot;    &quot; + files[i]);
           <font color="blue">end for</font>;
        <font color="blue">end if</font>;
     <font color="blue">else</font>
        <font color="red">Streams.print</font>(&quot;... Directory\&quot;&quot; + directoryName + &quot;\&quot; is empty&quot;);
     <font color="blue">end if</font>;
  <font color="blue">end </font>listDirectory;
<font color="blue">end </font>Local;

<font color="darkgreen">//..............................................................</font>

  <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> fileType;
<font color="blue">algorithm </font>
  fileType :=<font color="red"> Internal.stat</font>(name);
  <font color="blue">if </font>fileType == Types.FileType.RegularFile<font color="blue"> then</font>
    <font color="red"> Local.listFile</font>(name);
  <font color="blue">elseif </font>fileType == Types.FileType.Directory<font color="blue"> then</font>
    <font color="red"> Local.listDirectory</font>(name,<font color="red"> Internal.getNumberOfFiles</font>(name));
  <font color="blue">elseif </font>fileType == Types.FileType.SpecialFile<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;Cannot list file \&quot;&quot; + name + &quot;\&quot;\n&quot; +
                   &quot;since it is not a regular file (pipe, device, ...)&quot;);
  <font color="blue">else</font>
    <font color="red"> Streams.error</font>(&quot;Cannot list file or directory \&quot;&quot; + name + &quot;\&quot;\n&quot; +
                   &quot;since it does not exist&quot;);
  <font color="blue">end if</font>;
<font color="blue">end </font>list;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE copy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.copy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.copy"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.copy</H2>
<B>Generate a copy of a file or of a directory</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>copy</b>(oldName, newName);
Files.<b>copy</b>(oldName, newName, replace = true);
</pre></blockquote>
<h4>Description</h4>
<p>
Function <b>copy</b>(..) copies a file or a directory
to a new location. Via the optional argument <b>replace</b>
it can be defined whether an already existing file may
be replaced by the required copy.
</p>
<p>
If oldName/newName are directories, then the newName
directory may exist. In such a case the content of oldName
is copied into directory newName. If replace = <b>false</b>
it is required that the existing files
in newName are different from the existing files in
oldName.
</p>
<h4>Example</h4>
<blockquote><pre>
  copy("C:/test1/directory1", "C:/test2/directory2");
     -> the content of directory1 is copied into directory2
        if "C:/test2/directory2" does not exist, it is newly
        created. If "replace=true", files in directory2
        may be overwritten by their copy
  copy("test1.txt", "test2.txt")
     -> make a copy of file "test1.txt" with the name "test2.txt"
        in the current directory
</pre></blockquote>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>oldName</TD><TD>&nbsp;</TD><TD>Name of file or directory to be copied</TD></TR>
<TR><TD>String</TD><TD>newName</TD><TD>&nbsp;</TD><TD>Name of copy of the file or of the directory</TD></TR>
<TR><TD>Boolean</TD><TD>replace</TD><TD>false</TD><TD>= true, if an existing file may be replaced by the required copy</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> copy <font color="darkgreen">&quot;Generate a copy of a file or of a directory&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String oldName <font color="darkgreen">&quot;Name of file or directory to be copied&quot;</font>;
  <font color="blue">input </font>String newName <font color="darkgreen">&quot;Name of copy of the file or of the directory&quot;</font>;
  <font color="blue">input </font>Boolean replace=false <font color="darkgreen">
    &quot;= true, if an existing file may be replaced by the required copy&quot;</font>;
<font color="darkgreen">//..............................................................</font>
<font color="blue">protected </font>
  <font color="blue">encapsulated </font><font color="blue">function</font> copyDirectory <font color="darkgreen">&quot;Copy a directory&quot;</font>
      <font color="blue">import </font><A HREF="Modelica_Utilities.html#Modelica.Utilities"
>Modelica.Utilities</A>.*;
      <font color="blue">import </font><A HREF="Modelica_Utilities_Internal.html#Modelica.Utilities.Internal"
>Modelica.Utilities.Internal</A>;
     <font color="blue">input </font>String oldName <font color="darkgreen">
      &quot;Old directory name without trailing '/'; existance is guaranteed&quot;</font>;
     <font color="blue">input </font>String newName <font color="darkgreen">
      &quot;New diretory name without trailing '/'; directory was already created&quot;</font>;
     <font color="blue">input </font>Boolean replace <font color="darkgreen">&quot;= true, if an existing newName may be replaced&quot;</font>;
  <font color="blue">protected </font>
     Integer nNames = <font color="red">Internal.getNumberOfFiles</font>(oldName);
     String oldNames[nNames];
     String oldName_i;
     String newName_i;
  <font color="blue">algorithm </font>
     oldNames :=<font color="red">Internal.readDirectory</font>(oldName, nNames);
     <font color="blue">for </font>i<font color="blue"> in </font>1:nNames<font color="blue"> loop</font>
        oldName_i := oldName + &quot;/&quot; + oldNames[i];
        newName_i := newName + &quot;/&quot; + oldNames[i];
      <font color="red">  Files.copy</font>(oldName_i, newName_i, replace);
     <font color="blue">end for</font>;
  <font color="blue">end </font>copyDirectory;
<font color="darkgreen">//..............................................................</font>

  Integer lenOldName =<font color="red"> Strings.length</font>(oldName);
  Integer lenNewName =<font color="red"> Strings.length</font>(newName);
  String oldName2 = <font color="blue">if </font><font color="red">Strings.substring</font>(oldName,lenOldName,lenOldName) == &quot;/&quot;<font color="blue"> then </font>
                       <font color="red">Strings.substring</font>(oldName,1,lenOldName-1)<font color="blue"> else </font>oldName;
  String newName2 = <font color="blue">if </font><font color="red">Strings.substring</font>(newName,lenNewName,lenNewName) == &quot;/&quot;<font color="blue"> then </font>
                       <font color="red">Strings.substring</font>(newName,1,lenNewName-1)<font color="blue"> else </font>newName;
  <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> oldFileType =<font color="red"> Internal.stat</font>(oldName2);
  <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> newFileType;
<font color="blue">algorithm </font>
  <font color="blue">if </font>oldFileType == Types.FileType.NoFile<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;It is not possible to copy the file or directory\n&quot; +
                   &quot;\&quot;&quot; + oldName2 + &quot;\&quot; because it does not exist.&quot;);
  <font color="blue">elseif </font>oldFileType == Types.FileType.Directory<font color="blue"> then</font>
     newFileType :=<font color="red">Internal.stat</font>(newName2);
     <font color="blue">if </font>newFileType == Types.FileType.NoFile<font color="blue"> then</font>
      <font color="red">  createDirectory</font>(newName2);
     <font color="blue">elseif </font>newFileType == Types.FileType.RegularFile<font color="blue"> or </font>
            newFileType == Types.FileType.SpecialFile<font color="blue"> then</font>
        <font color="blue">if </font>replace<font color="blue"> then</font>
        <font color="red">   Files.removeFile</font>(newName2);
        <font color="red">   Files.createDirectory</font>(newName2);
        <font color="blue">else</font>
        <font color="red">   Streams.error</font>(&quot;Directory \&quot;&quot; + oldName2 + &quot;\&quot; should be copied to\n&quot; +
                         &quot;\&quot;&quot; + newName2 + &quot;\&quot; which is an existing file.\n&quot; +
                         &quot;Since argument replace=false, this is not allowed&quot;);
        <font color="blue">end if</font>;
     <font color="blue">end if</font>;
    <font color="red"> copyDirectory</font>(oldName2, newName2, replace);
  <font color="blue">else</font><font color="darkgreen"> // regular or special file</font>
     <font color="blue">if </font>replace<font color="blue"> then</font>
      <font color="red">  Files.removeFile</font>(newName2);
     <font color="blue">else</font>
      <font color="red">  Files.assertNew</font>(newName2, &quot;File \&quot;&quot; + oldName2 + &quot;\&quot; should be copied or moved to\n&quot; +
                                  &quot;\&quot;&quot; + newName2 + &quot;\&quot; which is an existing file or directory.\n&quot; +
                                  &quot;Since argument replace=false, this is not allowed&quot;);
     <font color="blue">end if</font>;
    <font color="red"> Internal.copyFile</font>(oldName2, newName2);
  <font color="blue">end if</font>;
<font color="blue">end </font>copy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE move<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.move" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.move"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.move</H2>
<B>Move a file or a directory to another place</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>move</b>(oldName, newName);
Files.<b>move</b>(oldName, newName, replace = true);
</pre></blockquote>
<h4>Description</h4>
<p>
Function <b>move</b>(..) moves a file or a directory
to a new location. Via the optional argument <b>replace</b>
it can be defined whether an already existing file may
be replaced.
</p>
<p>
If oldName/newName are directories, then the newName
directory may exist. In such a case the content of oldName
is moved into directory newName. If replace = <b>false</b>
it is required that the existing files
in newName are different from the existing files in
oldName.
</p>
<h4>Example</h4>
<blockquote><pre>
  move("C:/test1/directory1", "C:/test2/directory2");
     -> the content of directory1 is moved into directory2.
        Afterwards directory1 is deleted.
        if "C:/test2/directory2" does not exist, it is newly
        created. If "replace=true", files in directory2
        may be overwritten
   move("test1.txt", "test2.txt")
     -> rename file "test1.txt" into "test2.txt"
        within the current directory
</pre></blockquote>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>oldName</TD><TD>&nbsp;</TD><TD>Name of file or directory to be moved</TD></TR>
<TR><TD>String</TD><TD>newName</TD><TD>&nbsp;</TD><TD>New name of the moved file or directory</TD></TR>
<TR><TD>Boolean</TD><TD>replace</TD><TD>false</TD><TD>= true, if an existing file or directory may be replaced</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> move <font color="darkgreen">&quot;Move a file or a directory to another place&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String oldName <font color="darkgreen">&quot;Name of file or directory to be moved&quot;</font>;
  <font color="blue">input </font>String newName <font color="darkgreen">&quot;New name of the moved file or directory&quot;</font>;
  <font color="blue">input </font>Boolean replace=false <font color="darkgreen">
    &quot;= true, if an existing file or directory may be replaced&quot;</font>;
<font color="blue">algorithm </font>
  <font color="darkgreen">// if both oldName and newName are in the current directory</font>
  <font color="darkgreen">// use Internal.renameFile</font>
  <font color="blue">if </font><font color="red">Strings.find</font>(oldName,&quot;/&quot;) == 0<font color="blue"> and </font><font color="red">Strings.find</font>(newName,&quot;/&quot;) == 0<font color="blue"> then</font>
    <font color="red"> Internal.rename</font>(oldName, newName);
  <font color="blue">else</font>
    <font color="red"> Files.copy</font>(oldName, newName, replace);
    <font color="red"> Files.remove</font>(oldName);
  <font color="blue">end if</font>;
<font color="blue">end </font>move;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE remove<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.remove" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.remove"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.remove</H2>
<B>Remove file or directory (ignore call, if it does not exist)</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>remove</b>(name);
</pre></blockquote>
<h4>Description</h4>
<p>
Removes the file or directory "name". If "name" does not exist,
the function call is ignored. If "name" is a directory, first
the content of the directory is removed and afterwards
the directory itself.
</p>
<p>
This function is silent, i.e., it does not print a message.
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>name</TD><TD>&nbsp;</TD><TD>Name of file or directory to be removed</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> remove <font color="darkgreen">
  &quot;Remove file or directory (ignore call, if it does not exist)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String name <font color="darkgreen">&quot;Name of file or directory to be removed&quot;</font>;
<font color="darkgreen">//..............................................................</font>
<font color="blue">protected </font>
  <font color="blue">encapsulated </font><font color="blue">function</font> removeDirectory <font color="darkgreen">
    &quot;Remove a directory, even if it is not empty&quot;</font>
      <font color="blue">import </font><A HREF="Modelica_Utilities.html#Modelica.Utilities"
>Modelica.Utilities</A>.*;
      <font color="blue">import </font><A HREF="Modelica_Utilities_Internal.html#Modelica.Utilities.Internal"
>Modelica.Utilities.Internal</A>;
     <font color="blue">input </font>String name;
  <font color="blue">protected </font>
     Integer nNames = <font color="red">Internal.getNumberOfFiles</font>(name);
     Integer lenName = <font color="red">Strings.length</font>(name);
     String fileNames[nNames];
     <font color="darkgreen">// remove an optional trailing &quot;/&quot;</font>
     String name2 = <font color="blue">if </font><font color="red">Strings.substring</font>(name,lenName,lenName) == &quot;/&quot;<font color="blue"> then </font>
                       <font color="red">Strings.substring</font>(name,lenName-1,lenName-1)<font color="blue"> else </font>name;
  <font color="blue">algorithm </font>
     fileNames :=<font color="red">Internal.readDirectory</font>(name2, nNames);
     <font color="blue">for </font>i<font color="blue"> in </font>1:nNames<font color="blue"> loop</font>
      <font color="red">  Files.remove</font>(name2 + &quot;/&quot; + fileNames[i]);
     <font color="blue">end for</font>;
     <font color="red">Internal.rmdir</font>(name2);
  <font color="blue">end </font>removeDirectory;
<font color="darkgreen">//..............................................................</font>
  String fullName =<font color="red"> Files.fullPathName</font>(name);
  <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> fileType=<font color="red">Internal.stat</font>(fullName);
<font color="blue">algorithm </font>
  <font color="blue">if </font>fileType == Types.FileType.RegularFile<font color="blue"> or </font>
     fileType == Types.FileType.SpecialFile<font color="blue"> then</font>
    <font color="red"> Internal.removeFile</font>(fullName);
  <font color="blue">elseif </font>fileType == Types.FileType.Directory<font color="blue"> then</font>
    <font color="red"> removeDirectory</font>(fullName);
  <font color="blue">end if</font>;
<font color="blue">end </font>remove;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE removeFile<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.removeFile" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.removeFile"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.removeFile</H2>
<B>Remove file (ignore call, if it does not exist)</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>removeFile</b>(fileName);
</pre></blockquote>
<h4>Description</h4>
<p>
Removes the file "fileName". If "fileName" does not exist,
the function call is ignored. If "fileName" exists but is
no regular file (e.g., directory, pipe, device, etc.) an
error is triggered.
</p>
<p>
This function is silent, i.e., it does not print a message.
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>fileName</TD><TD>&nbsp;</TD><TD>Name of file that should be removed</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> removeFile <font color="darkgreen">&quot;Remove file (ignore call, if it does not exist)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String fileName <font color="darkgreen">&quot;Name of file that should be removed&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> fileType =<font color="red"> Internal.stat</font>(fileName);
<font color="blue">algorithm </font>
  <font color="blue">if </font>fileType == Types.FileType.RegularFile<font color="blue"> then</font>
    <font color="red"> Internal.removeFile</font>(fileName);
  <font color="blue">elseif </font>fileType == Types.FileType.Directory<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;File \&quot;&quot; + fileName + &quot;\&quot; should be removed.\n&quot; +
                   &quot;This is not possible, because it is a directory&quot;);
  <font color="blue">elseif </font>fileType == Types.FileType.SpecialFile<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;File \&quot;&quot; + fileName + &quot;\&quot; should be removed.\n&quot; +
                   &quot;This is not possible, because it is a special file (pipe, device, etc.)&quot;);
  <font color="blue">end if</font>;
<font color="blue">end </font>removeFile;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE createDirectory<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.createDirectory" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="d94c9e9a907880c3.createDirectory"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.createDirectory</H2>
<B>Create directory (if directory already exists, ignore call)</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>createDirectory</b>(directoryName);
</pre></blockquote>
<h4>Description</h4>
<p>
Creates directory "directorName". If this directory already exists,
the function call is ignored. If several directories in "directoryName"
do not exist, all of them are created. For example, assume
that directory "E:/test1" exists and that directory
"E:/test1/test2/test3" shall be created. In this case
the directories "test2" in "test1" and "test3" in "test2"
are created.
</p>
<p>
This function is silent, i.e., it does not print a message.
In case of error (e.g., "directoryName" is an existing regular
file), an assert is triggered.
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>directoryName</TD><TD>&nbsp;</TD><TD>Name of directory to be created (if present, ignore call)</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> createDirectory <font color="darkgreen">
  &quot;Create directory (if directory already exists, ignore call)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String directoryName <font color="darkgreen">
    &quot;Name of directory to be created (if present, ignore call)&quot;</font>;
<font color="darkgreen">//..............................................................</font>
<font color="blue">protected </font>
<font color="blue">encapsulated </font><font color="blue">package</font> Local <font color="darkgreen">&quot;Local utility functions&quot;</font>
      <font color="blue">import </font><A HREF="Modelica_Utilities.html#Modelica.Utilities"
>Modelica.Utilities</A>.*;
      <font color="blue">import </font><A HREF="Modelica_Utilities_Internal.html#Modelica.Utilities.Internal"
>Modelica.Utilities.Internal</A>;

  <font color="blue">function</font> existDirectory <font color="darkgreen">
      &quot;Inquire whether directory exists; if present and not a directory, trigger an error&quot;</font>
     <font color="blue">input </font>String directoryName;
     <font color="blue">output </font>Boolean exists <font color="darkgreen">&quot;true if directory exists&quot;</font>;
    <font color="blue">protected </font>
     <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> fileType = <font color="red">Internal.stat</font>(directoryName);
  <font color="blue">algorithm </font>
     <font color="blue">if </font>fileType == Types.FileType.RegularFile<font color="blue"> or </font>
        fileType == Types.FileType.SpecialFile<font color="blue"> then</font>
        <font color="red">Streams.error</font>(&quot;Directory \&quot;&quot; + directoryName + &quot;\&quot; cannot be created\n&quot; +
                      &quot;because this is an existing file.&quot;);
     <font color="blue">elseif </font>fileType == Types.FileType.Directory<font color="blue"> then</font>
        exists :=true;
     <font color="blue">else</font>
        exists :=false;
     <font color="blue">end if</font>;
  <font color="blue">end </font>existDirectory;

  <font color="blue">function</font> assertCorrectIndex <font color="darkgreen">
      &quot;Print error, if index to last essential character in directory is wrong&quot;</font>
     <font color="blue">input </font>Integer index <font color="darkgreen">&quot;Index must be &gt; 0&quot;</font>;
     <font color="blue">input </font>String directoryName <font color="darkgreen">&quot;Directory name for error message&quot;</font>;
  <font color="blue">algorithm </font>
     <font color="blue">if </font>index &lt; 1<font color="blue"> then</font>
        <font color="red">Streams.error</font>(&quot;It is not possible to create the directory\n&quot; +
                      &quot;\&quot;&quot; + directoryName + &quot;\&quot;\n&quot; +
                      &quot;because this directory name is not valid&quot;);
     <font color="blue">end if</font>;
  <font color="blue">end </font>assertCorrectIndex;
<font color="blue">end </font>Local;
<font color="darkgreen">//..............................................................</font>
  String fullName;
  Integer index;
  Integer oldIndex;
  Integer lastIndex;
  Boolean found;
  Boolean finished;
  Integer nDirectories = 0 <font color="darkgreen">&quot;Number of directories that need to be generated&quot;</font>;
<font color="blue">algorithm </font>
  <font color="darkgreen">// Ignore call, if directory exists</font>
  <font color="blue">if </font><font color="blue">not </font><font color="red">Local.existDirectory</font>(directoryName)<font color="blue"> then</font>
     fullName :=<font color="red"> Files.fullPathName</font>(directoryName);

    <font color="darkgreen"> // Remove a trailing &quot;/&quot;</font>
        index :=<font color="red">Strings.length</font>(fullName);
        <font color="blue">if </font><font color="red">Strings.substring</font>(fullName,index,index) == &quot;/&quot;<font color="blue"> then</font>
           index :=index - 1;
      <font color="red">     Local.assertCorrectIndex</font>(index,fullName);
        <font color="blue">end if</font>;
        lastIndex := index;
        fullName :=<font color="red"> Strings.substring</font>(fullName,1,index);

    <font color="darkgreen"> // Search upper directories until a directory is found that exists</font>
    <font color="darkgreen"> // ??? check the following while loop later, if also cases such as</font>
    <font color="darkgreen"> //  &quot;c:/&quot;, &quot;c:&quot;, &quot;//name&quot; are handled correctly ???</font>
        found := false;
        <font color="blue">while </font><font color="blue">not </font>found<font color="blue"> loop</font>
           oldIndex := index;
           index :=<font color="red"> Strings.findLast</font>(fullName,&quot;/&quot;,startIndex=index);
           <font color="blue">if </font>index == 0<font color="blue"> then</font>
              index := oldIndex;
              found := true;
           <font color="blue">else</font>
              index := index - 1;
        <font color="red">      Local.assertCorrectIndex</font>(index, fullName);
              found :=<font color="red"> Local.existDirectory</font>(<font color="red">Strings.substring</font>(fullName,1,index));
           <font color="blue">end if</font>;
        <font color="blue">end while</font>;
        index := oldIndex;

    <font color="darkgreen"> // Create directories</font>
        finished := false;
        <font color="blue">while </font><font color="blue">not </font>finished<font color="blue"> loop</font>
      <font color="red">     Internal.mkdir</font>(<font color="red">Strings.substring</font>(fullName,1,index));
           <font color="blue">if </font>index &gt;= lastIndex<font color="blue"> then</font>
              finished := true;
           <font color="blue">elseif </font>index &lt; lastIndex<font color="blue"> then</font>
              index :=<font color="red"> Strings.find</font>(fullName, &quot;/&quot;, startIndex=index+2);
              <font color="blue">if </font>index == 0<font color="blue"> then</font>
                 index :=lastIndex;
              <font color="blue">end if</font>;
           <font color="blue">end if</font>;
        <font color="blue">end while</font>;
  <font color="blue">end if</font>;
<font color="blue">end </font>createDirectory;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE exist<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.exist" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.exist"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.exist</H2>
<B>Inquire whether file or directory exists</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
result = Files.<b>exist</b>(name);
</pre></blockquote>
<h4>Description</h4>
<p>
Returns true, if "name" is an existing file or directory.
If this is not the case, the function returns false.
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>name</TD><TD>&nbsp;</TD><TD>Name of file or directory</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>result</TD><TD>= true, if file or directory exists</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> exist <font color="darkgreen">&quot;Inquire whether file or directory exists&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String name <font color="darkgreen">&quot;Name of file or directory&quot;</font>;
  <font color="blue">output </font>Boolean result <font color="darkgreen">&quot;= true, if file or directory exists&quot;</font>;
<font color="blue">algorithm </font>
  result :=<font color="red"> Internal.stat</font>(name) &gt; Types.FileType.NoFile;
<font color="blue">end </font>exist;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE assertNew<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.assertNew" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.assertNew"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.assertNew</H2>
<B>Trigger an assert, if a file or directory exists</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
Files.<b>assertNew</b>(name);
Files.<b>assertNew</b>(name, message="This is not allowed");
</pre></blockquote>
<h4>Description</h4>
<p>
Triggers an assert, if "name" is an existing file or
directory. The error message has the following structure:
</p>
<pre>
  File "&lt;name&gt;" already exists.
  &lt;message&gt;
</pre>
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>name</TD><TD>&nbsp;</TD><TD>Name of file or directory</TD></TR>
<TR><TD>String</TD><TD>message</TD><TD>&quot;This is not allowed.&quot;</TD><TD>Message that should be printed after the default message in a new line</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> assertNew <font color="darkgreen">&quot;Trigger an assert, if a file or directory exists&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String name <font color="darkgreen">&quot;Name of file or directory&quot;</font>;
  <font color="blue">input </font>String message=&quot;This is not allowed.&quot; <font color="darkgreen">
    &quot;Message that should be printed after the default message in a new line&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_Utilities_Types_FileType.html#75e03a0d34c45645es.FileType.Type"
>Types.FileType.Type</A> fileType =<font color="red"> Internal.stat</font>(name);
<font color="blue">algorithm </font>
  <font color="blue">if </font>fileType == Types.FileType.RegularFile<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;File \&quot;&quot; + name + &quot;\&quot; already exists.\n&quot; + message);
  <font color="blue">elseif </font>fileType == Types.FileType.Directory<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;Directory \&quot;&quot; + name + &quot;\&quot; already exists.\n&quot; + message);
  <font color="blue">elseif </font>fileType == Types.FileType.SpecialFile<font color="blue"> then</font>
    <font color="red"> Streams.error</font>(&quot;A special file (pipe, device, etc.) \&quot;&quot; + name + &quot;\&quot; already exists.\n&quot; + message);
  <font color="blue">end if</font>;
<font color="blue">end </font>assertNew;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE fullPathName<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.fullPathName" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Utilities.Files.fullPathName"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.fullPathName</H2>
<B>Get full path name of file or directory name</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
fullName = Files.<b>fullPathName</b>(name);
</pre></blockquote>
<h4>Description</h4>
<p>
Returns the full path name of a file or directory "name".
</p>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>name</TD><TD>&nbsp;</TD><TD>Absolute or relative file or directory name</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>fullName</TD><TD>Full path of 'name'</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> fullPathName <font color="darkgreen">&quot;Get full path name of file or directory name&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String name <font color="darkgreen">&quot;Absolute or relative file or directory name&quot;</font>;
  <font color="blue">output </font>String fullName <font color="darkgreen">&quot;Full path of 'name'&quot;</font>;
<font color="blue">external </font>&quot;C&quot; fullName = <font color="red">ModelicaInternal_fullPathName</font>(name);
<font color="blue">end </font>fullPathName;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE splitPathName<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.splitPathName" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="684b5adb443494aaes.splitPathName"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.splitPathName</H2>
<B>Split path name in directory, file name kernel, file name extension</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
(directory, name, extension) = Files.<b>splitPathName</b>(pathName);
</pre></blockquote>
<h4>Description</h4>
<p>
Function <b>splitPathName</b>(..) splits a path name into its parts.
</p>
<h4>Example</h4>
<pre>
  (directory, name, extension) = Files.splitPathName("C:/user/test/input.txt")

  -> directory = "C:/user/test/"
     name      = "input"
     extension = ".txt"
</pre>
<pre></PRE>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>pathName</TD><TD>&nbsp;</TD><TD>Absolute or relative file or directory name</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>directory</TD><TD>Name of the directory including a trailing '/'</TD></TR>
<TR><TD>String</TD><TD>name</TD><TD>Name of the file without the extension</TD></TR>
<TR><TD>String</TD><TD>extension</TD><TD>Extension of the file name. Starts with '.'</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> splitPathName <font color="darkgreen">
  &quot;Split path name in directory, file name kernel, file name extension&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font>String pathName <font color="darkgreen">&quot;Absolute or relative file or directory name&quot;</font>;
  <font color="blue">output </font>String directory <font color="darkgreen">&quot;Name of the directory including a trailing '/'&quot;</font>;
  <font color="blue">output </font>String name <font color="darkgreen">&quot;Name of the file without the extension&quot;</font>;
  <font color="blue">output </font>String extension <font color="darkgreen">&quot;Extension of the file name. Starts with '.'&quot;</font>;
<font color="blue">protected </font>
  Integer lenPath =<font color="red"> Strings.length</font>(pathName);
  Integer i = lenPath;
  Integer indexDot = 0;
  Integer indexSlash = 0;
  String c;
<font color="blue">algorithm </font>
  <font color="blue">while </font>i &gt;= 1<font color="blue"> loop</font>
    c :=<font color="red">Strings.substring</font>(pathName, i, i);
    <font color="blue">if </font>c == &quot;.&quot;<font color="blue"> then</font>
       indexDot := i;
       i := 0;
    <font color="blue">elseif </font>c == &quot;/&quot;<font color="blue"> then</font>
       indexSlash := i;
       i := 0;
    <font color="blue">else</font>
       i := i - 1;
    <font color="blue">end if</font>;
  <font color="blue">end while</font>;

  <font color="blue">if </font>indexSlash == lenPath<font color="blue"> then</font>
     directory := pathName;
     name      := &quot;&quot;;
     extension := &quot;&quot;;
  <font color="blue">elseif </font>indexDot &gt; 0<font color="blue"> then</font>
     indexSlash :=<font color="red">Strings.findLast</font>(pathName, &quot;/&quot;, startIndex=indexDot - 1);
     <font color="blue">if </font>indexSlash == 0<font color="blue"> then</font>
        directory :=&quot;&quot;;
        name :=<font color="red">Strings.substring</font>(pathName, 1, indexDot - 1);
     <font color="blue">else</font>
        directory :=<font color="red">Strings.substring</font>(pathName, 1, indexSlash);
        name :=<font color="red">Strings.substring</font>(pathName, indexSlash + 1, indexDot - 1);
     <font color="blue">end if</font>;
     extension :=<font color="red">Strings.substring</font>(pathName, indexDot, lenPath);
   <font color="blue">else</font>
     extension :=&quot;&quot;;
     <font color="blue">if </font>indexSlash &gt; 0<font color="blue"> then</font>
       directory :=<font color="red">Strings.substring</font>(pathName, 1, indexSlash);
       name :=<font color="red">Strings.substring</font>(pathName, indexSlash + 1, lenPath);
     <font color="blue">else</font>
       directory :=&quot;&quot;;
       name :=pathName;
     <font color="blue">end if</font>;
   <font color="blue">end if</font>;
<font color="blue">end </font>splitPathName;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE temporaryFileName<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Utilities.Files.listI.png" ALT="Modelica.Utilities.Files.temporaryFileName" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="d95ab089e9b5b3bdemporaryFileName"></A><A HREF="Modelica_Utilities_Files.html#Modelica.Utilities.Files"
>Modelica.Utilities.Files</A>.temporaryFileName</H2>
<B>Return arbitrary name of a file that does not exist and is in a directory where access rights allow to write to this file (useful for temporary output of files)</B><p>
<H3>Information</H3>
<PRE></pre>
<h4>Syntax</h4>
<blockquote><pre>
fileName = Files.<b>temporaryFileName</b>();
</pre></blockquote>
<h4>Description</h4>
<p>
Return arbitrary name of a file that does not exist
and is in a directory where access rights allow to
write to this file (useful for temporary output of files).
</p>
<pre></PRE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>String</TD><TD>fileName</TD><TD>Full path name of temporary file</TD></TR>
</TABLE>
<H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> temporaryFileName <font color="darkgreen">
  &quot;Return arbitrary name of a file that does not exist and is in a directory where access rights allow to write to this file (useful for temporary output of files)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">output </font>String fileName <font color="darkgreen">&quot;Full path name of temporary file&quot;</font>;
  <font color="blue">external </font>&quot;C&quot; fileName=<font color="red">ModelicaInternal_temporaryFileName</font>(0);
<font color="blue">end </font>temporaryFileName;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Fri Sep 07 19:14:10 2007.
</address></BODY>
</HTML>
